<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modal Dialog Component - Example</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --panel: #fff;
      --shadow: 0 10px 25px rgba(0,0,0,.25);
      --radius: 12px;
      --overlay: rgba(0,0,0,.5);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: #111;
    }
    .container {
      padding: 2rem;
      max-width: 720px;
      margin: 0 auto;
      text-align: left;
    }
    h1 { margin-top: 0; font-size: 1.75rem; }
    p { line-height: 1.5; color: #555; }
    .trigger {
      padding: 0.75rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background: #0b5ed7;
      color: white;
      cursor: pointer;
    }
    .trigger:hover { background: #0a58ca; }
    .trigger:focus { outline: 2px solid #0b5ed7; outline-offset: 2px; }

    /* Modal styles */
    .modal-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,.5);
      padding: 1rem;
      z-index: 1000;
    }
    .modal-overlay.open { display: flex; }
    .modal {
      width: min(600px, 95vw);
      background: #fff;
      border-radius: 12px;
      box-shadow: var(--shadow);
      overflow: hidden;
      outline: none;
    }
    .modal__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid #eee;
    }
    .modal__title { font-size: 1.125rem; margin: 0; }
    .modal__close {
      background: transparent;
      border: 0;
      font-size: 1.25rem;
      line-height: 1;
      cursor: pointer;
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
    }
    .modal__close:hover { background: #f2f2f2; }
    .modal__body { padding: 1rem 1.25rem; color: #333; line-height: 1.5; }
    .modal__footer {
      display: flex;
      justify-content: flex-end;
      gap: 0.5rem;
      padding: 0.75rem 1rem 1rem;
      border-top: 1px solid #eee;
    }
    .button {
      padding: 0.6rem 1rem;
      border: 1px solid #ccc;
      background: #fff;
      border-radius: 6px;
      cursor: pointer;
    }
    .button:hover { background: #f5f5f5; }
    .button--primary {
      background: #0b5ed7;
      color: white;
      border-color: #0b5ed7;
    }
    .button--primary:hover { background: #0a58ca; }

    @media (prefers-reduced-motion: reduce) {
      .modal { transition: none; }
    }
  </style>
</head>
<body>
  <div class="container" aria-label="Modal demo container">
    <h1>Modal Dialog Example</h1>
    <p>This page demonstrates a reusable modal dialog component. The dialog is closed by default. Click the button below to open it.</p>
    <button class="trigger" aria-controls="demo-modal" aria-expanded="false">Open modal</button>
  </div>

  <div class="modal-overlay" id="demo-modal-overlay" aria-hidden="true" role="presentation">
    <div class="modal" id="demo-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-desc" tabindex="-1">
      <header class="modal__header">
        <h2 class="modal__title" id="modal-title">Sample Modal Title</h2>
        <button class="modal__close" aria-label="Close modal" data-close>Ã—</button>
      </header>
      <section class="modal__body" id="modal-desc">
        <p>This is a simple accessible modal dialog. It starts closed. You can open it by clicking the button above, or by pressing the Escape key while it is open. Clicking outside the dialog or pressing the Close button will close it.</p>
      </section>
      <footer class="modal__footer">
        <button class="button" data-close>Close</button>
        <button class="button button--primary" data-action="confirm" data-close>Okay</button>
      </footer>
    </div>
  </div>

  <script>
    (function(){
      const triggerBtn = document.querySelector('.trigger');
      const overlay = document.getElementById('demo-modal-overlay');
      const modal = document.getElementById('demo-modal');
      let lastFocus = null;

      function openModal() {
        lastFocus = document.activeElement;
        overlay.classList.add('open');
        overlay.setAttribute('aria-hidden', 'false');
        triggerBtn.setAttribute('aria-expanded', 'true');
        document.body.style.overflow = 'hidden';
        // Move focus to the first interactive element in the modal
        const focusable = modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        if (focusable) focusable.focus();
        modal.setAttribute('tabindex','-1');
      }

      function closeModal() {
        overlay.classList.remove('open');
        overlay.setAttribute('aria-hidden', 'true');
        triggerBtn.setAttribute('aria-expanded', 'false');
        document.body.style.overflow = '';
        modal.removeAttribute('tabindex');
        if (lastFocus) lastFocus.focus();
      }

      // Open when trigger clicked
      triggerBtn.addEventListener('click', openModal);

      // Close when clicking on overlay background
      overlay.addEventListener('click', function(e){
        if (e.target === overlay) {
          closeModal();
        }
      });

      // Close when pressing Escape
      document.addEventListener('keydown', function(e){
        if (e.key === 'Escape' && overlay.classList.contains('open')) {
          closeModal();
        }
      });

      // Close via any element with data-close
      modal.querySelectorAll('[data-close]').forEach(function(el){
        el.addEventListener('click', closeModal);
      });
    })();
  </script>
</body>
</html>