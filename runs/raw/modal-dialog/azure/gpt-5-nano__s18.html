<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Modal Dialog Component Example</title>
  <style>
    :root {
      --backdrop: rgba(0, 0, 0, 0.5);
      --panel: #fff;
      --radius: 10px;
      --shadow: 0 10px 25px rgba(0,0,0,0.25);
    }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      padding: 2rem;
      line-height: 1.5;
    }

    /* Trigger button */
    .trigger {
      padding: 0.75rem 1.25rem;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background: #4a90e2;
      color: #fff;
      cursor: pointer;
    }
    .trigger:hover, .trigger:focus {
      outline: 2px solid #1b4f92;
      outline-offset: 2px;
    }

    /* Modal overlay */
    .modal {
      position: fixed;
      inset: 0;
      display: none; /* closed by default */
      align-items: center;
      justify-content: center;
      background: var(--backdrop);
      padding: 1rem;
      z-index: 1000;
    }
    .modal.open {
      display: flex;
    }

    /* Modal content panel */
    .modal-content {
      position: relative;
      width: min(90vw, 560px);
      max-width: 560px;
      background: var(--panel);
      border-radius: var(--radius);
      padding: 1.25rem 1.25rem 1.25rem 1.25rem;
      box-shadow: var(--shadow);
    }

    /* Close button inside modal (top-right) */
    .modal-content .close {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      border: none;
      background: transparent;
      font-size: 1.25rem;
      line-height: 1;
      cursor: pointer;
      color: #555;
    }
    .modal-content .close:hover,
    .modal-content .close:focus {
      color: #000;
      outline: none;
    }

    h2 {
      margin-top: 0;
      margin-bottom: 0.75rem;
    }
    p {
      margin-top: 0;
    }

    /* Simple page look for demonstration */
    header {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <header>Modal Dialog Component Demo</header>

  <!-- Button to open the modal (has class "trigger" as requested) -->
  <button class="trigger" type="button" aria-haspopup="dialog" aria-controls="exampleModal" aria-expanded="false">
    Open modal
  </button>

  <!-- Modal dialog (closed by default) -->
  <div id="exampleModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc" aria-hidden="true">
    <div class="modal-content" role="document">
      <button class="close" aria-label="Close modal">&times;</button>
      <h2 id="modalTitle">Example Modal</h2>
      <p id="modalDesc">This is a simple modal dialog component. It is closed by default and can be opened by clicking the button above. You can close it by clicking the close button, pressing Escape, or clicking outside the content area.</p>
      <p><strong>Note:</strong> This example uses plain HTML, CSS, and vanilla JavaScript for accessibility-friendly behavior.</p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var modal = document.getElementById('exampleModal');
      var trigger = document.querySelector('.trigger');
      var closeBtn = modal.querySelector('.close');
      var focusableSelector = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';

      function openModal() {
        modal.classList.add('open');
        modal.setAttribute('aria-hidden', 'false');
        trigger.setAttribute('aria-expanded', 'true');

        // Focus the first focusable element inside the modal
        var focusables = modal.querySelectorAll(focusableSelector);
        if (focusables.length) {
          focusables[0].focus();
        }

        // Bind event listeners for closing
        document.addEventListener('mousedown', handleOutsideClick);
        document.addEventListener('keydown', handleKeyDown);
      }

      function closeModal() {
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden', 'true');
        trigger.setAttribute('aria-expanded', 'false');
        trigger.focus();
        document.removeEventListener('mousedown', handleOutsideClick);
        document.removeEventListener('keydown', handleKeyDown);
      }

      function handleOutsideClick(e) {
        // If user clicks on the backdrop (the modal element itself), close
        if (e.target === modal) {
          closeModal();
        }
      }

      function handleKeyDown(e) {
        if (e.key === 'Escape' || e.key === 'Esc') {
          closeModal();
        }
      }

      // Open modal when trigger is clicked
      trigger.addEventListener('click', openModal);

      // Close modal when the internal close button is clicked
      closeBtn.addEventListener('click', closeModal);

      // Optional: close on pressing Enter on the overlay when focused (not required)
    });
  </script>
</body>
</html>