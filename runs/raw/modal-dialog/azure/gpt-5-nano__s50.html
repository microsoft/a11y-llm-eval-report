<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Modal Dialog Example</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --text: #1e232a;
      --primary: #4a90e2;
      --surface: #ffffff;
      --muted: #6b7280;
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color: var(--text);
      background: var(--bg);
    }

    .container {
      max-width: 720px;
      margin: 64px auto;
      padding: 0 16px;
    }

    h1 {
      font-size: 1.75rem;
      margin: 0 0 0.5rem;
    }

    p {
      color: var(--muted);
      margin-top: 0;
      margin-bottom: 1.25rem;
    }

    /* Trigger button (must have class="trigger") */
    .trigger {
      padding: 0.65rem 1.15rem;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #cbd5e1;
      background: #fff;
      cursor: pointer;
      transition: transform .2s ease;
    }
    .trigger:hover { transform: translateY(-1px); }
    .trigger:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }

    /* Modal backdrop and dialog */
    .modal {
      display: none; /* closed by default */
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      align-items: center;
      justify-content: center;
      padding: 1rem;
      z-index: 1000;
    }

    .modal.open {
      display: flex;
    }

    .modal-content {
      width: min(90%, 520px);
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0,0,0,.25);
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      border-bottom: 1px solid #eee;
      background: #f9fafb;
    }

    .modal-title {
      margin: 0;
      font-size: 1.125rem;
    }

    .close {
      background: transparent;
      border: 0;
      font-size: 1.25rem;
      line-height: 1;
      cursor: pointer;
      padding: 0.25rem 0.5rem;
    }

    .modal-body {
      padding: 1rem;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      padding: 0.75rem 1rem;
      border-top: 1px solid #eee;
      background: #fafafa;
    }

    .secondary {
      background: #fff;
      border: 1px solid #cbd5e1;
      padding: 0.5rem 0.85rem;
      border-radius: 6px;
      cursor: pointer;
    }

    .primary {
      background: var(--primary);
      color: #fff;
      border: 0;
      padding: 0.5rem 0.95rem;
      border-radius: 6px;
      cursor: pointer;
    }

    @media (prefers-reduced-motion: reduce) {
      .modal-content { transition: none; }
    }
  </style>
</head>
<body>
  <div class="container" aria-label="Main content">
    <h1>Modal Dialog Component</h1>
    <p>This example demonstrates a modal dialog that is closed by default. A button with the class "trigger" opens it.</p>
    <button class="trigger" type="button" aria-controls="demo-modal" aria-expanded="false">Open modal</button>
  </div>

  <div class="modal" id="demo-modal" role="dialog" aria-labelledby="modal-title" aria-modal="true" aria-hidden="true">
    <div class="modal-content" role="document">
      <div class="modal-header">
        <h2 class="modal-title" id="modal-title">Modal Title</h2>
        <button class="close" id="demo-modal-close" type="button" aria-label="Close modal">Ã—</button>
      </div>
      <div class="modal-body">
        <p>This is an example of a modal dialog component. It is closed by default. You can close it by clicking the overlay, pressing Escape, or using the Close button in the header or the actions in the footer.</p>
      </div>
      <div class="modal-footer">
        <button class="secondary" type="button" onclick="closeModal()">Close</button>
        <button class="primary" type="button" onclick="closeModal()">Okay</button>
      </div>
    </div>
  </div>

  <script>
    (function() {
      const openTriggers = document.querySelectorAll('.trigger');
      const modal = document.getElementById('demo-modal');
      const closeBtn = document.getElementById('demo-modal-close');

      function openModal() {
        modal.classList.add('open');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        openTriggers.forEach(t => t.setAttribute('aria-expanded', 'true'));
        // Move focus to close button for accessibility
        if (closeBtn) closeBtn.focus();
      }

      function closeModal() {
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
        openTriggers.forEach(t => t.setAttribute('aria-expanded', 'false'));
      }

      openTriggers.forEach(btn => btn.addEventListener('click', openModal));

      // Close when clicking on the backdrop (overlay)
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });

      // Close on Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('open')) closeModal();
      });

      // Expose closeModal globally for inline onclick handlers
      window.closeModal = closeModal;
    })();
  </script>
</body>
</html>