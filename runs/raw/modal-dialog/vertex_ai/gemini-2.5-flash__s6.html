<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Dialog Component</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f2f5;
            color: #333;
        }

        button.trigger {
            padding: 12px 25px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
            transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
        }

        button.trigger:hover {
            background-color: #0056b3;
            box-shadow: 0 6px 15px rgba(0, 123, 255, 0.3);
            transform: translateY(-2px);
        }

        button.trigger:active {
            transform: translateY(0);
            box-shadow: 0 3px 8px rgba(0, 123, 255, 0.2);
        }

        /* Modal styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Overlay background */
            display: flex; /* Use flexbox to center content */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            z-index: 1000; /* Ensure modal is on top */

            opacity: 0;
            visibility: hidden;
            pointer-events: none; /* Prevent interaction when hidden */
            transition: opacity 0.3s ease, visibility 0.3s ease;
            /* Optional: backdrop blur for modern browsers */
            -webkit-backdrop-filter: blur(8px); /* Safari support */
            backdrop-filter: blur(8px); /* Standard */
        }

        .modal.open {
            opacity: 1;
            visibility: visible;
            pointer-events: auto; /* Allow interaction when open */
        }

        .modal-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
            width: 90%;
            max-width: 550px;
            position: relative;
            transform: translateY(-30px); /* Initial position for entry animation */
            opacity: 0; /* Initial opacity for entry animation */
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .modal.open .modal-content {
            transform: translateY(0); /* Final position */
            opacity: 1; /* Final opacity */
        }

        .close-button {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 32px;
            font-weight: 300;
            line-height: 1;
            color: #888;
            cursor: pointer;
            transition: color 0.2s ease, transform 0.2s ease;
        }

        .close-button:hover,
        .close-button:focus {
            color: #333;
            transform: rotate(90deg);
            outline: none; /* Remove outline for aesthetics, but ensure keyboard accessibility */
        }

        h2 {
            margin-top: 0;
            margin-bottom: 20px;
            color: #333;
            font-size: 28px;
            font-weight: 700;
        }

        p {
            color: #555;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 16px;
        }

        p:last-of-type {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <button class="trigger">Open Modal</button>

    <div id="myModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
        <div class="modal-content">
            <span class="close-button" aria-label="Close modal">&times;</span>
            <h2 id="modalTitle">Welcome to the Modal!</h2>
            <p>This is a custom modal dialog created with HTML, CSS, and JavaScript.</p>
            <p>It's closed by default and opens when you click the 'Open Modal' button. You can close it by clicking the 'X' button, pressing the Escape key, or clicking outside the modal content.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('myModal');
            const trigger = document.querySelector('.trigger');
            const closeButton = document.querySelector('.close-button');
            let focusReturnElement = null; // To store the element that had focus before opening the modal

            function openModal() {
                focusReturnElement = document.activeElement; // Store the currently focused element
                modal.classList.add('open');
                modal.setAttribute('aria-hidden', 'false');
                modal.focus(); // Focus the modal container itself
                // Optional: To focus the first interactive element inside the modal:
                // const firstFocusable = modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                // if (firstFocusable) {
                //     firstFocusable.focus();
                // } else {
                //     closeButton.focus(); // Fallback to close button
                // }
            }

            function closeModal() {
                modal.classList.remove('open');
                modal.setAttribute('aria-hidden', 'true');
                if (focusReturnElement) {
                    focusReturnElement.focus(); // Return focus to the element that triggered the modal
                }
            }

            trigger.addEventListener('click', openModal);
            closeButton.addEventListener('click', closeModal);

            // Close when clicking outside the modal content (on the overlay)
            modal.addEventListener('click', function(event) {
                if (event.target === modal) { // Check if the click was directly on the modal backdrop
                    closeModal();
                }
            });

            // Close with Escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && modal.classList.contains('open')) {
                    closeModal();
                }
            });

            // Set initial aria-hidden state
            modal.setAttribute('aria-hidden', 'true');
        });
    </script>
</body>
</html>