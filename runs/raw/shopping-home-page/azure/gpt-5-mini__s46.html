<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopQuick — Home</title>
  <meta name="description" content="ShopQuick — popular items, unbeatable deals, and curated blog posts to help you shop smarter." />
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#ff6b6b;
      --accent-2:#3b82f6;
      --glass: rgba(255,255,255,0.6);
      --radius:12px;
      --shadow: 0 6px 20px rgba(19,24,36,0.08);
      --max-width:1200px;
      --gap:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#f7fafc 0%,var(--bg) 100%);
      color:#111827;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.35;
      display:flex; justify-content:center;
      padding:28px 18px;
    }
    .container{
      width:100%;
      max-width:var(--max-width);
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:22px;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo{
      width:44px; height:44px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent-2),#7c3aed 60%);
      display:flex; align-items:center; justify-content:center;
      color:white; font-weight:700; box-shadow:var(--shadow);
      flex-shrink:0;
    }
    nav{
      display:flex;
      gap:12px;
      align-items:center;
    }
    nav a{
      color:var(--muted);
      text-decoration:none;
      font-weight:600;
      padding:8px 10px;
      border-radius:8px;
      transition:all .16s;
    }
    nav a:hover{background:rgba(0,0,0,0.03); color:#111827}
    .actions{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .searchbar{
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      padding:8px 12px;
      border-radius:999px;
      box-shadow:var(--shadow);
    }
    .searchbar input{
      border:0; outline:0; background:transparent; width:260px;
      font-size:14px; color:#111827;
    }
    .icon-btn{
      background:transparent;
      border:0;
      padding:8px;
      border-radius:10px;
      cursor:pointer;
    }
    .hero{
      background: linear-gradient(90deg, rgba(59,130,246,0.08), rgba(99,102,241,0.04));
      padding:28px;
      border-radius:var(--radius);
      display:flex;
      gap:24px;
      align-items:center;
      margin-bottom:22px;
      box-shadow:var(--shadow);
    }
    .hero-left{
      flex:1;
    }
    .badge{
      display:inline-block;
      background:var(--accent);
      color:white; padding:6px 10px;
      border-radius:999px; font-weight:700; font-size:13px;
    }
    .hero h1{margin:12px 0 6px; font-size:28px}
    .hero p{margin:0;color:var(--muted)}
    .cta{
      margin-top:14px;
      display:flex;
      gap:10px;
    }
    .btn{
      padding:10px 14px;
      border-radius:10px;
      border:0;
      cursor:pointer;
      font-weight:700;
    }
    .btn-primary{background:var(--accent-2); color:white; box-shadow:0 10px 30px rgba(59,130,246,0.14)}
    .btn-outline{background:transparent; border:1px solid rgba(17,24,39,0.06); color:#111827}
    .hero-right{
      width:320px;
      display:grid;
      gap:10px;
    }
    .mini-card{
      background:linear-gradient(180deg,rgba(255,255,255,0.8), rgba(255,255,255,0.6));
      padding:12px;
      border-radius:12px;
      display:flex;
      gap:12px;
      align-items:center;
      box-shadow:var(--shadow);
    }
    .mini-card svg{width:48px;height:48px;flex-shrink:0}
    .mini-card .meta{font-weight:700}
    section{margin-bottom:26px}
    h2.section-title{display:flex; align-items:center; justify-content:space-between; margin:0 0 12px}
    .grid{
      display:grid;
      gap:var(--gap);
    }
    .products.grid{
      grid-template-columns: repeat(3,1fr);
    }
    .product{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .product .thumb{
      height:160px;
      border-radius:10px;
      overflow:hidden;
      display:flex; align-items:center; justify-content:center;
      background:linear-gradient(135deg,#f2f8ff,#ffffff);
      margin-bottom:4px;
    }
    .product .thumb svg{width:70%; height:70%}
    .product .title{font-weight:700}
    .meta-row{display:flex; justify-content:space-between; align-items:center; gap:8px}
    .price{font-weight:800; color:#0f172a}
    .muted{color:var(--muted); font-size:13px}
    .rating{display:flex; gap:6px; align-items:center; color:#f59e0b}
    .card-actions{display:flex; gap:8px; margin-top:auto}
    .btn-add{flex:1; background:linear-gradient(90deg,#10b981,#06b6d4); color:white; padding:8px;border-radius:10px;border:0}
    .fav{background:transparent; border:1px solid rgba(0,0,0,0.06); padding:8px; border-radius:10px}
    .deals{
      display:flex;
      gap:12px;
      overflow:auto;
      padding-bottom:6px;
    }
    .deal-card{
      min-width:260px;
      background:linear-gradient(180deg,#fff8f8,#fff);
      padding:16px;
      border-radius:12px;
      box-shadow:var(--shadow);
      display:flex; flex-direction:column; gap:8px;
    }
    .deal-badge{background:var(--accent); color:white; padding:6px 10px; border-radius:8px; font-weight:800; font-size:14px}
    .deal-count{font-weight:800; font-size:18px}
    .countdown{font-family:monospace; font-weight:700; color:#111827}
    .blog-list{display:grid; grid-template-columns: repeat(3,1fr); gap:var(--gap)}
    .blog-card{background:var(--card); padding:12px; border-radius:12px; box-shadow:var(--shadow); display:flex; flex-direction:column; gap:8px}
    .blog-thumb{height:130px; border-radius:8px; overflow:hidden; background:linear-gradient(135deg,#fef3c7,#fff); display:flex; align-items:center; justify-content:center}
    footer{margin-top:24px; display:flex; gap:18px; justify-content:space-between; align-items:center; color:var(--muted)}
    .newsletter{display:flex; gap:8px; align-items:center}
    .newsletter input{padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); outline:0}
    .cart-bubble{background:var(--accent); color:white; padding:4px 8px; border-radius:999px; font-weight:800; margin-left:6px; min-width:26px; text-align:center}
    /* Responsiveness */
    @media (max-width:980px){
      .products.grid{grid-template-columns: repeat(2,1fr)}
      .blog-list{grid-template-columns: repeat(2,1fr)}
      .hero-right{display:none}
    }
    @media (max-width:640px){
      body{padding:14px}
      header{flex-direction:column; align-items:stretch; gap:14px}
      nav{order:3; gap:8px; flex-wrap:wrap}
      .searchbar input{width:140px}
      .products.grid{grid-template-columns: 1fr}
      .hero{flex-direction:column; align-items:flex-start}
    }

    /* cart drawer */
    .cart-drawer{
      position:fixed; right:20px; top:80px; width:320px; max-height:70vh; overflow:auto;
      background:var(--card); border-radius:12px; box-shadow:0 20px 50px rgba(2,6,23,0.2);
      padding:12px; transform:translateY(-10px); opacity:0; pointer-events:none; transition:all .18s;
    }
    .cart-drawer.open{transform:translateY(0); opacity:1; pointer-events:auto}
    .cart-item{display:flex; gap:10px; align-items:center; padding:8px 6px; border-bottom:1px dashed rgba(0,0,0,0.04)}
    .qty{display:flex; gap:6px; align-items:center}
    .small{font-size:13px; color:var(--muted)}
    .empty{padding:22px; text-align:center; color:var(--muted)}

  </style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">SQ</div>
        <div>
          <div style="font-weight:800">ShopQuick</div>
          <div style="font-size:12px;color:var(--muted)">Fast finds, great prices</div>
        </div>
      </div>

      <nav aria-label="Primary">
        <a href="#" class="nav-link">Home</a>
        <a href="#popular" class="nav-link">Popular</a>
        <a href="#deals" class="nav-link">Deals</a>
        <a href="#blog" class="nav-link">Blog</a>
      </nav>

      <div class="actions">
        <div class="searchbar" role="search" aria-label="Product search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#6B7280" stroke-width="2"/></svg>
          <input id="searchInput" type="search" placeholder="Search products, categories..." aria-label="Search products">
        </div>
        <button class="icon-btn" id="cartBtn" aria-label="Open cart" title="Open cart">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 3h2l1 5h13l1-5h2" stroke="#111827" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 10l1 9h10l1-9" stroke="#111827" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><circle cx="10" cy="20" r="1" fill="#111827"/><circle cx="17" cy="20" r="1" fill="#111827"/></svg>
          <span id="cartCount" class="cart-bubble" aria-live="polite">0</span>
        </button>
      </div>
    </header>

    <section class="hero" aria-labelledby="hero-heading">
      <div class="hero-left">
        <span class="badge">Free shipping over $49</span>
        <h1 id="hero-heading">Daily essentials, curated deals — delivered fast</h1>
        <p>Discover trending products, limited-time discounts, and quick buying guides from our blog. Shop confidently with price match and easy returns.</p>
        <div class="cta">
          <button class="btn btn-primary" onclick="document.getElementById('popular').scrollIntoView({behavior:'smooth'})">Shop Popular</button>
          <button class="btn btn-outline" onclick="document.getElementById('deals').scrollIntoView({behavior:'smooth'})">See Deals</button>
        </div>
      </div>
      <div class="hero-right" aria-hidden="true">
        <div class="mini-card">
          <svg viewBox="0 0 24 24" fill="none"><path d="M3 7h18" stroke="#34d399" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 3v18" stroke="#10b981" stroke-width="2" stroke-linecap="round"/></svg>
          <div>
            <div class="meta">Best Sellers</div>
            <div class="small">Top picks this week</div>
          </div>
        </div>
        <div class="mini-card">
          <svg viewBox="0 0 24 24" fill="none"><path d="M12 2l3 7h7l-5.5 4 2 7-6-4-6 4 2-7L2 9h7z" stroke="#f59e0b" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="rgba(245,158,11,0.06)"/></svg>
          <div>
            <div class="meta">Curated picks</div>
            <div class="small">Staff favorites</div>
          </div>
        </div>
      </div>
    </section>

    <section id="popular" aria-labelledby="popular-title">
      <h2 class="section-title" id="popular-title">
        <span>Popular Items</span>
        <div style="display:flex; gap:10px; align-items:center">
          <div class="small muted">Sort:</div>
          <select id="sortSelect" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)">
            <option value="featured">Featured</option>
            <option value="price-asc">Price: Low → High</option>
            <option value="price-desc">Price: High → Low</option>
          </select>
        </div>
      </h2>

      <div class="grid products" id="productGrid">
        <article class="product" data-title="Wireless Headphones" data-price="79.99" data-id="p1" tabindex="0">
          <div class="thumb" aria-hidden="true">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect width="100" height="100" rx="12" fill="#eef2ff"/><g fill="#6366f1"><path d="M70 40c0-11-9-20-20-20S30 29 30 40v20h6V40c0-7.7 6.3-14 14-14s14 6.3 14 14v20h6V40z"/><rect x="18" y="48" width="6" height="14" rx="2"/><rect x="76" y="48" width="6" height="14" rx="2"/></g></svg>
          </div>
          <div class="title">Wireless Headphones</div>
          <div class="meta-row">
            <div class="muted">Over-ear, noise-cancelling</div>
            <div class="price">$79.99</div>
          </div>
          <div class="meta-row">
            <div class="rating">★ 4.6</div>
            <div class="small">1.2k sold</div>
          </div>
          <div class="card-actions">
            <button class="fav" aria-label="Add to favorites" title="Favorite">♡</button>
            <button class="btn-add" data-action="add">Add to cart</button>
          </div>
        </article>

        <article class="product" data-title="Smart Watch" data-price="129.00" data-id="p2" tabindex="0">
          <div class="thumb" aria-hidden="true">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect width="100" height="100" rx="12" fill="#ecfeff"/><g fill="#06b6d4"><rect x="32" y="28" width="36" height="44" rx="6"/><circle cx="50" cy="48" r="8" fill="#ffffff"/></g></svg>
          </div>
          <div class="title">Smart Watch</div>
          <div class="meta-row">
            <div class="muted">Heart-rate, GPS</div>
            <div class="price">$129.00</div>
          </div>
          <div class="meta-row">
            <div class="rating">★ 4.5</div>
            <div class="small">900 sold</div>
          </div>
          <div class="card-actions">
            <button class="fav">♡</button>
            <button class="btn-add" data-action="add">Add to cart</button>
          </div>
        </article>

        <article class="product" data-title="Portable Charger" data-price="25.50" data-id="p3" tabindex="0">
          <div class="thumb" aria-hidden="true">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect width="100" height="100" rx="12" fill="#fff7ed"/><g fill="#fb923c"><rect x="36" y="24" width="28" height="52" rx="6"/><rect x="42" y="14" width="16" height="8" rx="2" fill="#fff"/></g></svg>
          </div>
          <div class="title">Portable Charger</div>
          <div class="meta-row">
            <div class="muted">10,000 mAh</div>
            <div class="price">$25.50</div>
          </div>
          <div class="meta-row">
            <div class="rating">★ 4.7</div>
            <div class="small">2.3k sold</div>
          </div>
          <div class="card-actions">
            <button class="fav">♡</button>
            <button class="btn-add" data-action="add">Add to cart</button>
          </div>
        </article>

        <article class="product" data-title="Ergonomic Mouse" data-price="39.99" data-id="p4" tabindex="0">
          <div class="thumb" aria-hidden="true">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect width="100" height="100" rx="12" fill="#f0fdf4"/><g fill="#10b981"><path d="M40 22h20a12 12 0 0 1 12 12v22a18 18 0 0 1-18 18H46a18 18 0 0 1-18-18V34A12 12 0 0 1 40 22z"/></g></svg>
          </div>
          <div class="title">Ergonomic Mouse</div>
          <div class="meta-row">
            <div class="muted">Wireless, silent</div>
            <div class="price">$39.99</div>
          </div>
          <div class="meta-row">
            <div class="rating">★ 4.4</div>
            <div class="small">600 sold</div>
          </div>
          <div class="card-actions">
            <button class="fav">♡</button>
            <button class="btn-add" data-action="add">Add to cart</button>
          </div>
        </article>

        <article class="product" data-title="Stainless Bottle" data-price="22.00" data-id="p5" tabindex="0">
          <div class="thumb" aria-hidden="true">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect width="100" height="100" rx="12" fill="#eff6ff"/><g fill="#3b82f6"><rect x="42" y="18" width="16" height="48" rx="8"/><rect x="44" y="62" width="12" height="18" rx="6" fill="#ffffff"/></g></svg>
          </div>
          <div class="title">Stainless Bottle</div>
          <div class="meta-row">
            <div class="muted">Keeps cold 24h</div>
            <div class="price">$22.00</div>
          </div>
          <div class="meta-row">
            <div class="rating">★ 4.8</div>
            <div class="small">3.1k sold</div>
          </div>
          <div class="card-actions">
            <button class="fav">♡</button>
            <button class="btn-add" data-action="add">Add to cart</button>
          </div>
        </article>

        <article class="product" data-title="Workout Mat" data-price="34.00" data-id="p6" tabindex="0">
          <div class="thumb" aria-hidden="true">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect width="100" height="100" rx="12" fill="#fff7ff"/><g fill="#a78bfa"><rect x="16" y="28" width="68" height="14" rx="6"/></g></svg>
          </div>
          <div class="title">Workout Mat</div>
          <div class="meta-row">
            <div class="muted">Non-slip, 6mm</div>
            <div class="price">$34.00</div>
          </div>
          <div class="meta-row">
            <div class="rating">★ 4.6</div>
            <div class="small">800 sold</div>
          </div>
          <div class="card-actions">
            <button class="fav">♡</button>
            <button class="btn-add" data-action="add">Add to cart</button>
          </div>
        </article>
      </div>
    </section>

    <section id="deals" aria-labelledby="deals-title">
      <h2 class="section-title" id="deals-title">
        <span>Limited-Time Deals</span>
        <a href="#" class="small muted">View all deals →</a>
      </h2>

      <div class="deals" id="dealsRow" aria-live="polite">
        <div class="deal-card" data-end="">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="deal-badge">Up to 40% OFF</div>
              <div class="small">on select electronics</div>
            </div>
            <div class="deal-count">$49 - $199</div>
          </div>
          <div class="muted">Hurry! Offer ends in</div>
          <div class="countdown" data-time>--:--:--</div>
          <button class="btn btn-primary" style="margin-top:8px">Shop Deals</button>
        </div>

        <div class="deal-card" data-end="">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="deal-badge" style="background:#06b6d4">Flash Sale</div>
              <div class="small">Home essentials</div>
            </div>
            <div class="deal-count">Save up to 55%</div>
          </div>
          <div class="muted">Ends in</div>
          <div class="countdown" data-time>--:--:--</div>
          <button class="btn btn-primary" style="margin-top:8px">Grab it</button>
        </div>

        <div class="deal-card" data-end="">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="deal-badge" style="background:#f97316">Bundle Offer</div>
              <div class="small">Buy 2 get 1 free</div>
            </div>
            <div class="deal-count">Popular packs</div>
          </div>
          <div class="muted">Limited stock</div>
          <div class="countdown" data-time>--:--:--</div>
          <button class="btn btn-primary" style="margin-top:8px">See Bundles</button>
        </div>
      </div>
    </section>

    <section id="blog" aria-labelledby="blog-title">
      <h2 class="section-title" id="blog-title">
        <span>From the Blog</span>
        <a href="#" class="small muted">Read all posts →</a>
      </h2>

      <div class="blog-list">
        <article class="blog-card" tabindex="0">
          <div class="blog-thumb" aria-hidden="true">
            <svg viewBox="0 0 200 120" width="100%" height="100%"><rect width="200" height="120" rx="8" fill="#eef2ff"/><text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" font-size="18" fill="#6366f1">Packing Tips</text></svg>
          </div>
          <div style="font-weight:800">How to pack smart for short trips</div>
          <div class="small muted">Learn quick packing hacks for weekend getaways and business travel.</div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
            <div class="small muted">Nov 1, 2025</div>
            <button class="btn btn-outline" onclick="alert('Open blog post: Packing Tips')">Read</button>
          </div>
        </article>

        <article class="blog-card" tabindex="0">
          <div class="blog-thumb" aria-hidden="true">
            <svg viewBox="0 0 200 120" width="100%" height="100%"><rect width="200" height="120" rx="8" fill="#ecfeff"/><text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" font-size="18" fill="#06b6d4">Gift Guide</text></svg>
          </div>
          <div style="font-weight:800">Top 10 gifts under $50</div>
          <div class="small muted">Handpicked items that look premium without the price tag.</div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
            <div class="small muted">Oct 28, 2025</div>
            <button class="btn btn-outline" onclick="alert('Open blog post: Gift Guide')">Read</button>
          </div>
        </article>

        <article class="blog-card" tabindex="0">
          <div class="blog-thumb" aria-hidden="true">
            <svg viewBox="0 0 200 120" width="100%" height="100%"><rect width="200" height="120" rx="8" fill="#fff7ed"/><text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" font-size="18" fill="#fb923c">Guide</text></svg>
          </div>
          <div style="font-weight:800">Choosing the right tech for remote work</div>
          <div class="small muted">Essentials for a comfortable and productive home office.</div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
            <div class="small muted">Oct 12, 2025</div>
            <button class="btn btn-outline" onclick="alert('Open blog post: Remote Work Tech')">Read</button>
          </div>
        </article>
      </div>
    </section>

    <footer>
      <div>
        <div style="font-weight:800">ShopQuick</div>
        <div class="small muted">© 2025 ShopQuick Inc.</div>
      </div>

      <div class="newsletter" role="form" aria-label="Newsletter sign-up">
        <label for="newsEmail" class="small muted" style="display:none">Email</label>
        <input id="newsEmail" type="email" placeholder="your@email.com">
        <button class="btn btn-primary" id="subscribeBtn">Subscribe</button>
      </div>
    </footer>

    <div id="cartDrawer" class="cart-drawer" aria-live="polite" aria-hidden="true" role="region" aria-label="Shopping cart">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <div style="font-weight:800">Your Cart</div>
        <button class="btn btn-outline" id="closeCart">Close</button>
      </div>
      <div id="cartItems"></div>
      <div id="cartFooter" style="margin-top:8px; display:none">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div class="small muted">Total</div>
          <div style="font-weight:800" id="cartTotal">$0.00</div>
        </div>
        <button class="btn btn-primary" style="width:100%; margin-top:10px" onclick="checkout()">Checkout</button>
      </div>
      <div id="cartEmpty" class="empty">Your cart is empty. Add items to get started.</div>
    </div>
  </div>

  <script>
    // Utility
    function formatCurrency(val){ return '$' + Number(val).toFixed(2); }

    // CART LOGIC
    const cartKey = 'shopquick_cart_v1';
    let cart = JSON.parse(localStorage.getItem(cartKey) || '{}');

    function saveCart(){
      localStorage.setItem(cartKey, JSON.stringify(cart));
    }
    function updateCartUI(){
      const count = Object.values(cart).reduce((s,i)=>s+i.qty,0);
      document.getElementById('cartCount').textContent = count;
      const drawer = document.getElementById('cartDrawer');
      const itemsWrap = document.getElementById('cartItems');
      itemsWrap.innerHTML = '';
      if(count === 0){
        document.getElementById('cartEmpty').style.display = 'block';
        document.getElementById('cartFooter').style.display = 'none';
      } else {
        document.getElementById('cartEmpty').style.display = 'none';
        document.getElementById('cartFooter').style.display = 'block';
        let total = 0;
        for(const id in cart){
          const it = cart[id];
          total += it.qty * it.price;
          const div = document.createElement('div');
          div.className = 'cart-item';
          div.innerHTML = '<div style="width:54px;height:44px;border-radius:8px;background:linear-gradient(90deg,#eef2ff,#fff);display:flex;align-items:center;justify-content:center;font-weight:800">'+
                           it.title.split(' ').slice(0,2).map(s=>s[0]).join('') +
                          '</div>' +
                          '<div style="flex:1"><div style="font-weight:700">'+it.title+'</div><div class="small muted">'+formatCurrency(it.price)+'</div></div>' +
                          '<div class="qty"><button class="icon-btn" data-action="dec" data-id="'+id+'">−</button><div class="small" style="min-width:22px;text-align:center">'+it.qty+'</div><button class="icon-btn" data-action="inc" data-id="'+id+'">+</button></div>';
          itemsWrap.appendChild(div);
        }
        document.getElementById('cartTotal').textContent = formatCurrency(total);
      }
    }

    function addToCart(id, title, price){
      if(!cart[id]) cart[id] = {title, price: Number(price), qty:0};
      cart[id].qty++;
      saveCart();
      updateCartUI();
      // small toast
      const btn = document.createElement('div');
      btn.textContent = 'Added to cart';
      Object.assign(btn.style,{position:'fixed',right:'24px',bottom:'24px',background:'#111827',color:'white',padding:'10px 14px',borderRadius:'10px',opacity:0});
      document.body.appendChild(btn);
      setTimeout(()=>btn.style.opacity=1,10);
      setTimeout(()=>{btn.style.opacity=0; setTimeout(()=>btn.remove(),300)},1400);
    }

    document.addEventListener('click', function(e){
      const a = e.target.closest('.btn-add');
      if(a){
        const card = a.closest('.product');
        const id = card.getAttribute('data-id');
        const title = card.getAttribute('data-title');
        const price = card.getAttribute('data-price');
        addToCart(id, title, price);
      }
      if(e.target.matches('#cartBtn, #cartBtn *')){
        document.getElementById('cartDrawer').classList.toggle('open');
        document.getElementById('cartDrawer').setAttribute('aria-hidden', !document.getElementById('cartDrawer').classList.contains('open'));
      }
      if(e.target.matches('#closeCart, #closeCart *')){
        document.getElementById('cartDrawer').classList.remove('open');
        document.getElementById('cartDrawer').setAttribute('aria-hidden','true');
      }
      // cart qty buttons
      const act = e.target.getAttribute('data-action');
      if(act === 'inc' || act === 'dec'){
        const id = e.target.getAttribute('data-id');
        if(cart[id]){
          if(act === 'inc') cart[id].qty++;
          else cart[id].qty = Math.max(0, cart[id].qty-1);
          if(cart[id].qty === 0) delete cart[id];
          saveCart(); updateCartUI();
        }
      }
    });

    function checkout(){
      alert('Proceeding to checkout — demo only.');
    }

    // Initialize cart
    updateCartUI();

    // SEARCH & SORT
    const searchInput = document.getElementById('searchInput');
    const productGrid = document.getElementById('productGrid');

    function filterProducts(){
      const q = searchInput.value.trim().toLowerCase();
      const cards = productGrid.querySelectorAll('.product');
      cards.forEach(c=>{
        const t = c.getAttribute('data-title').toLowerCase();
        c.style.display = t.includes(q) ? '' : 'none';
      });
    }
    searchInput.addEventListener('input', filterProducts);

    document.getElementById('sortSelect').addEventListener('change', function(){
      const val = this.value;
      const rows = Array.from(productGrid.querySelectorAll('.product'));
      if(val === 'price-asc') rows.sort((a,b)=> parseFloat(a.dataset.price) - parseFloat(b.dataset.price));
      else if(val === 'price-desc') rows.sort((a,b)=> parseFloat(b.dataset.price) - parseFloat(a.dataset.price));
      else rows.sort((a,b)=> a.dataset.title.localeCompare(b.dataset.title)); // featured fallback by title
      rows.forEach(r=>productGrid.appendChild(r));
    });

    // DEALS: set dynamic end times and countdown
    const dealCards = document.querySelectorAll('#dealsRow .deal-card');
    const now = Date.now();
    // Set end times: + 6h, + 12h, + 36h
    const offsets = [6*3600*1000, 12*3600*1000, 36*3600*1000];
    dealCards.forEach((card,i)=>{
      const end = now + (offsets[i] || 8*3600*1000);
      card.dataset.end = end;
      const timeEl = card.querySelector('.countdown[data-time]');
      timeEl.dataset.end = end;
    });

    function updateCountdowns(){
      const els = document.querySelectorAll('.countdown[data-time]');
      const tnow = Date.now();
      els.forEach(el=>{
        const end = Number(el.dataset.end);
        let diff = Math.max(0, end - tnow);
        const h = String(Math.floor(diff / 3600000)).padStart(2,'0');
        diff %= 3600000;
        const m = String(Math.floor(diff / 60000)).padStart(2,'0');
        diff %= 60000;
        const s = String(Math.floor(diff/1000)).padStart(2,'0');
        el.textContent = `${h}:${m}:${s}`;
      });
    }
    updateCountdowns();
    setInterval(updateCountdowns, 1000);

    // Newsletter subscribe
    document.getElementById('subscribeBtn').addEventListener('click', function(){
      const email = document.getElementById('newsEmail').value.trim();
      if(!email || !email.includes('@')) { alert('Please enter a valid email'); return; }
      this.disabled = true;
      this.textContent = 'Subscribed';
      setTimeout(()=>this.disabled=false,1500);
      alert('Thanks for subscribing — demo only.');
      document.getElementById('newsEmail').value = '';
    });

    // Keyboard accessibility: Enter to add from product card
    productGrid.addEventListener('keydown', function(e){
      if(e.key === 'Enter'){
        const card = e.target.closest('.product');
        if(card){
          const btn = card.querySelector('.btn-add');
          btn && btn.click();
        }
      }
    });

    // Prefill some cart for demo if none
    if(Object.keys(cart).length === 0){
      // leave empty
    }

    // Simple local demo: clicking blog 'Read' shows alert (already wired inline)
  </script>
</body>
</html>