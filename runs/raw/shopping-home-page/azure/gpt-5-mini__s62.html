<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopSphere ‚Äî Home</title>
  <meta name="description" content="ShopSphere ‚Äî curated deals, popular items, and shopping blog posts. Find the best deals and trending products." />
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --accent:#0b79d0;
      --accent-2:#ff5a5f;
      --muted:#6b7280;
      --radius:12px;
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 6px 18px rgba(12, 20, 28, 0.08);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        linear-gradient(180deg, rgba(11,121,208,0.04), transparent 20%),
        var(--bg);
      color:#0b1220;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      padding-bottom:64px;
    }

    header{
      position:sticky;
      top:0;
      z-index:40;
      backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.6));
      border-bottom: 1px solid rgba(15,23,42,0.05);
    }
    .container{
      max-width:1200px;
      margin:0 auto;
      padding:20px;
    }
    .header-inner{
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      text-decoration:none;
      color:inherit;
    }
    .logo{
      width:44px;height:44px;
      border-radius:10px;
      background: linear-gradient(135deg,var(--accent),#7bd389);
      display:flex;align-items:center;justify-content:center;
      color:white;font-weight:700;box-shadow:var(--shadow);
      flex:0 0 44px;font-size:18px;
    }
    nav{ display:flex; gap:14px; align-items:center; margin-left:8px; }
    nav a{ color:var(--muted); text-decoration:none; font-size:15px; padding:8px 10px; border-radius:8px;}
    nav a:hover{ color:var(--accent); background:rgba(11,121,208,0.06) }

    .search-wrap{
      display:flex;
      flex:1;
      max-width:560px;
      margin:0 16px;
      background:var(--card);
      border-radius:12px;
      padding:8px;
      align-items:center;
      box-shadow:var(--shadow);
    }
    .search-wrap input{
      border:0;outline:0;background:transparent;padding:10px 8px;font-size:14px;color:#061226;width:100%;
    }
    .icons{ display:flex; gap:12px; align-items:center; }
    .icon-btn{
      background:transparent;border:0;padding:8px;border-radius:10px;color:var(--muted);cursor:pointer;
    }
    .cart{
      position:relative;
    }
    .cart .count{
      position:absolute;
      top:-6px;right:-6px;
      background:var(--accent-2);
      color:white;font-size:12px;padding:3px 7px;border-radius:999px;
      box-shadow:0 4px 10px rgba(0,0,0,0.12);
    }

    main{ max-width:1200px;margin:18px auto;padding:0 20px; }

    .hero{
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:20px;
      align-items:center;
      margin-bottom:22px;
    }
    .hero-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.9), var(--card));
      border-radius:var(--radius);
      padding:28px;
      box-shadow:var(--shadow);
    }
    .hero h1{ margin:0 0 8px;font-size:28px;line-height:1.05 }
    .hero p{ margin:0 0 16px;color:var(--muted) }
    .cta-row{ display:flex; gap:12px; }
    .btn{
      background:var(--accent); color:white;padding:12px 16px;border-radius:10px;border:0;cursor:pointer;font-weight:600;
      box-shadow:0 8px 20px rgba(11,121,208,0.12);
    }
    .btn.secondary{ background:transparent;border:1px solid rgba(11,121,208,0.12); color:var(--accent) }

    .hero-aside{
      background:linear-gradient(180deg, #fff9f8, #fff);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:var(--shadow);
      display:flex;flex-direction:column;gap:12px;
    }
    .deal-item{
      display:flex;gap:12px;align-items:center;
    }
    .deal-item img{width:72px;height:72px;border-radius:8px;object-fit:cover}
    .deal-title{ font-weight:600;font-size:15px }
    .deal-price{ color:var(--accent-2); font-weight:700 }
    .deal-countdown{ font-size:13px;color:var(--muted) }

    section{ margin:22px 0; }
    .section-head{ display:flex;align-items:end;justify-content:space-between;margin-bottom:12px }
    .section-head h2{ margin:0;font-size:18px }
    .section-head p{ margin:0;color:var(--muted);font-size:13px }

    .filters{ display:flex; gap:8px; flex-wrap:wrap }
    .filter-btn{ background:transparent;border:1px solid rgba(15,23,42,0.06);padding:8px 12px;border-radius:10px;cursor:pointer;color:var(--muted) }
    .filter-btn.active{ background:var(--accent); color:white; border:0; box-shadow:0 8px 18px rgba(11,121,208,0.12) }

    .grid{
      display:grid;
      grid-template-columns: repeat(4,1fr);
      gap:16px;
    }
    @media (max-width:1000px){ .grid{ grid-template-columns: repeat(3,1fr) } .hero{ grid-template-columns: 1fr } }
    @media (max-width:720px){ .grid{ grid-template-columns: repeat(2,1fr) } .search-wrap{ display:none } nav{ display:none } .header-inner{ gap:8px } }
    @media (max-width:420px){ .grid{ grid-template-columns: repeat(1,1fr) } .hero h1{ font-size:20px } }

    .card{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .thumb{ width:100%;height:180px;border-radius:10px;background:#eef2f7;display:flex;align-items:center;justify-content:center;overflow:hidden }
    .thumb img{ width:100%;height:100%;object-fit:cover }
    .meta{ display:flex;justify-content:space-between;align-items:center;gap:8px }
    .title{ font-size:15px;font-weight:600 }
    .price{ font-weight:700;color:#08142a }
    .old-price{ text-decoration:line-through;color:var(--muted); font-weight:600;font-size:13px }
    .rating{ color:#ffb84d;font-size:13px }
    .card .actions{ display:flex;gap:8px; margin-top:auto }
    .quick{ background:transparent;border:1px solid rgba(11,121,208,0.08);padding:8px 10px;border-radius:10px;cursor:pointer;color:var(--accent) }
    .add{ background:var(--accent-2); color:white;border:0;padding:8px 12px;border-radius:10px;cursor:pointer }

    .badge{
      position:absolute;left:12px;top:12px;background:var(--accent-2);color:white;padding:6px 8px;border-radius:999px;font-weight:700;font-size:12px;
    }
    .card-wrap{ position:relative }

    .blog-grid{ display:grid; grid-template-columns: repeat(3,1fr); gap:16px }
    @media (max-width:1000px){ .blog-grid{ grid-template-columns: repeat(2,1fr) } }
    @media (max-width:720px){ .blog-grid{ grid-template-columns: 1fr } }

    .blog-card{ display:flex; gap:12px; align-items:flex-start; padding:12px; border-radius:12px;background:var(--card); box-shadow:var(--shadow) }
    .blog-card img{ width:120px;height:80px;object-fit:cover;border-radius:8px;flex:0 0 120px }

    .newsletter{ display:flex; gap:12px; margin-top:8px; align-items:center }
    .newsletter input{ padding:12px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);flex:1 }
    .newsletter .subscribe{ padding:12px 14px;border-radius:10px;background:var(--accent);color:white;border:0;cursor:pointer }

    footer{ margin-top:28px;padding:28px 20px;background:linear-gradient(180deg, rgba(255,255,255,0.6), transparent); }
    .footer-grid{ display:flex;gap:32px;flex-wrap:wrap;max-width:1200px;margin:0 auto }
    .footer-col{ min-width:160px; color:var(--muted) }
    .small{ color:var(--muted); font-size:13px }

    /* stars */
    .stars{ display:inline-block; font-size:0; }
    .stars svg{ width:14px;height:14px; margin-right:2px; vertical-align:middle }
    .strike{ color:var(--muted);font-size:13px }

    /* modal */
    .modal-backdrop{ position:fixed; inset:0;background:rgba(2,6,23,0.45); display:none; align-items:center; justify-content:center; z-index:60; }
    .modal{ background:var(--card); padding:18px;border-radius:12px; max-width:920px; width:95%; box-shadow:0 30px 80px rgba(2,6,23,0.4); display:flex; gap:18px; color:inherit }
    .modal img{ width:380px;height:320px;object-fit:cover;border-radius:8px }
    .modal .m-right{ flex:1; display:flex;flex-direction:column; gap:12px }
    .close-btn{ margin-left:auto;background:transparent;border:0;color:var(--muted);cursor:pointer; font-size:16px }

    /* tiny utility */
    .muted{ color:var(--muted) }
  </style>
</head>
<body>
  <header>
    <div class="container header-inner" role="banner">
      <a class="brand" href="#" aria-label="ShopSphere Home">
        <div class="logo">SS</div>
        <div>
          <div style="font-weight:700">ShopSphere</div>
          <div style="font-size:12px;color:var(--muted)">Find what you love</div>
        </div>
      </a>

      <nav aria-label="Main navigation">
        <a href="#">Home</a>
        <a href="#">Shop</a>
        <a href="#">Deals</a>
        <a href="#">Blog</a>
        <a href="#">Support</a>
      </nav>

      <div class="search-wrap" role="search" aria-label="Search products">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="margin-left:6px;margin-right:8px"><path d="M21 21l-4.35-4.35" stroke="#9aa7b3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#9aa7b3" stroke-width="2"/></svg>
        <input id="search" type="search" placeholder="Search for products, brands, or categories" aria-label="Search"/>
        <button class="icon-btn" title="Voice search" aria-hidden="true">üé§</button>
      </div>

      <div class="icons" role="toolbar" aria-label="User tools">
        <button class="icon-btn" title="Wishlist" aria-label="Wishlist">‚ô°</button>
        <div class="cart" aria-live="polite">
          <button class="icon-btn" title="View cart" aria-label="Cart">üõí</button>
          <div class="count" id="cart-count" aria-hidden="false">0</div>
        </div>
        <button class="icon-btn" title="Account" aria-label="Account">üë§</button>
      </div>
    </div>
  </header>

  <main>
    <div class="hero container" role="region" aria-label="Top deals and featured">
      <div class="hero-card">
        <h1>Today‚Äôs Top Picks ‚Äî Curated for you</h1>
        <p>Hand-picked products, unbeatable deals, and the latest trends. Shop with confidence and fast delivery.</p>
        <div style="display:flex;gap:12px;align-items:center">
          <div class="cta-row" role="group" aria-label="Primary actions">
            <button class="btn" id="shop-now">Shop Now</button>
            <button class="btn secondary" id="view-deals">View Deals</button>
          </div>
          <div class="muted" style="font-size:13px;margin-left:12px">Free shipping over $50 ‚Ä¢ Easy returns</div>
        </div>
      </div>

      <aside class="hero-aside" aria-label="Limited time deals">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:700">Limited time deals</div>
          <div class="muted" style="font-size:13px">Save up to 60%</div>
        </div>

        <div id="deals-list" style="display:flex;flex-direction:column;gap:12px"></div>

        <div style="display:flex;gap:8px;align-items:center;margin-top:6px">
          <button class="btn" id="grab-deal">Grab a Deal</button>
          <div class="small muted">Hurry ‚Äî offers end soon</div>
        </div>
      </aside>
    </div>

    <section aria-labelledby="popular-heading">
      <div class="section-head">
        <div>
          <h2 id="popular-heading">Popular Items</h2>
          <p class="muted">Trending products that shoppers love</p>
        </div>
        <div style="display:flex;gap:12px;align-items:center">
          <div class="filters" role="tablist" aria-label="Product categories" id="category-filters">
            <button class="filter-btn active" data-cat="all" role="tab">All</button>
            <button class="filter-btn" data-cat="electronics" role="tab">Electronics</button>
            <button class="filter-btn" data-cat="fashion" role="tab">Fashion</button>
            <button class="filter-btn" data-cat="home" role="tab">Home</button>
            <button class="filter-btn" data-cat="outdoor" role="tab">Outdoor</button>
          </div>
        </div>
      </div>

      <div class="grid" id="product-grid" aria-live="polite"></div>
    </section>

    <section aria-labelledby="deals-heading">
      <div class="section-head">
        <div>
          <h2 id="deals-heading">Hot Deals</h2>
          <p class="muted">Flash sales and time-limited discounts</p>
        </div>
        <div class="muted">Ends soon ‚Äî don't miss out</div>
      </div>

      <div id="hot-deals" style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px"></div>
    </section>

    <section aria-labelledby="blog-heading">
      <div class="section-head">
        <div>
          <h2 id="blog-heading">From the Blog</h2>
          <p class="muted">Buying guides, trends, and tips</p>
        </div>
        <a class="muted" href="#" style="text-decoration:none">View all posts ‚Üí</a>
      </div>

      <div class="blog-grid" id="blog-grid"></div>
    </section>

    <section aria-label="Newsletter signup" style="margin-top:12px">
      <div class="card" style="display:flex;flex-direction:column;gap:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div style="font-weight:700">Stay in the loop</div>
            <div class="muted" style="font-size:13px">Sign up for exclusive offers and product launches</div>
          </div>
          <div style="font-size:22px">‚úâÔ∏è</div>
        </div>

        <div class="newsletter">
          <input id="email" type="email" placeholder="Enter your email" aria-label="Email address for newsletter"/>
          <button class="subscribe" id="subscribe">Subscribe</button>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <div class="footer-grid">
      <div class="footer-col">
        <div style="font-weight:700">ShopSphere</div>
        <div class="small muted">¬© <span id="year"></span> ShopSphere Inc. All rights reserved.</div>
      </div>
      <div class="footer-col">
        <div style="font-weight:700">Support</div>
        <div class="small muted">Help Center<br/>Returns<br/>Shipping Info</div>
      </div>
      <div class="footer-col">
        <div style="font-weight:700">Company</div>
        <div class="small muted">About<br/>Careers<br/>Press</div>
      </div>
      <div class="footer-col">
        <div style="font-weight:700">Follow</div>
        <div class="small muted">Instagram ‚Ä¢ Twitter ‚Ä¢ Facebook</div>
      </div>
    </div>
  </footer>

  <!-- Quick view modal -->
  <div id="modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modal-title">
      <div style="display:flex;flex-direction:column;gap:12px">
        <img id="modal-img" src="" alt="Product image">
        <div style="display:flex;gap:8px;align-items:center">
          <div id="modal-price" style="font-weight:700;color:var(--accent-2)"></div>
          <div id="modal-old" class="old-price"></div>
        </div>
      </div>
      <div class="m-right">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="font-size:18px;font-weight:700" id="modal-title">Product name</div>
          <button class="close-btn" id="modal-close" aria-label="Close quick view">‚úï</button>
        </div>
        <div id="modal-desc" class="muted">Product description</div>
        <div style="display:flex;gap:8px;margin-top:auto">
          <button class="add" id="modal-add">Add to cart</button>
          <button class="quick" id="modal-wishlist">Add to wishlist</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Sample data
    const products = [
      {id:1,name:"Aurora Wireless Headphones",category:"electronics",price:79,oldPrice:129,rating:4.5,image:"https://via.placeholder.com/600x400?text=Aurora+Headphones"},
      {id:2,name:"Everday Ceramic Mug Set",category:"home",price:24,oldPrice:0,rating:4.2,image:"https://via.placeholder.com/600x400?text=Ceramic+Mugs"},
      {id:3,name:"Nomad Waterproof Jacket",category:"fashion",price:119,oldPrice:199,rating:4.7,image:"https://via.placeholder.com/600x400?text=Waterproof+Jacket"},
      {id:4,name:"Solar Camping Lantern",category:"outdoor",price:29,oldPrice:49,rating:4.3,image:"https://via.placeholder.com/600x400?text=Camping+Lantern"},
      {id:5,name:"Minimalist Desk Lamp",category:"home",price:45,oldPrice:0,rating:4.6,image:"https://via.placeholder.com/600x400?text=Desk+Lamp"},
      {id:6,name:"PixelSmart Bluetooth Speaker",category:"electronics",price:59,oldPrice:99,rating:4.4,image:"https://via.placeholder.com/600x400?text=Bluetooth+Speaker"},
      {id:7,name:"Luxe Knit Scarf",category:"fashion",price:34,oldPrice:0,rating:4.1,image:"https://via.placeholder.com/600x400?text=Knit+Scarf"},
      {id:8,name:"Foldable Picnic Blanket",category:"outdoor",price:27,oldPrice:0,rating:4.0,image:"https://via.placeholder.com/600x400?text=Picnic+Blanket"}
    ];

    const deals = [
      {id:101,name:"Aurora Headphones",price:69,oldPrice:129,image:"https://via.placeholder.com/200x140?text=Aurora",endsAt:Date.now()+1000*60*60*6},
      {id:102,name:"PixelSmart Speaker",price:49,oldPrice:99,image:"https://via.placeholder.com/200x140?text=PixelSmart",endsAt:Date.now()+1000*60*60*3+1000*20},
      {id:103,name:"Nomad Jacket",price:99,oldPrice:199,image:"https://via.placeholder.com/200x140?text=Nomad",endsAt:Date.now()+1000*60*60*12}
    ];

    const blogs = [
      {id:201,title:"5 Tips to Choose the Perfect Headphones",excerpt:"A simple guide to sound, fit, and durability so you can pick headphones that match your needs.",author:"Maya L",date:"Oct 12, 2025",image:"https://via.placeholder.com/380x240?text=Headphones"},
      {id:202,title:"Home Styling on a Budget",excerpt:"Elevate your living space without breaking the bank‚Äîsmall changes that make a big difference.",author:"Jon P",date:"Nov 2, 2025",image:"https://via.placeholder.com/380x240?text=Home+Styling"},
      {id:203,title:"Camping Essentials for Beginners",excerpt:"Everything you need for your first outdoor trip: gear, planning tips, and safety advice.",author:"Rina K",date:"Sep 30, 2025",image:"https://via.placeholder.com/380x240?text=Camping"}
    ];

    // Utilities
    function $(sel){return document.querySelector(sel)}
    function $all(sel){return Array.from(document.querySelectorAll(sel))}

    // Render products
    const grid = $('#product-grid');
    let currentCategory = 'all';
    let cartCount = 0;

    function renderStars(rating){
      const full = Math.floor(rating);
      const half = rating - full >= 0.5;
      let out = '';
      for(let i=0;i<full;i++){
        out += '<svg viewBox="0 0 24 24" fill="#FFB84D" aria-hidden="true"><path d="M12 .587l3.668 7.431L23.5 9.753l-5.75 5.602L19.336 24 12 19.897 4.664 24l1.586-8.645L.5 9.753l7.832-1.735z"/></svg>';
      }
      if(half) out += '<svg viewBox="0 0 24 24" fill="#FFB84D" aria-hidden="true"><defs><linearGradient id="g"><stop offset="50%" stop-color="#FFB84D"/><stop offset="50%" stop-color="#E6EEF7"/></linearGradient></defs><path d="M12 .587l3.668 7.431L23.5 9.753l-5.75 5.602L19.336 24 12 19.897 4.664 24l1.586-8.645L.5 9.753l7.832-1.735z" fill="url(#g)"/></svg>';
      const remaining = 5 - full - (half?1:0);
      for(let i=0;i<remaining;i++){
        out += '<svg viewBox="0 0 24 24" fill="#E6EEF7" aria-hidden="true"><path d="M12 .587l3.668 7.431L23.5 9.753l-5.75 5.602L19.336 24 12 19.897 4.664 24l1.586-8.645L.5 9.753l7.832-1.735z"/></svg>';
      }
      return '<span class="stars" aria-hidden="true">'+out+'</span>';
    }

    function createProductCard(p){
      const el = document.createElement('div');
      el.className = 'card card-wrap';
      el.innerHTML = `
        ${p.oldPrice && p.oldPrice>p.price ? '<div class="badge">SALE</div>' : ''}
        <div class="thumb"><img src="${p.image}" alt="${p.name}"></div>
        <div class="meta">
          <div>
            <div class="title">${p.name}</div>
            <div class="muted" style="font-size:13px">${p.category}</div>
          </div>
          <div style="text-align:right">
            <div class="price">$${p.price.toFixed(2)}</div>
            ${p.oldPrice && p.oldPrice>p.price ? `<div class="old-price">$${p.oldPrice.toFixed(2)}</div>` : ''}
          </div>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div class="rating" aria-label="Rating ${p.rating} out of 5">${renderStars(p.rating)} <span class="muted" style="font-size:13px;margin-left:6px">${p.rating}</span></div>
          <div style="font-size:13px;color:var(--muted)">Ships in 2-4 days</div>
        </div>
        <div class="actions">
          <button class="quick" data-id="${p.id}">Quick view</button>
          <button class="add" data-id="${p.id}">Add to cart</button>
        </div>
      `;
      return el;
    }

    function renderProducts(list){
      grid.innerHTML = '';
      list.forEach(p => grid.appendChild(createProductCard(p)));
    }

    // Initial render
    renderProducts(products);

    // Filters and search
    const filters = document.getElementById('category-filters');
    filters.addEventListener('click', e => {
      const btn = e.target.closest('button');
      if(!btn) return;
      $all('#category-filters .filter-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      currentCategory = btn.dataset.cat;
      applyFilters();
    });

    $('#search').addEventListener('input', applyFilters);
    function applyFilters(){
      const q = $('#search').value.trim().toLowerCase();
      let list = products.filter(p => (currentCategory==='all' || p.category===currentCategory));
      if(q) list = list.filter(p => p.name.toLowerCase().includes(q) || p.category.toLowerCase().includes(q));
      renderProducts(list);
    }

    // Deals rendering & countdown
    const dealsList = $('#deals-list');
    const hotDeals = $('#hot-deals');

    function renderDealItem(d){
      const el = document.createElement('div');
      el.className = 'deal-item';
      el.innerHTML = `
        <img src="${d.image}" alt="${d.name}">
        <div style="flex:1">
          <div class="deal-title">${d.name}</div>
          <div style="display:flex;gap:8px;align-items:center">
            <div class="deal-price">$${d.price.toFixed(2)}</div>
            ${d.oldPrice?`<div class="old-price">$${d.oldPrice.toFixed(2)}</div>`:''}
          </div>
          <div class="deal-countdown" data-ends="${d.endsAt}" id="deal-${d.id}">Ends in ‚Äî</div>
        </div>
      `;
      return el;
    }

    deals.forEach(d=>{
      dealsList.appendChild(renderDealItem(d));
      const hd = document.createElement('div');
      hd.className = 'card';
      hd.innerHTML = `
        <div style="display:flex;gap:12px;align-items:center">
          <img src="${d.image}" alt="${d.name}" style="width:84px;height:64px;border-radius:8px;object-fit:cover">
          <div>
            <div style="font-weight:700">${d.name}</div>
            <div class="muted" style="font-size:13px">Only $${d.price.toFixed(2)} ‚Äî was $${d.oldPrice.toFixed(2)}</div>
            <div class="muted" data-ends="${d.endsAt}" id="hot-${d.id}" style="font-size:13px;margin-top:6px">Ends in ‚Äî</div>
          </div>
        </div>
      `;
      hotDeals.appendChild(hd);
    });

    function updateCountdowns(){
      const els = document.querySelectorAll('[data-ends]');
      const now = Date.now();
      els.forEach(el=>{
        const ends = +el.dataset.ends;
        let delta = Math.max(0, ends - now);
        if(delta<=0){
          el.textContent = "Expired";
          return;
        }
        const hrs = Math.floor(delta/3600000); delta%=3600000;
        const mins = Math.floor(delta/60000); delta%=60000;
        const secs = Math.floor(delta/1000);
        el.textContent = `Ends in ${hrs}h ${mins}m ${secs}s`;
      });
    }
    setInterval(updateCountdowns,1000);
    updateCountdowns();

    // Blogs
    const blogGrid = $('#blog-grid');
    blogs.forEach(b=>{
      const el = document.createElement('article');
      el.className = 'blog-card';
      el.innerHTML = `
        <img src="${b.image}" alt="${b.title}">
        <div>
          <div style="font-weight:700">${b.title}</div>
          <div class="muted" style="font-size:13px;margin:6px 0">${b.excerpt}</div>
          <div class="small muted">${b.author} ‚Ä¢ ${b.date}</div>
        </div>
      `;
      blogGrid.appendChild(el);
    });

    // Cart actions & modal quick view
    document.addEventListener('click', function(e){
      const addBtn = e.target.closest('.add');
      if(addBtn){
        const id = +addBtn.dataset.id;
        cartCount++;
        $('#cart-count').textContent = cartCount;
        addBtn.textContent = 'Added';
        addBtn.disabled = true;
        setTimeout(()=>{ addBtn.textContent = 'Add to cart'; addBtn.disabled = false; }, 1200);
        return;
      }

      const quick = e.target.closest('.quick');
      if(quick){
        const id = +quick.dataset.id;
        openModalWithProduct(id);
        return;
      }
    });

    // Modal logic
    const modalB = $('#modal');
    const modalClose = $('#modal-close');
    function openModalWithProduct(id){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      $('#modal-img').src = p.image;
      $('#modal-title').textContent = p.name;
      $('#modal-desc').textContent = `Rating: ${p.rating} ‚Ä¢ Category: ${p.category}. A popular choice among customers.`;
      $('#modal-price').textContent = `$${p.price.toFixed(2)}`;
      $('#modal-old').textContent = p.oldPrice && p.oldPrice>p.price ? `$${p.oldPrice.toFixed(2)}` : '';
      modalB.style.display = 'flex';
      modalB.setAttribute('aria-hidden','false');
    }
    modalClose.addEventListener('click', closeModal);
    modalB.addEventListener('click', e => {
      if(e.target === modalB) closeModal();
    });
    function closeModal(){
      modalB.style.display = 'none';
      modalB.setAttribute('aria-hidden','true');
    }
    $('#modal-add').addEventListener('click', ()=>{
      cartCount++;
      $('#cart-count').textContent = cartCount;
      closeModal();
    });

    // small interactions
    $('#subscribe').addEventListener('click', ()=>{
      const email = $('#email').value.trim();
      if(!email || !email.includes('@')){ alert('Please enter a valid email.'); return; }
      $('#subscribe').textContent = 'Subscribed';
      setTimeout(()=>{ $('#subscribe').textContent = 'Subscribe'; $('#email').value=''; },1500);
    });

    // hero actions
    $('#shop-now').addEventListener('click', ()=>{ window.scrollTo({top:700,behavior:'smooth'}) });
    $('#view-deals').addEventListener('click', ()=>{ document.getElementById('deals-heading').scrollIntoView({behavior:'smooth'}) });
    $('#grab-deal').addEventListener('click', ()=>{ window.location.hash='deals' });

    // year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Accessibility: keyboard close modal
    document.addEventListener('keydown', e=>{
      if(e.key === 'Escape') closeModal();
    });

  </script>
</body>
</html>