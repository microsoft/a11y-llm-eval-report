<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopFront - Home</title>
  <meta name="description" content="ShopFront: Discover popular items, unbeatable deals, and helpful shopping guides and blog posts." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0066ff;
      --accent-2:#ff6b6b;
      --glass: rgba(255,255,255,0.75);
      --radius:12px;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: light;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: linear-gradient(180deg, #f4f6fb 0%, var(--bg) 100%);
      color:#111827;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      padding-bottom:60px;
    }
    .container{
      max-width:1200px;
      margin:28px auto;
      padding:0 20px;
    }
    header{
      display:flex;
      align-items:center;
      gap:18px;
      margin-bottom:18px;
    }
    .logo{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:inherit;
    }
    .logo .mark{
      width:48px;
      height:48px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent),#2ec4ff);
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:800;
      font-size:20px;
      box-shadow: 0 6px 18px rgba(3,105,236,0.12), inset 0 -6px 12px rgba(255,255,255,0.08);
    }
    nav{
      margin-left:8px;
      display:flex;
      gap:18px;
      align-items:center;
      font-weight:600;
      color:var(--muted);
      flex:1;
    }
    .nav-links a{
      text-decoration:none;
      color:var(--muted);
      padding:8px 10px;
      border-radius:8px;
    }
    .nav-links a:hover{background:rgba(0,0,0,0.04)}
    .search-wrap{
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      padding:8px;
      border-radius:12px;
      box-shadow: 0 6px 18px rgba(2,6,23,0.06);
      min-width:260px;
    }
    .search-wrap input{
      border:0;
      outline:0;
      font-size:14px;
      width:100%;
      padding:8px 4px;
      background:transparent;
    }
    .actions{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .icon-btn{
      background:transparent;
      border:0;
      padding:8px;
      border-radius:10px;
      cursor:pointer;
      position:relative;
    }
    .icon-btn:hover{background:rgba(0,0,0,0.04)}
    .cart-badge{
      position:absolute;
      right:6px;
      top:6px;
      background:var(--accent-2);
      color:white;
      min-width:20px;
      height:20px;
      display:inline-grid;
      place-items:center;
      font-size:12px;
      border-radius:10px;
      padding:0 6px;
      font-weight:700;
    }

    /* Hero */
    .hero{
      background:linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,255,255,0.75));
      border-radius:18px;
      padding:28px;
      display:grid;
      grid-template-columns:1fr 360px;
      gap:24px;
      align-items:center;
      box-shadow: 0 10px 30px rgba(30,41,59,0.06);
      margin-bottom:24px;
    }
    .hero .content h1{
      margin:0 0 8px 0;
      font-size:28px;
      letter-spacing:-0.02em;
    }
    .hero .content p{
      margin:0 0 18px 0;
      color:var(--muted);
    }
    .hero .ctas{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .btn{
      padding:10px 14px;
      background:var(--accent);
      color:white;
      border-radius:10px;
      font-weight:700;
      border:0;
      cursor:pointer;
      box-shadow: 0 8px 20px rgba(2, 103, 255, 0.12);
    }
    .btn.secondary{
      background:transparent;
      border:1px solid rgba(2,6,23,0.06);
      color:var(--muted);
      font-weight:600;
    }
    .hero .preview{
      display:flex;
      gap:12px;
      justify-content:center;
      align-items:center;
    }
    .preview-card{
      background:linear-gradient(180deg, rgba(255,255,255,0.9), var(--card));
      width:160px;
      min-height:220px;
      border-radius:14px;
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:center;
      box-shadow: 0 8px 20px rgba(2,6,23,0.06);
    }
    .preview-card img{
      width:100%;
      border-radius:10px;
      object-fit:cover;
    }
    .preview-card .price{
      font-weight:800;
      color:var(--accent);
    }

    /* Sections */
    section{
      margin-bottom:22px;
    }
    .section-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:12px;
    }
    .section-head h2{margin:0; font-size:18px}
    .section-head .view-all{
      color:var(--muted);
      text-decoration:none;
      font-weight:600;
    }

    /* Popular grid */
    .products-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(220px,1fr));
      gap:14px;
    }
    .product{
      background:var(--card);
      border-radius:14px;
      padding:12px;
      box-shadow: 0 6px 18px rgba(15,23,42,0.04);
      display:flex;
      gap:12px;
      align-items:flex-start;
      flex-direction:column;
    }
    .product img{
      width:100%;
      height:150px;
      object-fit:cover;
      border-radius:10px;
      background:linear-gradient(90deg,#eef2ff,#fff);
    }
    .product .meta{
      display:flex;
      justify-content:space-between;
      width:100%;
      align-items:center;
      gap:8px;
    }
    .product .title{
      font-weight:700;
      font-size:15px;
      margin:8px 0 4px 0;
    }
    .product .desc{font-size:13px;color:var(--muted); margin:0}
    .price-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      width:100%;
      margin-top:10px;
    }
    .price{font-weight:800; color:var(--accent)}
    .add-btn{
      padding:8px 10px;
      background:linear-gradient(90deg,var(--accent),#2ec4ff);
      color:white;
      border-radius:10px;
      border:0;
      cursor:pointer;
      transition:transform .12s;
      font-weight:700;
    }
    .add-btn:active{transform:scale(.98)}
    .rating{
      display:flex;
      gap:6px;
      align-items:center;
      color:#f59e0b;
      font-weight:700;
      font-size:13px;
    }

    /* Deals carousel */
    .deals {
      display:flex;
      gap:12px;
      overflow:auto;
      padding-bottom:6px;
    }
    .deal-card{
      min-width:260px;
      background:linear-gradient(180deg,#fff, #fbfdff);
      border-radius:14px;
      padding:12px;
      box-shadow: 0 8px 24px rgba(2,6,23,0.04);
      display:flex;
      gap:12px;
      flex-direction:column;
    }
    .deal-card .deal-image{
      height:140px;
      border-radius:10px;
      background:linear-gradient(90deg,#ffe8e8,#fff);
      display:block;
      overflow:hidden;
    }
    .deal-card img{width:100%;height:100%;object-fit:cover}
    .deal-row{display:flex;justify-content:space-between;align-items:center}
    .deal-price{font-weight:900;color:var(--accent)}
    .old-price{color:var(--muted);text-decoration:line-through;font-weight:700;font-size:13px}
    .countdown{
      display:flex;
      gap:6px;
      font-weight:800;
      color:#111827;
      margin-top:8px;
    }
    .countdown span{
      background:rgba(0,0,0,0.06);
      padding:6px 8px;
      border-radius:8px;
      min-width:44px;
      text-align:center;
      font-feature-settings: "tnum";
    }

    /* Blog */
    .blogs{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
      gap:12px;
    }
    .blog-card{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow: 0 6px 18px rgba(10,20,40,0.04);
      display:flex;
      gap:10px;
      flex-direction:column;
    }
    .blog-card img{
      width:100%;
      height:150px;
      object-fit:cover;
      border-radius:8px;
    }
    .blog-card h3{margin:6px 0 4px 0}
    .blog-card p{margin:0;color:var(--muted);font-size:14px}
    .read-more{
      margin-top:auto;
      align-self:flex-start;
      color:var(--accent);
      font-weight:700;
      text-decoration:none;
    }

    footer{
      margin-top:26px;
      border-top:1px solid rgba(13,18,23,0.06);
      padding-top:18px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }

    /* Responsive adjustments */
    @media (max-width:900px){
      .hero{grid-template-columns:1fr; padding:18px}
      .preview{justify-content:flex-start}
      .search-wrap{min-width:160px}
      .nav-links{display:none}
    }
    @media (max-width:520px){
      .products-grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
      .deals{gap:10px}
    }

    /* small utilities */
    .muted{color:var(--muted)}
    a{color:inherit}
  </style>
</head>
<body>
  <div class="container" id="app">
    <header>
      <a class="logo" href="#" aria-label="ShopFront Home">
        <div class="mark">SF</div>
        <div>
          <div style="font-weight:800">ShopFront</div>
          <div style="font-size:12px;color:var(--muted)">Fresh finds, fast delivery</div>
        </div>
      </a>

      <nav aria-label="Main navigation">
        <div class="nav-links">
          <a href="#">Home</a>
          <a href="#">Categories</a>
          <a href="#">Deals</a>
          <a href="#">Blog</a>
          <a href="#">Support</a>
        </div>
      </nav>

      <div class="search-wrap" role="search" aria-label="Product search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 21l-4.35-4.35" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="11" cy="11" r="6" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input id="search" placeholder="Search popular items, brands..." aria-label="Search products" />
      </div>

      <div class="actions">
        <button class="icon-btn" id="accountBtn" title="Account">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" stroke="#374151" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M4 20a8 8 0 0 1 16 0" stroke="#374151" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button class="icon-btn" id="wishlistBtn" title="Wishlist">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 1 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke="#374151" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button class="icon-btn" id="cartBtn" aria-label="Cart" title="Cart">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6h15l-1.5 9h-12z" stroke="#374151" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="10" cy="20" r="1" fill="#374151"/>
            <circle cx="18" cy="20" r="1" fill="#374151"/>
          </svg>
          <div class="cart-badge" id="cartCount">0</div>
        </button>
      </div>
    </header>

    <main>
      <section class="hero" aria-labelledby="heroTitle">
        <div class="content">
          <h1 id="heroTitle">Discover something you'll love today</h1>
          <p>Top-rated picks, limited-time deals, and expert guides—curated to make your shopping effortless.</p>
          <div class="ctas">
            <button class="btn" id="shopNow">Shop Now</button>
            <button class="btn secondary" id="explore">Explore Categories</button>
          </div>
          <div style="margin-top:16px;color:var(--muted);font-size:13px">Free delivery over $50 • 30-day returns • 24/7 support</div>
        </div>
        <div class="preview" aria-hidden="true">
          <div class="preview-card">
            <img src="https://via.placeholder.com/360x240.png?text=Wireless+Headphones" alt="Featured product">
            <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
              <div style="font-size:13px;font-weight:700">NovaHeadphones</div>
              <div class="price">$79</div>
            </div>
          </div>
          <div style="display:flex;flex-direction:column;gap:12px">
            <div class="preview-card" style="width:160px;height:100px;padding:8px">
              <img src="https://via.placeholder.com/360x240.png?text=Smart+Watch" alt="">
              <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
                <div style="font-size:12px;font-weight:700">PulseWatch</div>
                <div class="price" style="font-size:13px">$99</div>
              </div>
            </div>
            <div class="preview-card" style="width:160px;height:100px;padding:8px">
              <img src="https://via.placeholder.com/360x240.png?text=Air+Fryer" alt="">
              <div style="width:100%;display:flex;justify-content:space-between;align-items:center">
                <div style="font-size:12px;font-weight:700">AirChef</div>
                <div class="price" style="font-size:13px">$59</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Popular Items -->
      <section aria-labelledby="popularHeading">
        <div class="section-head">
          <h2 id="popularHeading">Popular right now</h2>
          <a class="view-all" href="#">View all popular items →</a>
        </div>

        <div style="margin-bottom:8px;color:var(--muted);font-size:13px">
          Filter: <strong id="filterLabel">All</strong>
        </div>

        <div class="products-grid" id="productsGrid">
          <!-- Product items inserted by JS for demo. Fallback HTML for no-js: -->
          <div class="product">
            <img src="https://via.placeholder.com/320x240.png?text=Reusable+Bottle" alt="Reusable Bottle">
            <div class="meta">
              <div class="rating">★ 4.8</div>
              <div style="font-size:12px;color:var(--muted)">200+ sold</div>
            </div>
            <div class="title">Hydra Reusable Bottle</div>
            <p class="desc">Keeps drinks cold for 24 hours. BPA-free.</p>
            <div class="price-row">
              <div class="price">$24</div>
              <button class="add-btn" data-sku="bottle-01">Add</button>
            </div>
          </div>
          <div class="product">
            <img src="https://via.placeholder.com/320x240.png?text=Wireless+Earbuds" alt="Wireless Earbuds">
            <div class="meta">
              <div class="rating">★ 4.6</div>
              <div style="font-size:12px;color:var(--muted)">1.2k sold</div>
            </div>
            <div class="title">Breeze Earbuds</div>
            <p class="desc">Noise-cancellation and long battery life.</p>
            <div class="price-row">
              <div class="price">$59</div>
              <button class="add-btn" data-sku="buds-02">Add</button>
            </div>
          </div>
          <div class="product">
            <img src="https://via.placeholder.com/320x240.png?text=Yoga+Mat" alt="Yoga Mat">
            <div class="meta">
              <div class="rating">★ 4.9</div>
              <div style="font-size:12px;color:var(--muted)">800 sold</div>
            </div>
            <div class="title">ZenGrip Yoga Mat</div>
            <p class="desc">Non-slip textured surface.</p>
            <div class="price-row">
              <div class="price">$39</div>
              <button class="add-btn" data-sku="mat-03">Add</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Deals -->
      <section aria-labelledby="dealsHeading">
        <div class="section-head">
          <h2 id="dealsHeading">Today's deals</h2>
          <a class="view-all" href="#">See all deals →</a>
        </div>

        <div class="deals" id="dealsList" aria-live="polite">
          <div class="deal-card" data-end="">
            <div class="deal-image"><img src="https://via.placeholder.com/480x320.png?text=Smart+Lamp" alt="Smart Lamp"></div>
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:800">Aura Smart Lamp</div>
              <div class="old-price">$69</div>
            </div>
            <div class="deal-row">
              <div class="deal-price">$39</div>
              <button class="add-btn" data-sku="lamp-11">Buy</button>
            </div>
            <div class="countdown" aria-label="Deal countdown">
              <span class="cd-hour">--</span>
              <span class="cd-min">--</span>
              <span class="cd-sec">--</span>
            </div>
          </div>

          <div class="deal-card" data-end="">
            <div class="deal-image"><img src="https://via.placeholder.com/480x320.png?text=Mini+Projector" alt="Mini Projector"></div>
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:800">Pocket Projector</div>
              <div class="old-price">$129</div>
            </div>
            <div class="deal-row">
              <div class="deal-price">$89</div>
              <button class="add-btn" data-sku="proj-12">Buy</button>
            </div>
            <div class="countdown" aria-label="Deal countdown">
              <span class="cd-hour">--</span>
              <span class="cd-min">--</span>
              <span class="cd-sec">--</span>
            </div>
          </div>

          <div class="deal-card" data-end="">
            <div class="deal-image"><img src="https://via.placeholder.com/480x320.png?text=Road+Backpack" alt="Backpack"></div>
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:800">Trail Backpack</div>
              <div class="old-price">$89</div>
            </div>
            <div class="deal-row">
              <div class="deal-price">$49</div>
              <button class="add-btn" data-sku="pack-13">Buy</button>
            </div>
            <div class="countdown" aria-label="Deal countdown">
              <span class="cd-hour">--</span>
              <span class="cd-min">--</span>
              <span class="cd-sec">--</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Blog -->
      <section aria-labelledby="blogHeading">
        <div class="section-head">
          <h2 id="blogHeading">From our blog</h2>
          <a class="view-all" href="#">Read all posts →</a>
        </div>

        <div class="blogs">
          <article class="blog-card">
            <img src="https://via.placeholder.com/640x360.png?text=How+to+choose+the+perfect+headphones" alt="Choose headphones">
            <h3>How to choose the perfect headphones</h3>
            <p>Understand drivers, noise cancellation, and battery life to find a pair that fits your lifestyle.</p>
            <a href="#" class="read-more">Read article →</a>
          </article>

          <article class="blog-card">
            <img src="https://via.placeholder.com/640x360.png?text=5+kitchen+gadgets+that+save+time" alt="Kitchen gadgets">
            <h3>5 kitchen gadgets that save time</h3>
            <p>From air fryers to pocket blenders—smart tools that make meal prep quicker and more fun.</p>
            <a href="#" class="read-more">Read article →</a>
          </article>

          <article class="blog-card">
            <img src="https://via.placeholder.com/640x360.png?text=Packing+tips+for+weekend+trips" alt="Packing tips">
            <h3>Packing tips for weekend trips</h3>
            <p>Pack light, stay organized, and bring the essentials for stress-free weekend adventures.</p>
            <a href="#" class="read-more">Read article →</a>
          </article>
        </div>
      </section>
    </main>

    <footer>
      <div style="display:flex;gap:14px;align-items:center">
        <div style="font-weight:700">ShopFront</div>
        <div class="muted">© <span id="year"></span> ShopFront Inc.</div>
      </div>
      <div style="display:flex;gap:12px;align-items:center">
        <div class="muted">Support: help@shopfront.example</div>
        <div class="muted">•</div>
        <div class="muted">Terms & Privacy</div>
      </div>
    </footer>
  </div>

  <!-- Cart modal (simple) -->
  <div id="cartModal" aria-hidden="true" style="position:fixed;right:18px;bottom:18px;width:320px;border-radius:12px;background:var(--card);box-shadow:0 20px 60px rgba(2,6,23,0.2);padding:14px;display:none;z-index:60">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
      <div style="font-weight:800">Cart</div>
      <button id="closeCart" style="background:transparent;border:0;cursor:pointer;font-weight:700;color:var(--muted)">Close</button>
    </div>
    <div id="cartItems" style="min-height:60px;color:var(--muted)">No items yet.</div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
      <div style="font-weight:800">Total: $<span id="cartTotal">0</span></div>
      <button class="btn" id="checkoutBtn">Checkout</button>
    </div>
  </div>

  <script>
    (function(){
      // Demo product dataset
      const products = [
        {sku:'bottle-01', title:'Hydra Reusable Bottle', desc:'Keeps drinks cold for 24 hours. BPA-free.', price:24, rating:4.8, sold:200, img:'https://via.placeholder.com/480x320.png?text=Reusable+Bottle'},
        {sku:'buds-02', title:'Breeze Earbuds', desc:'Noise-cancellation and long battery life.', price:59, rating:4.6, sold:1200, img:'https://via.placeholder.com/480x320.png?text=Wireless+Earbuds'},
        {sku:'mat-03', title:'ZenGrip Yoga Mat', desc:'Non-slip textured surface.', price:39, rating:4.9, sold:800, img:'https://via.placeholder.com/480x320.png?text=Yoga+Mat'},
        {sku:'lamp-11', title:'Aura Smart Lamp', desc:'Smart ambient lamp with app control.', price:39, rating:4.5, sold:540, img:'https://via.placeholder.com/480x320.png?text=Smart+Lamp'},
        {sku:'proj-12', title:'Pocket Projector', desc:'Compact, great for movie nights.', price:89, rating:4.4, sold:210, img:'https://via.placeholder.com/480x320.png?text=Mini+Projector'},
        {sku:'pack-13', title:'Trail Backpack', desc:'Water-resistant and comfortable.', price:49, rating:4.7, sold:430, img:'https://via.placeholder.com/480x320.png?text=Road+Backpack'},
        {sku:'lamp-14', title:'Desk LED Lamp', desc:'Adjustable brightness and color temp.', price:29, rating:4.3, sold:150, img:'https://via.placeholder.com/480x320.png?text=Desk+Lamp'},
        {sku:'mug-15', title:'Thermo Mug', desc:'Double-wall insulated mug, 16oz.', price:19, rating:4.8, sold:780, img:'https://via.placeholder.com/480x320.png?text=Thermo+Mug'}
      ];

      const deals = [
        {sku:'lamp-11', title:'Aura Smart Lamp', old:69, price:39, img:'https://via.placeholder.com/640x400.png?text=Smart+Lamp', endsInSeconds: 3600 * 6 + 45}, // 6 hours
        {sku:'proj-12', title:'Pocket Projector', old:129, price:89, img:'https://via.placeholder.com/640x400.png?text=Mini+Projector', endsInSeconds: 3600 * 2 + 300}, // 2h5m
        {sku:'pack-13', title:'Trail Backpack', old:89, price:49, img:'https://via.placeholder.com/640x400.png?text=Road+Backpack', endsInSeconds: 3600 * 12 + 30} // 12h
      ];

      // Render popular products
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = ''; // clear fallback
      products.slice(0,8).forEach(p=>{
        const el = document.createElement('div');
        el.className = 'product';
        el.innerHTML = `
          <img src="${p.img}" alt="${escapeHtml(p.title)}">
          <div class="meta">
            <div class="rating">★ ${p.rating}</div>
            <div style="font-size:12px;color:var(--muted)">${p.sold}+ sold</div>
          </div>
          <div class="title">${escapeHtml(p.title)}</div>
          <p class="desc">${escapeHtml(p.desc)}</p>
          <div class="price-row">
            <div class="price">$${p.price}</div>
            <button class="add-btn" data-sku="${p.sku}">Add</button>
          </div>
        `;
        grid.appendChild(el);
      });

      // Render deals (update countdown end times)
      const dealsList = document.getElementById('dealsList');
      const dealCards = dealsList.querySelectorAll('.deal-card');
      // assign end timestamp for each deal card
      dealCards.forEach((card, idx) => {
        const d = deals[idx % deals.length];
        const endTs = Date.now() + d.endsInSeconds * 1000;
        card.querySelector('.deal-image img').src = d.img;
        card.querySelector('div[style*="font-weight:800"]').textContent = d.title;
        card.querySelector('.old-price').textContent = `$${d.old}`;
        card.querySelector('.deal-price').textContent = `$${d.price}`;
        card.setAttribute('data-end', endTs);
      });

      // Countdown updater
      function updateCountdowns(){
        const now = Date.now();
        document.querySelectorAll('.deal-card').forEach(card=>{
          const end = parseInt(card.getAttribute('data-end'),10) || 0;
          const diff = Math.max(0, end - now);
          const hrs = Math.floor(diff / (1000*60*60));
          const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
          const secs = Math.floor((diff % (1000*60)) / 1000);
          card.querySelector('.cd-hour').textContent = String(hrs).padStart(2,'0') + 'h';
          card.querySelector('.cd-min').textContent = String(mins).padStart(2,'0') + 'm';
          card.querySelector('.cd-sec').textContent = String(secs).padStart(2,'0') + 's';
        });
      }
      updateCountdowns();
      setInterval(updateCountdowns, 1000);

      // Cart functionality (simple)
      const cart = { items: {}, total: 0 };
      const cartCountEl = document.getElementById('cartCount');
      const cartItemsEl = document.getElementById('cartItems');
      const cartTotalEl = document.getElementById('cartTotal');
      const cartModal = document.getElementById('cartModal');

      function addToCart(sku){
        const p = products.find(x=>x.sku===sku) || deals.find(x=>x.sku===sku);
        if(!p) return;
        const price = p.price || p.price; // safe
        cart.items[sku] = cart.items[sku] || { sku, title: p.title || p.title, qty:0, price };
        cart.items[sku].qty += 1;
        recalcCart();
        bounceBadge();
        showToast(`${p.title} added to cart`);
      }

      function recalcCart(){
        let qty = 0, total = 0;
        Object.values(cart.items).forEach(it => { qty += it.qty; total += it.qty * it.price; });
        cart.total = total;
        cartCountEl.textContent = qty;
        cartTotalEl.textContent = total.toFixed(2);
        if(qty === 0) cartItemsEl.textContent = 'No items yet.';
        else {
          cartItemsEl.innerHTML = '';
          Object.values(cart.items).forEach(it => {
            const row = document.createElement('div');
            row.style.display = 'flex';
            row.style.justifyContent = 'space-between';
            row.style.marginBottom = '8px';
            row.innerHTML = `<div style="max-width:65%"><strong style="font-weight:700">${escapeHtml(it.title)}</strong><div style="font-size:13px;color:var(--muted)">Qty: ${it.qty}</div></div><div style="text-align:right">$${(it.qty*it.price).toFixed(2)}</div>`;
            cartItemsEl.appendChild(row);
          });
        }
      }

      function bounceBadge(){
        cartCountEl.animate([{transform:'scale(1)'},{transform:'scale(1.3)'},{transform:'scale(1)'}],{duration:320});
      }

      // Event delegation for add buttons
      document.addEventListener('click', function(e){
        const add = e.target.closest('.add-btn');
        if(add){
          const sku = add.getAttribute('data-sku');
          addToCart(sku);
        }
      });

      // Cart modal open/close
      document.getElementById('cartBtn').addEventListener('click', function(){
        cartModal.style.display = 'block';
        cartModal.setAttribute('aria-hidden','false');
      });
      document.getElementById('closeCart').addEventListener('click', function(){
        cartModal.style.display = 'none';
        cartModal.setAttribute('aria-hidden','true');
      });
      document.getElementById('checkoutBtn').addEventListener('click', function(){
        alert('Checkout demo — thank you for shopping with ShopFront!');
      });

      // Search filter for products (simple)
      const searchInput = document.getElementById('search');
      const filterLabel = document.getElementById('filterLabel');
      searchInput.addEventListener('input', function(){
        const q = (this.value || '').trim().toLowerCase();
        filterLabel.textContent = q ? `Searching “${q}”` : 'All';
        document.querySelectorAll('.product').forEach(card=>{
          const title = card.querySelector('.title').textContent.toLowerCase();
          const desc = card.querySelector('.desc').textContent.toLowerCase();
          card.style.display = (title.includes(q) || desc.includes(q)) ? '' : 'none';
        });
      });

      // Populate page year
      document.getElementById('year').textContent = new Date().getFullYear();

      // Add simple toast
      let toastTimer;
      function showToast(text){
        clearTimeout(toastTimer);
        let t = document.getElementById('toastEl');
        if(!t){
          t = document.createElement('div');
          t.id = 'toastEl';
          Object.assign(t.style, {
            position:'fixed', left:'50%', transform:'translateX(-50%)', bottom:'28px',
            background:'rgba(17,24,39,0.94)', color:'#fff', padding:'10px 14px', borderRadius:'10px',
            zIndex:90, fontWeight:700, boxShadow:'0 8px 30px rgba(2,6,23,0.3)'
          });
          document.body.appendChild(t);
        }
        t.textContent = text;
        t.style.opacity = '1';
        toastTimer = setTimeout(()=>{ t.style.opacity = '0'; }, 2000);
      }

      // Tiny helper to escape HTML in injected strings
      function escapeHtml(str){
        return String(str).replace(/[&<>"']/g, function(s){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[s]; });
      }

      // Small accessibility: keyboard open cart with 'c'
      window.addEventListener('keydown', function(e){
        if(e.key === 'c' || e.key === 'C'){
          cartModal.style.display = 'block';
          cartModal.setAttribute('aria-hidden','false');
        }
      });

      // Attach initial add handlers to deals buy buttons (cards were prefilled)
      document.querySelectorAll('.deal-card .add-btn').forEach(btn=>{
        btn.addEventListener('click', function(e){
          const sku = this.getAttribute('data-sku');
          addToCart(sku);
        });
      });

      // Shop Now scroll to products
      document.getElementById('shopNow').addEventListener('click', function(){
        document.getElementById('popularHeading').scrollIntoView({behavior:'smooth', block:'start'});
      });

      // Simple keyboard focus outlines improvement for mouse users
      (function(){
        const body = document.body;
        function handleMouseDown(){ body.classList.add('using-mouse'); }
        function handleKeyDown(e){ if(e.key === 'Tab'){ body.classList.remove('using-mouse'); } }
        document.addEventListener('mousedown', handleMouseDown);
        document.addEventListener('keydown', handleKeyDown);
      })();

    })();
  </script>
</body>
</html>