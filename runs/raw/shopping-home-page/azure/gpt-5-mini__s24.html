<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopEase ‚Äî Home</title>
  <meta name="description" content="ShopEase ‚Äî curated picks, daily deals and the latest blog posts to shop smarter.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f7f8fb;
      --card:#ffffff;
      --accent:#0d6efd;
      --muted:#6b7280;
      --success:#16a34a;
      --danger:#dc2626;
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 6px 18px rgba(18,24,40,0.06);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#ffffff 40%);
      color:#0f1724;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      font-size:15px;
    }
    header{
      position:sticky;
      top:0;
      z-index:20;
      backdrop-filter: blur(6px);
      background: rgba(255,255,255,0.85);
      border-bottom:1px solid rgba(15,23,36,0.05);
    }
    .nav{
      max-width:1200px;
      margin:0 auto;
      display:flex;
      gap:18px;
      align-items:center;
      padding:14px 20px;
    }
    .logo{
      display:flex;
      gap:10px;
      align-items:center;
      font-weight:700;
      color:var(--accent);
      text-decoration:none;
    }
    .logo-square{
      width:40px;
      height:40px;
      display:inline-grid;
      place-items:center;
      background:linear-gradient(135deg,var(--accent),#6610f2);
      color:white;
      border-radius:8px;
      font-weight:800;
      font-size:18px;
      box-shadow: var(--shadow);
    }
    nav.primary{display:flex;gap:12px;margin-left:8px;align-items:center}
    nav.primary a{
      color:#0f1724;text-decoration:none;padding:6px 8px;border-radius:6px;font-weight:600;font-size:14px;
    }
    nav.primary a.active{background:rgba(13,110,253,0.08);color:var(--accent)}
    .spacer{flex:1}
    .search {
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      border-radius:10px;
      padding:8px;
      box-shadow: var(--shadow);
      max-width:420px;
      width:40%;
    }
    .search input{
      border:0;outline:0;background:transparent;font-size:14px;width:100%;
    }
    .icons{display:flex;gap:8px;align-items:center}
    .icon-btn{
      border:0;background:transparent;padding:8px;border-radius:8px;cursor:pointer;
    }
    .badge{
      display:inline-grid;place-items:center;min-width:20px;height:20px;padding:0 6px;border-radius:999px;background:var(--danger);color:white;font-size:12px;margin-left:-8px;margin-top:-8px;
    }

    main{max-width:1200px;margin:22px auto;padding:0 20px;}

    /* HERO */
    .hero{
      display:grid;
      grid-template-columns:1fr 420px;
      gap:20px;
      align-items:stretch;
      margin-bottom:22px;
    }
    .hero-card{
      background:linear-gradient(180deg,#fff,#fafcff);
      border-radius:14px; padding:28px; box-shadow: var(--shadow);
    }
    .hero h1{margin:0 0 10px;font-size:28px;line-height:1.05}
    .hero p{color:var(--muted);margin:0 0 16px}
    .cta{display:flex;gap:10px;align-items:center}
    .btn{
      display:inline-block;padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:white;font-weight:700;cursor:pointer;text-decoration:none;
      box-shadow: 0 8px 30px rgba(13,110,253,0.12);
    }
    .btn.secondary{background:transparent;color:var(--accent);border:1px solid rgba(13,110,253,0.12);box-shadow:none}
    .hero-aside{
      border-radius:14px;padding:18px;background:linear-gradient(180deg,#fff,#f0f8ff);
      box-shadow: var(--shadow);
    }
    .hero-aside img{width:100%;height:260px;object-fit:cover;border-radius:10px}

    /* categories */
    .categories{display:flex;gap:12px;margin:18px 0 24px;flex-wrap:wrap}
    .cat{
      background:var(--card);border-radius:12px;padding:12px 14px;display:flex;gap:12px;align-items:center;box-shadow:var(--shadow);cursor:pointer;
      transition:transform .14s ease;
    }
    .cat:hover{transform:translateY(-4px)}
    .cat .emoji{font-size:20px}

    /* grids */
    .grid{
      display:grid;grid-template-columns:repeat(4,1fr);gap:16px;
    }
    @media (max-width:1000px){ .hero{grid-template-columns:1fr; } .grid{grid-template-columns:repeat(2,1fr)} .search{width:50%} }
    @media (max-width:640px){ .grid{grid-template-columns:1fr} .search{display:none} header .nav{padding:10px} }

    .product{
      background:var(--card);border-radius:12px;padding:12px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px;
    }
    .product img{width:100%;height:180px;object-fit:cover;border-radius:8px}
    .product h3{margin:4px 0;font-size:15px}
    .price-row{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .price{font-weight:700;color:#08112a}
    .muted{color:var(--muted);font-size:13px}
    .stars{color:#f59e0b;font-size:13px}
    .actions{display:flex;gap:8px;align-items:center}
    .small{font-size:13px;padding:8px;border-radius:8px;border:0;background:#f5f7fb;cursor:pointer}
    .add{flex:1;background:var(--accent);color:white;padding:10px;border-radius:10px;border:0;cursor:pointer;font-weight:700}

    /* deals */
    .deals{
      margin:24px 0;padding:18px;border-radius:12px;background:linear-gradient(90deg,#fff,#f8fbff);box-shadow:var(--shadow);
      display:flex;gap:16px;align-items:stretch;overflow:auto;
    }
    .deal{min-width:220px;background:white;padding:12px;border-radius:12px;box-shadow:0 6px 16px rgba(8,17,32,0.04);display:flex;flex-direction:column;gap:8px}
    .timer{font-weight:700;color:var(--danger);font-size:14px}
    .progress{height:8px;background:#eef2ff;border-radius:8px;overflow:hidden}
    .bar{height:100%;background:linear-gradient(90deg,#ff7a18,#ffb347)}

    /* blog */
    .blogs{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:20px 0}
    .blog{background:var(--card);border-radius:12px;padding:12px;box-shadow:var(--shadow)}
    .blog img{width:100%;height:150px;object-fit:cover;border-radius:8px}
    .tag{display:inline-block;background:#eef2ff;color:var(--accent);padding:6px 8px;border-radius:999px;font-size:12px;margin-bottom:6px}

    footer{margin-top:40px;background:linear-gradient(180deg,#fff,#f3f6ff);border-top:1px solid rgba(15,23,36,0.04);padding:28px 0}
    .footer-grid{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:18px;padding:0 20px}
    .newsletter{display:flex;gap:8px}
    .input{padding:10px;border-radius:10px;border:1px solid rgba(15,23,36,0.06);flex:1}
    .socials{display:flex;gap:10px}

    /* modal */
    .modal-backdrop{
      position:fixed;inset:0;background:rgba(8,18,34,0.45);display:none;align-items:center;justify-content:center;z-index:60;
    }
    .modal{background:white;padding:18px;border-radius:12px;max-width:900px;width:94%;box-shadow:0 30px 60px rgba(2,6,23,0.5);display:flex;gap:12px;max-height:85vh;overflow:auto}
    .modal img{width:360px;height:320px;object-fit:cover;border-radius:8px}
    .close{border:0;background:transparent;cursor:pointer;font-size:18px;padding:6px}

    /* utilities */
    .muted-2{color:#94a3b8;font-size:13px}
    small{color:var(--muted)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <header>
    <div class="nav" role="navigation" aria-label="Top Navigation">
      <a class="logo" href="#" aria-label="ShopEase home">
        <span class="logo-square" aria-hidden="true">SE</span>
        <div>
          <div style="font-size:13px;color:#08112a">ShopEase</div>
          <small style="color:var(--muted)">Curated picks & daily deals</small>
        </div>
      </a>

      <nav class="primary" aria-label="Primary">
        <a href="#" class="active">Home</a>
        <a href="#">Shop</a>
        <a href="#">Deals</a>
        <a href="#">Blog</a>
        <a href="#">Contact</a>
      </nav>

      <div class="spacer" aria-hidden="true"></div>

      <div class="search" role="search" aria-label="Search products">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#94a3b8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#94a3b8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <input id="searchInput" type="search" aria-label="Search for products" placeholder="Search products, brands, categories...">
        <button class="icon-btn" id="searchBtn" aria-label="Search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#475569" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#475569" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
      </div>

      <div class="icons" role="group" aria-label="User actions">
        <button class="icon-btn" aria-label="Wishlist" id="wishlistBtn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M20.8 8.6c0 6-8 10.8-8 10.8s-8-4.8-8-10.8S6.8 2 12 7.2 20.8 8.6 20.8 8.6z" stroke="#ef4444" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="rgba(239,68,68,0.06)"/></svg>
        </button>
        <button class="icon-btn" aria-label="Account">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="#475569" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke="#475569" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <button class="icon-btn" aria-label="Cart" id="cartBtn" style="position:relative">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 3h2l.4 2M7 13h10l4-8H5.4" stroke="#475569" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="20" r="1" fill="#475569"/><circle cx="20" cy="20" r="1" fill="#475569"/></svg>
          <span class="badge" id="cartCount" aria-live="polite">0</span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero" aria-label="Promotions">
      <div class="hero-card">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px">
          <div>
            <h1>Find something you love ‚Äî up to 50% off select items</h1>
            <p>New arrivals and handpicked collections to refresh your home, wardrobe, and tech. Free returns and fast shipping.</p>
            <div class="cta">
              <a href="#" class="btn" id="shopNow">Shop Now</a>
              <a href="#" class="btn secondary">Browse collections</a>
            </div>
          </div>
          <div style="text-align:right">
            <small class="muted">Secure checkout</small>
            <div style="margin-top:8px;padding:10px;border-radius:10px;background:#f8fafc;border:1px solid rgba(13,110,253,0.06);display:inline-block">
              <strong style="font-weight:700">Free Shipping</strong><div class="muted-2">Orders over $50</div>
            </div>
          </div>
        </div>

        <div style="margin-top:18px;display:flex;gap:12px;align-items:center">
          <div class="categories" style="margin:0;flex:1">
            <div class="cat" data-cat="featured" tabindex="0"><span class="emoji">‚ú®</span><div><strong>Featured</strong><div class="muted">Top picks</div></div></div>
            <div class="cat" data-cat="electronics" tabindex="0"><span class="emoji">üîå</span><div><strong>Electronics</strong><div class="muted">Gadgets & accessories</div></div></div>
            <div class="cat" data-cat="home" tabindex="0"><span class="emoji">üè†</span><div><strong>Home</strong><div class="muted">Essentials</div></div></div>
            <div class="cat" data-cat="fashion" tabindex="0"><span class="emoji">üëü</span><div><strong>Fashion</strong><div class="muted">New drops</div></div></div>
          </div>

          <div style="min-width:220px">
            <small class="muted">Sort by</small>
            <select id="sortSelect" class="input" aria-label="Sort products" style="width:100%;margin-top:6px">
              <option value="popular">Most Popular</option>
              <option value="new">Newest</option>
              <option value="price-asc">Price: Low to High</option>
              <option value="price-desc">Price: High to Low</option>
            </select>
          </div>
        </div>
      </div>

      <aside class="hero-aside" aria-label="Featured product">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <small class="muted">Deal of the day</small>
            <h3 style="margin:6px 0 0">Noise-Canceling Headphones</h3>
            <div class="muted">Up to 40% off ‚Äî limited stock</div>
          </div>
          <div style="text-align:right">
            <div style="font-weight:800;font-size:20px;color:#08112a">$89 <span class="muted" style="font-weight:600;font-size:12px;text-decoration:line-through">$149</span></div>
            <small class="muted">Originally $149</small>
          </div>
        </div>
        <img src="https://images.unsplash.com/photo-1518441902110-9c7b6118b7a0?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1ff3d0f9a8ce5d0c95adf9b6c3d8f733" alt="Headphones on table">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
          <div class="muted">Hurry ‚Äî sale ends soon</div>
          <div class="timer" id="heroTimer" aria-live="polite">00:00:00</div>
        </div>
      </aside>
    </section>

    <section aria-labelledby="popular-heading">
      <div style="display:flex;justify-content:space-between;align-items:end;margin-bottom:12px">
        <h2 id="popular-heading" style="margin:0">Popular items</h2>
        <small class="muted">Top picks this week</small>
      </div>

      <div class="grid" id="productsGrid" aria-live="polite">
        <!-- products injected by JS -->
      </div>

      <div style="display:flex;justify-content:center;margin-top:14px">
        <button id="loadMoreBtn" class="btn secondary">Load more</button>
      </div>
    </section>

    <section aria-labelledby="deals-heading" style="margin-top:26px">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h2 id="deals-heading">Today's deals</h2>
        <small class="muted">Limited time offers</small>
      </div>

      <div class="deals" id="dealsRow" aria-live="polite" tabindex="0">
        <!-- deals injected by JS -->
      </div>
    </section>

    <section aria-labelledby="blog-heading" style="margin-top:26px">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <h2 id="blog-heading">From our blog</h2>
        <small class="muted">Tips, trends & gift guides</small>
      </div>

      <div class="blogs" id="blogGrid" aria-live="polite">
        <!-- blogs injected by JS -->
      </div>
    </section>

    <!-- Quick view modal -->
    <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div style="display:flex;gap:12px;flex:1">
          <img id="modalImage" src="" alt="">
          <div style="flex:1;display:flex;flex-direction:column;gap:8px">
            <div style="display:flex;justify-content:space-between;align-items:start">
              <div>
                <h3 id="modalTitle" style="margin:0">Product name</h3>
                <div class="muted">by <strong id="modalBrand">Brand</strong></div>
              </div>
              <button class="close" id="modalClose" aria-label="Close quick view">‚úï</button>
            </div>
            <div style="font-weight:700;font-size:20px" id="modalPrice">$0</div>
            <div class="muted" id="modalDesc">Description</div>
            <div style="margin-top:auto;display:flex;gap:8px">
              <button class="add" id="modalAdd">Add to cart</button>
              <button class="small" id="modalWishlist">Wishlist</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </main>

  <footer>
    <div class="footer-grid" role="contentinfo">
      <div>
        <h3 style="margin-top:0">ShopEase</h3>
        <p class="muted">Handpicked collections and daily deals to help you shop smarter.</p>
        <div class="socials" aria-label="Social links">
          <a href="#" class="small">Twitter</a>
          <a href="#" class="small">Instagram</a>
          <a href="#" class="small">Facebook</a>
        </div>
      </div>
      <div>
        <h4 style="margin:0 0 8px">Explore</h4>
        <ul style="list-style:none;padding:0;margin:0">
          <li><a href="#">Shop</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Deals</a></li>
          <li><a href="#">Blog</a></li>
        </ul>
      </div>
      <div>
        <h4 style="margin:0 0 8px">Support</h4>
        <ul style="list-style:none;padding:0;margin:0">
          <li><a href="#">Help Center</a></li>
          <li><a href="#">Returns</a></li>
          <li><a href="#">Shipping</a></li>
          <li><a href="#">Track order</a></li>
        </ul>
      </div>
      <div>
        <h4 style="margin:0 0 8px">Get our deals</h4>
        <form id="newsletterForm" class="newsletter" aria-label="Subscribe to newsletter">
          <input type="email" required placeholder="Your email" class="input" id="newsletterEmail" aria-label="Email address">
          <button class="btn" type="submit">Subscribe</button>
        </form>
        <small class="muted">We send weekly updates. Unsubscribe anytime.</small>
      </div>
    </div>
  </footer>

  <script>
    // Sample data
    const products = [
      { id:1, title:"Classic Leather Sneakers", price:79, oldPrice:129, rating:4.6, reviews:244, img:"https://images.unsplash.com/photo-1519741490267-03bf9a3e66d4?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=7f8fa3e1f9f9b3e1958799f3c6f6d3f3", category:"fashion"},
      { id:2, title:"Smartwatch Series 5", price:149, oldPrice:199, rating:4.4, reviews:520, img:"https://images.unsplash.com/photo-1517433456452-f9633a875f6f?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=9ff9b9988df42056d9ce3a1bf7b1f9a6", category:"electronics"},
      { id:3, title:"Minimalist Lamp", price:39, oldPrice:59, rating:4.2, reviews:128, img:"https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=f9d6e3a221d78e6f0d8f5c5e7fa1c3b6", category:"home"},
      { id:4, title:"Noise-Canceling Headphones", price:89, oldPrice:149, rating:4.7, reviews:834, img:"https://images.unsplash.com/photo-1518441902110-9c7b6118b7a0?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1ff3d0f9a8ce5d0c95adf9b6c3d8f733", category:"electronics"},
      { id:5, title:"Organic Cotton Shirt", price:29, oldPrice:49, rating:4.3, reviews:98, img:"https://images.unsplash.com/photo-1520975698517-87a7e4d3e0f3?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=5f8fe9478a3ad6a9f3f11b3f7d7b8e1b", category:"fashion"},
      { id:6, title:"Bamboo Cutting Board", price:19, oldPrice:29, rating:4.1, reviews:67, img:"https://images.unsplash.com/photo-1541199249256-0a1f59e86a51?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=9b1b7cfae1b6b8a3f6c9c2d7f1a8c5d3", category:"home"},
      { id:7, title:"Portable Charger 20K", price:34, oldPrice:59, rating:4.5, reviews:312, img:"https://images.unsplash.com/photo-1536305030016-0b7e2a1d6b8c?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=41b3c6a5d8e9f7b6a4c3d2e1f0a9b8c7", category:"electronics"},
      { id:8, title:"Cozy Knit Throw", price:49, oldPrice:79, rating:4.6, reviews:210, img:"https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=6f9f0e0c9b8a7d5e3c2b1f0a9e8d7c6b", category:"home"}
    ];

    const deals = [
      { id:101, title:"Bluetooth Speaker", price:29, oldPrice:59, img:"https://images.unsplash.com/photo-1518441902110-9c7b6118b7a0?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1ff3d0f9a8ce5d0c95adf9b6c3d8f733", endsInMinutes: 180 },
      { id:102, title:"Wireless Mouse", price:15, oldPrice:29, img:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=6a2bb3c9f8b3d9e2d1c0f3b6a8f4c2e1", endsInMinutes: 360 },
      { id:103, title:"Yoga Mat", price:19, oldPrice:39, img:"https://images.unsplash.com/photo-1541866401-8a47b3762b78?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=a2c3f8d9e1a4b6c7d8e9f0a1b2c3d4e5", endsInMinutes: 90 },
      { id:104, title:"Travel Mug", price:9, oldPrice:19, img:"https://images.unsplash.com/photo-1532634896-26909d0d829a?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=8d3e5c6b7f9a1b2c3d4e5f6a7b8c9d0e", endsInMinutes: 40 }
    ];

    const blogs = [
      { id:201, title:"Top 10 Holiday Gift Ideas", tag:"Gift Guide", excerpt:"Find the perfect gifts for everyone on your list with our curated guide.", img:"https://images.unsplash.com/photo-1482192596544-9eb780fc7f66?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1c3b57c2f8a6b8e4d2c3e7a1f0b9a6c4" },
      { id:202, title:"How to Style Minimalist Home", tag:"Home", excerpt:"Simple tips to make your home feel cozy and curated without clutter.", img:"https://images.unsplash.com/photo-1505691723518-36a5a3b0a2b9?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=4a2b6d8e9f1c3b5a7d2e6f9b8a1c3d4e" },
      { id:203, title:"Sustainable Fashion: Where to Start", tag:"Fashion", excerpt:"Small changes that make a big impact ‚Äî shop better, waste less.", img:"https://images.unsplash.com/photo-1520975919772-6ce2f2a8d2a1?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=2b7a1e3d4c5f6a8b9d0e1f2a3b4c5d6e" }
    ];

    // Utilities
    const formatCurrency = v => `$${v.toFixed(0)}`;
    const el = sel => document.querySelector(sel);
    const nl = sel => Array.from(document.querySelectorAll(sel));

    // Render product cards
    const productsGrid = el('#productsGrid');
    let visibleCount = 4;
    function renderProducts(items){
      productsGrid.innerHTML = '';
      items.slice(0, visibleCount).forEach(p => {
        const card = document.createElement('article');
        card.className = 'product';
        card.setAttribute('data-id', p.id);
        card.innerHTML = `
          <img src="${p.img}" alt="${p.title}">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <h3>${p.title}</h3>
            <div class="stars" aria-hidden="true">${'‚òÖ'.repeat(Math.round(p.rating))}</div>
          </div>
          <div class="muted">${p.reviews} reviews</div>
          <div class="price-row">
            <div>
              <div class="price">${formatCurrency(p.price)}</div>
              ${p.oldPrice ? `<small class="muted" style="text-decoration:line-through">${formatCurrency(p.oldPrice)}</small>` : ''}
            </div>
            <div style="text-align:right">
              <div class="muted">Category</div>
              <div class="muted-2" style="font-weight:700">${p.category}</div>
            </div>
          </div>
          <div style="display:flex;gap:8px;margin-top:8px" class="actions">
            <button class="small quick" data-id="${p.id}" aria-label="Quick view ${p.title}">Quick view</button>
            <button class="small" data-id="${p.id}" aria-label="Add ${p.title} to wishlist">‚ô°</button>
            <button class="add" data-id="${p.id}" aria-label="Add ${p.title} to cart">Add to cart</button>
          </div>
        `;
        productsGrid.appendChild(card);
      });
    }

    // Render deals
    const dealsRow = el('#dealsRow');
    function renderDeals(list){
      dealsRow.innerHTML = '';
      const now = Date.now();
      list.forEach(d => {
        const end = now + d.endsInMinutes * 60 * 1000;
        const node = document.createElement('div');
        node.className = 'deal';
        node.innerHTML = `
          <img src="${d.img}" alt="${d.title}" style="width:100%;height:120px;object-fit:cover;border-radius:8px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:700">${d.title}</div>
            <div style="text-align:right">
              <div style="font-weight:700">${formatCurrency(d.price)}</div>
              <small class="muted" style="text-decoration:line-through">${formatCurrency(d.oldPrice)}</small>
            </div>
          </div>
          <div class="timer" data-end="${end}" aria-live="polite">00:00:00</div>
          <div class="progress" aria-hidden="true"><div class="bar" style="width:${Math.max(10, Math.random()*90)}%"></div></div>
          <div style="display:flex;gap:8px">
            <button class="add" data-id="${d.id}">Buy</button>
            <button class="small">Notify me</button>
          </div>
        `;
        dealsRow.appendChild(node);
      });
    }

    // Render blogs
    const blogGrid = el('#blogGrid');
    function renderBlogs(list){
      blogGrid.innerHTML = '';
      list.forEach(b => {
        const card = document.createElement('article');
        card.className = 'blog';
        card.innerHTML = `
          <img src="${b.img}" alt="${b.title}">
          <div style="margin-top:8px">
            <div class="tag">${b.tag}</div>
            <h3 style="margin:6px 0 4px">${b.title}</h3>
            <div class="muted">${b.excerpt}</div>
            <div style="margin-top:8px"><a href="#" class="small">Read more ‚Üí</a></div>
          </div>
        `;
        blogGrid.appendChild(card);
      });
    }

    // Countdown timers
    function updateTimers(){
      const timers = document.querySelectorAll('[data-end]');
      timers.forEach(t => {
        const end = +t.getAttribute('data-end');
        const diff = end - Date.now();
        if(diff <= 0){
          t.textContent = 'Expired';
          t.style.color = 'var(--muted)';
          return;
        }
        const hrs = Math.floor(diff/3600000);
        const mins = Math.floor((diff%3600000)/60000);
        const secs = Math.floor((diff%60000)/1000);
        t.textContent = `${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
      });

      // hero timer (example 12 hours from load)
      const heroTimer = el('#heroTimer');
      if(heroTimer){
        const heroEnd = heroTimer.getAttribute('data-end') || (Date.now() + 12*3600*1000);
        const diff = heroEnd - Date.now();
        if(diff <= 0) heroTimer.textContent = '00:00:00';
        else {
          const hrs = Math.floor(diff/3600000);
          const mins = Math.floor((diff%3600000)/60000);
          const secs = Math.floor((diff%60000)/1000);
          heroTimer.textContent = `${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
        }
        heroTimer.setAttribute('data-end', heroEnd);
      }
    }

    // Interactions: Add to cart, quick view, search, load more
    let cartCount = 0;
    function addToCart(id){
      cartCount++;
      el('#cartCount').textContent = cartCount;
      el('#cartCount').animate([{transform:'scale(1.3)'},{transform:'scale(1)'}],{duration:240});
    }

    // Quick view modal
    const modalBackdrop = el('#modalBackdrop');
    function openModal(product){
      el('#modalImage').src = product.img;
      el('#modalImage').alt = product.title;
      el('#modalTitle').textContent = product.title;
      el('#modalPrice').textContent = formatCurrency(product.price);
      el('#modalBrand').textContent = product.category;
      el('#modalDesc').textContent = `${product.reviews} reviews ‚Ä¢ Rating ${product.rating}`;
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden', 'false');
    }
    function closeModal(){
      modalBackdrop.style.display = 'none';
      modalBackdrop.setAttribute('aria-hidden', 'true');
    }

    // Initial render
    renderProducts(products);
    renderDeals(deals);
    renderBlogs(blogs);
    updateTimers();
    setInterval(updateTimers, 1000);

    // Event delegation for product actions
    productsGrid.addEventListener('click', e => {
      const q = e.target.closest('.quick');
      const add = e.target.closest('.add');
      if(q){
        const id = +q.dataset.id;
        const p = products.find(x => x.id === id);
        if(p) openModal(p);
      } else if(add){
        const id = +add.dataset.id;
        // If from product card, id will match; deals also use add button
        const p = products.find(x => x.id === id) || deals.find(x => x.id === id);
        addToCart(id);
      }
    });

    dealsRow.addEventListener('click', e => {
      const add = e.target.closest('.add');
      if(add){
        const id = +add.dataset.id;
        addToCart(id);
      }
    });

    el('#modalClose').addEventListener('click', closeModal);
    modalBackdrop.addEventListener('click', e => { if(e.target === modalBackdrop) closeModal(); });
    el('#modalAdd').addEventListener('click', () => {
      const title = el('#modalTitle').textContent;
      addToCart();
      closeModal();
      alert(`${title} added to cart.`);
    });

    // Search
    const searchInput = el('#searchInput');
    const searchBtn = el('#searchBtn');
    function performSearch(){
      const q = searchInput.value.trim().toLowerCase();
      if(!q){
        renderProducts(products);
        return;
      }
      const filtered = products.filter(p => p.title.toLowerCase().includes(q) || p.category.toLowerCase().includes(q));
      renderProducts(filtered);
    }
    searchBtn.addEventListener('click', performSearch);
    searchInput.addEventListener('keydown', e => { if(e.key === 'Enter') performSearch(); });

    // Load more
    el('#loadMoreBtn').addEventListener('click', () => {
      visibleCount = Math.min(products.length, visibleCount + 4);
      renderProducts(products);
      if(visibleCount >= products.length) el('#loadMoreBtn').style.display = 'none';
    });

    // Sorting
    el('#sortSelect').addEventListener('change', e => {
      const val = e.target.value;
      let sorted = [...products];
      if(val === 'new') sorted.reverse();
      if(val === 'price-asc') sorted.sort((a,b)=>a.price-b.price);
      if(val === 'price-desc') sorted.sort((a,b)=>b.price-a.price);
      renderProducts(sorted);
    });

    // Category click
    nl('.cat').forEach(c => {
      c.addEventListener('click', () => {
        const cat = c.getAttribute('data-cat');
        if(cat === 'featured') {
          renderProducts(products);
          return;
        }
        const filtered = products.filter(p => p.category === cat);
        renderProducts(filtered);
      });
    });

    // Newsletter submit
    el('#newsletterForm').addEventListener('submit', e => {
      e.preventDefault();
      const email = el('#newsletterEmail').value;
      if(!email) return;
      el('#newsletterEmail').value = '';
      alert(`Thanks! ${email} has been subscribed.`);
    });

    // Accessibility: keyboard for quick actions
    document.addEventListener('keydown', e => {
      if(e.key === 'Escape') closeModal();
    });

    // Touch-friendly scrolling hint for deals
    dealsRow.addEventListener('wheel', e => {
      if(Math.abs(e.deltaX) < Math.abs(e.deltaY)) return;
      e.preventDefault();
      dealsRow.scrollLeft += e.deltaY;
    }, {passive:false});
  </script>
</body>
</html>