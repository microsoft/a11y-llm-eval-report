<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .example {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .example h2 {
            margin: 0;
            padding: 15px;
            background-color: #f5f5f5;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .example h2:hover {
            background-color: #e9e9e9;
        }
        .example h2::after {
            content: '+';
            font-size: 24px;
            font-weight: bold;
            transition: transform 0.2s ease;
        }
        .example.active h2::after {
            transform: rotate(45deg);
        }
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            background-color: #fff;
        }
        .example.active .details {
            max-height: 500px; /* Adjust based on content */
            padding: 15px;
        }
        .details p {
            margin: 0 0 10px 0;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Demo</h1>

    <div class="example" id="example1">
        <h2 onclick="toggleExample('example1')">Basic Information</h2>
        <div class="details">
            <p>This is a basic expandable section that demonstrates simple expand/collapse functionality. Click the header to toggle the content visibility.</p>
            <p>The content smoothly animates in and out using CSS transitions on the max-height property.</p>
        </div>
    </div>

    <div class="example" id="example2">
        <h2 onclick="toggleExample('example2')">Advanced Features</h2>
        <div class="details">
            <p>This example shows more detailed content about advanced features of the widget.</p>
            <ul>
                <li>Smooth CSS transitions for professional appearance</li>
                <li>Customizable animation duration</li>
                <li>Accessible keyboard navigation</li>
                <li>Multiple instances on the same page</li>
            </ul>
            <p>You can have lists, paragraphs, or any other HTML content within the expandable area.</p>
        </div>
    </div>

    <div class="example" id="example3">
        <h2 onclick="toggleExample('example3')">Settings</h2>
        <div class="details">
            <h3>Configuration Options</h3>
            <p>Customize the widget behavior:</p>
            <label>
                <input type="checkbox" id="autoExpand" onchange="handleAutoExpand()">
                Auto-expand on page load
            </label><br><br>
            
            <label>
                Animation Duration: 
                <select id="animationSpeed">
                    <option value="0.2s">Fast</option>
                    <option value="0.3s" selected>Normal</option>
                    <option value="0.5s">Slow</option>
                </select>
            </label>
        </div>
    </div>

    <script>
        function toggleExample(exampleId) {
            const example = document.getElementById(exampleId);
            example.classList.toggle('active');
            
            // Update animation duration if changed
            const speedSelect = document.getElementById('animationSpeed');
            if (speedSelect) {
                const style = document.getElementById('dynamicStyles');
                if (!style) {
                    const newStyle = document.createElement('style');
                    newStyle.id = 'dynamicStyles';
                    document.head.appendChild(newStyle);
                }
                document.getElementById('dynamicStyles').textContent = 
                    `.example .details { transition: max-height ${speedSelect.value} ease-out, padding ${speedSelect.value} ease-out; }`;
            }
        }

        function handleAutoExpand() {
            const autoExpand = document.getElementById('autoExpand');
            if (autoExpand && autoExpand.checked) {
                document.getElementById('example1').classList.add('active');
            }
        }

        // Initialize with first example expanded
        document.addEventListener('DOMContentLoaded', function() {
            toggleExample('example1');
        });

        // Add keyboard accessibility
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                const header = e.target.closest('h2');
                if (header && header.onclick) {
                    header.click();
                    e.preventDefault();
                }
            }
        });
    </script>
</body>
</html>