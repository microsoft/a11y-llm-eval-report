<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .accordion {
            background-color: #eee;
            color: #444;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-radius: 8px 8px 0 0;
            font-weight: bold;
        }

        .accordion h3 {
            margin: 0;
            font-size: inherit;
            flex-grow: 1;
        }

        .accordion::after {
            content: '\02795'; /* Plus sign */
            font-size: 0.9em;
            color: #777;
            float: right;
            margin-left: 10px;
            transition: transform 0.3s ease;
        }

        .accordion[aria-expanded="true"] {
            background-color: #ddd;
        }

        .accordion[aria-expanded="true"]::after {
            content: '\2796'; /* Minus sign */
            transform: rotate(0deg); /* No rotation needed for this icon */
        }

        .accordion:hover {
            background-color: #ccc;
        }

        .details {
            padding: 0 18px;
            background-color: white;
            overflow: hidden;
            border-top: 1px solid #eee;
            border-radius: 0 0 8px 8px;
        }

        .details p {
            margin: 15px 0;
            line-height: 1.6;
        }

        .details:not([hidden]) {
            animation: slideDown 0.3s ease-out forwards;
        }

        .details[hidden] {
            animation: slideUp 0.3s ease-out forwards;
        }

        /* Keyframes for subtle animation */
        @keyframes slideDown {
            from {
                max-height: 0;
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                max-height: 500px; /* Adjust to be larger than max possible content height */
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                max-height: 500px; /* Should match max-height in slideDown */
                opacity: 1;
                transform: translateY(0);
            }
            to {
                max-height: 0;
                opacity: 0;
                transform: translateY(-10px);
            }
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="accordion" aria-expanded="false" aria-controls="panel1">
            <h3>Section 1: What is an Accordion?</h3>
        </button>
        <div id="panel1" class="details" hidden>
            <p>An accordion is a graphical control element comprising a vertically stacked list of items, such as labels or thumbnails. Each item can be "expanded" or "collapsed" to reveal or hide its associated content. This UI pattern is commonly used to save screen space and organize related content into digestible sections.</p>
            <p>They are particularly useful on mobile devices where screen real estate is limited.</p>
        </div>
    </div>

    <div class="example">
        <button class="accordion" aria-expanded="false" aria-controls="panel2">
            <h3>Section 2: How to Use It</h3>
        </button>
        <div id="panel2" class="details" hidden>
            <p>Click on the header of any section to expand or collapse its content. The plus sign next to the header will change to a minus sign when the section is open, indicating that it can be closed.</p>
            <ul>
                <li><strong>Click</strong> to toggle.</li>
                <li><strong>Accessibility:</strong> Designed with ARIA attributes for screen readers.</li>
                <li><strong>Flexibility:</strong> Can contain any HTML content inside the expanded area.</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <button class="accordion" aria-expanded="false" aria-controls="panel3">
            <h3>Section 3: Benefits and Best Practices</h3>
        </button>
        <div id="panel3" class="details" hidden>
            <p>Using expand/collapse widgets can significantly improve user experience by:</p>
            <ul>
                <li>Reducing cognitive load by showing only relevant information.</li>
                <li>Saving vertical space on a page, especially beneficial for long forms or FAQs.</li>
                <li>Organizing complex information into logical, manageable chunks.</li>
            </ul>
            <p>Best practices include using clear labels, indicating the current state (expanded/collapsed), and ensuring keyboard navigation works seamlessly.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const accordions = document.querySelectorAll('.accordion');

            accordions.forEach(accordion => {
                accordion.addEventListener('click', function() {
                    const expanded = this.getAttribute('aria-expanded') === 'true' || false;
                    this.setAttribute('aria-expanded', !expanded);

                    const contentId = this.getAttribute('aria-controls');
                    const content = document.getElementById(contentId);

                    if (expanded) {
                        // Collapse
                        content.setAttribute('hidden', '');
                    } else {
                        // Expand
                        content.removeAttribute('hidden');
                    }
                });
            });
        });
    </script>
</body>
</html>