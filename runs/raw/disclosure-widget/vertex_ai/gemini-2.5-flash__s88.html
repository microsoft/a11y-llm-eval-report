<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }

        /* Widget container */
        .example {
            border: 1px solid #ddd;
            margin-bottom: 15px;
            border-radius: 5px;
            overflow: hidden; /* Ensures borders/shadows are clean during collapse */
        }

        /* Clickable header for the widget */
        .expand-header {
            background-color: #e9ecef;
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none; /* Prevent text selection on header */
            border-bottom: 1px solid #ddd;
        }

        .expand-header:hover {
            background-color: #e0e4e8;
        }

        .expand-header h3 {
            margin: 0;
            font-size: 1.15em;
            color: #34495e;
        }

        /* Toggle icon styling */
        .toggle-icon {
            font-size: 1em;
            font-weight: bold;
            transition: transform 0.3s ease-in-out;
            color: #7f8c8d;
        }

        /* Rotate icon when header is active (expanded) */
        .expand-header.active .toggle-icon {
            transform: rotate(180deg);
            color: #2c3e50;
        }

        /* Content container for expansion/collapse */
        .details {
            max-height: 0; /* Hidden by default */
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            background-color: #ffffff;
            padding: 0 15px; /* Keep horizontal padding even when collapsed */
            color: #555;
        }

        /* Visible state for details content */
        .details.visible {
            max-height: 500px; /* A value larger than the expected content height */
            padding: 15px; /* Full padding when visible */
            border-top: 1px solid #eee; /* Visual separation */
        }

        /* Basic styling for content within details */
        .details p {
            margin-top: 0;
            line-height: 1.6;
        }

        .details ul {
            padding-left: 20px;
            margin-bottom: 0;
        }

        .details li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Expand/Collapse Widgets</h1>

        <div class="example">
            <div class="expand-header">
                <h3>Section One <span class="toggle-icon">▼</span></h3>
            </div>
            <div class="details">
                <p>This is the content for Section One. It will expand or collapse when the header is clicked. This widget demonstrates a simple way to hide and show detailed information without cluttering the initial view.</p>
                <ul>
                    <li>Feature A: Dynamic content loading</li>
                    <li>Feature B: User-friendly interface</li>
                    <li>Feature C: Responsive design</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <div class="expand-header active"> <!-- Initial state: active/expanded header -->
                <h3>Section Two (Initially Open) <span class="toggle-icon">▼</span></h3>
            </div>
            <div class="details visible"> <!-- Initial state: visible/expanded content -->
                <p>This section is initially open to demonstrate how to set an expand/collapse widget to be open by default. You can still click the header to close it.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            </div>
        </div>

        <div class="example">
            <div class="expand-header">
                <h3>Section Three <span class="toggle-icon">▼</span></h3>
            </div>
            <div class="details">
                <p>Here's another example! You can have as many of these widgets as you like on a single page. Each operates independently.</p>
                <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.expand-header').forEach(header => {
                header.addEventListener('click', () => {
                    const details = header.nextElementSibling;
                    // Ensure it's the correct sibling and has the 'details' class
                    if (details && details.classList.contains('details')) {
                        header.classList.toggle('active');
                        details.classList.toggle('visible');
                    }
                });
            });
        });
    </script>
</body>
</html>