<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .toggle-button {
            display: block;
            width: 100%;
            text-align: left;
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 15px;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            margin-bottom: 10px; /* Space between button and content when visible */
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .toggle-button::after {
            content: '+';
            float: right;
            transition: transform 0.3s ease;
        }

        .toggle-button[aria-expanded="true"]::after {
            content: 'âˆ’';
            transform: rotate(0deg); /* No rotation needed for plus/minus */
        }

        .details {
            display: none; /* Hidden by default */
            padding: 15px;
            border-top: 1px solid #eee;
            background-color: #f9f9f9;
            border-radius: 0 0 5px 5px;
        }

        .details.expanded {
            display: block; /* Visible when expanded */
        }

        .details p {
            margin-bottom: 10px;
        }

        .details p:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button" aria-expanded="false">Expand Section 1</button>
        <div class="details">
            <p>This is the first section's content. It contains important information that can be hidden or shown on demand.</p>
            <p>You can put any HTML elements here, like lists, images, or more paragraphs.</p>
            <ul>
                <li>Item 1</li>
                <li>Item 2</li>
                <li>Item 3</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false">Expand Section 2: More Details</button>
        <div class="details">
            <p>This is the content for the second expand/collapse widget. Each widget operates independently.</p>
            <p>It's useful for FAQs, long descriptions, or any content you want to progressively disclose to the user.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false">Expand Section 3: A Short Example</button>
        <div class="details">
            <p>Just a small piece of content here.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Select all buttons with the class 'toggle-button'
            const toggleButtons = document.querySelectorAll('.toggle-button');

            // Iterate over each button to attach event listener
            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Get the immediate sibling element which should be the 'details' div
                    const detailsContent = this.nextElementSibling;

                    // Check if the sibling is indeed a div with class 'details'
                    if (detailsContent && detailsContent.classList.contains('details')) {
                        // Toggle the 'expanded' class on the details content
                        detailsContent.classList.toggle('expanded');

                        // Update the aria-expanded attribute for accessibility
                        const isExpanded = detailsContent.classList.contains('expanded');
                        this.setAttribute('aria-expanded', isExpanded);

                        // Optionally, update the button text
                        if (isExpanded) {
                            this.textContent = this.textContent.replace('Expand', 'Collapse');
                        } else {
                            this.textContent = this.textContent.replace('Collapse', 'Expand');
                        }
                    }
                });
            });
        });
    </script>

</body>
</html>