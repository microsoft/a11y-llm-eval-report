<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 25px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .toggle-button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 17px;
            margin-bottom: 15px;
            display: inline-block;
            transition: background-color 0.3s ease;
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .toggle-button:focus {
            outline: 2px solid #0056b3;
            outline-offset: 2px;
        }

        .details {
            display: none; /* Hidden by default */
            border-top: 1px solid #eee;
            padding-top: 15px;
            margin-top: 15px;
            /* Optional: Add a transition for smoother appearance if using max-height/opacity */
            /* max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.5s ease-out, opacity 0.5s ease-out; */
        }

        .details.expanded {
            display: block; /* Visible when expanded */
            /* Optional: Styles for expanded state if using max-height/opacity */
            /* max-height: 500px; /* Adjust based on expected content height */
            /* opacity: 1;
            transition: max-height 0.5s ease-in, opacity 0.5s ease-in; */
        }

        .details h2 {
            color: #444;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .details p {
            margin: 0 0 10px 0;
            line-height: 1.7;
            color: #555;
        }

        .details ul {
            list-style-type: disc;
            margin-left: 20px;
            margin-bottom: 10px;
            color: #555;
        }

        .details li {
            margin-bottom: 5px;
        }

        .details form {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #eee;
        }

        .details label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #444;
        }

        .details input[type="text"],
        .details input[type="email"] {
            width: calc(100% - 22px);
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        .details input[type="submit"] {
            background-color: #28a745;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .details input[type="submit"]:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content1">Expand Section 1</button>
        <div id="content1" class="details">
            <h2>About this Widget</h2>
            <p>This is the content for the first expandable section. It demonstrates a basic expand/collapse functionality using HTML, CSS, and JavaScript.</p>
            <p>Click the button above to toggle its visibility. The content is initially hidden and becomes visible upon clicking the button. This is useful for progressive disclosure of information.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content2">Show More Information</button>
        <div id="content2" class="details">
            <h2>Detailed Information</h2>
            <p>Here you can place more detailed information that might not need to be immediately visible to the user. This helps in keeping the page clean and clutter-free, allowing users to choose what content they want to see.</p>
            <ul>
                <li><strong>Feature A:</strong> Description of feature A, providing additional context and benefits.</li>
                <li><strong>Feature B:</strong> Description of feature B, highlighting its importance and how it works.</li>
                <li><strong>Feature C:</strong> Description of feature C, explaining its unique aspects.</li>
            </ul>
            <p>Feel free to add any type of HTML content within the `details` container.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content3">Open Settings Panel</button>
        <div id="content3" class="details">
            <h2>User Preferences</h2>
            <form>
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" value="johndoe"><br>

                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" value="john.doe@example.com"><br>

                <label for="newsletter">
                    <input type="checkbox" id="newsletter" name="newsletter" checked> Subscribe to Newsletter
                </label><br><br>

                <input type="submit" value="Save Changes">
            </form>
            <p style="margin-top: 15px;">Remember to save your changes after updating your preferences!</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const controlledId = button.getAttribute('aria-controls');
                    const detailsContent = document.getElementById(controlledId);

                    if (detailsContent && detailsContent.classList.contains('details')) {
                        const isExpanded = button.getAttribute('aria-expanded') === 'true';

                        // Toggle the 'expanded' class on the details content
                        detailsContent.classList.toggle('expanded');

                        // Update the aria-expanded attribute
                        button.setAttribute('aria-expanded', String(!isExpanded));

                        // Update button text
                        if (detailsContent.classList.contains('expanded')) {
                            // Replace 'Expand' with 'Collapse' or 'Show' with 'Hide'
                            button.textContent = button.textContent.replace('Expand', 'Collapse').replace('Show', 'Hide').replace('Open', 'Close');
                        } else {
                            // Replace 'Collapse' with 'Expand' or 'Hide' with 'Show'
                            button.textContent = button.textContent.replace('Collapse', 'Expand').replace('Hide', 'Show').replace('Close', 'Open');
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>