<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expand/Collapse Widget Demo</title>
<style>
    body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        margin: 2rem;
        background: #f5f7fb;
        color: #222;
        line-height: 1.6;
    }

    h1 {
        text-align: center;
        margin-bottom: 2rem;
    }

    .example {
        background: #fff;
        border: 1px solid #d8dee9;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        box-shadow: 0 10px 25px -18px rgba(31, 41, 55, 0.45);
    }

    .example h2 {
        margin-top: 0;
        font-size: 1.2rem;
        color: #1f2937;
    }

    .toggle {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.6rem 1.1rem;
        border: 1px solid #2563eb;
        background: #2563eb;
        color: white;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.2s ease, transform 0.15s ease;
    }

    .toggle:hover {
        background: #1d4ed8;
    }

    .toggle:active {
        transform: scale(0.98);
    }

    .toggle .icon {
        transition: transform 0.2s ease;
        font-weight: bold;
    }

    .toggle[aria-expanded="true"] .icon {
        transform: rotate(90deg);
    }

    .details {
        margin-top: 1rem;
        padding: 1rem;
        border-radius: 6px;
        border: 1px dashed #cbd5f5;
        background: #f8fbff;
    }

    .details ul,
    .details ol {
        padding-left: 1.25rem;
    }

    .details code {
        background: rgba(15, 118, 110, 0.1);
        padding: 0.15rem 0.35rem;
        border-radius: 4px;
    }
</style>
</head>
<body>
<h1>Expand/Collapse Widget Demo</h1>

<div class="example">
    <h2>Project Outline</h2>
    <button class="toggle"
            id="toggle-1"
            aria-expanded="false"
            aria-controls="details-1"
            data-collapsed-text="Show Project Outline"
            data-expanded-text="Hide Project Outline">
        <span class="icon">▶</span>
        <span class="label">Show Project Outline</span>
    </button>
    <div class="details" id="details-1" hidden role="region" aria-labelledby="toggle-1">
        <p>This section gives a quick overview of the phases in our product launch project.</p>
        <ol>
            <li><strong>Discovery:</strong> Stakeholder interviews, market research, and persona definitions.</li>
            <li><strong>Design:</strong> Wireframes, interactive prototypes, and visual identity refinement.</li>
            <li><strong>Development:</strong> Component libraries, responsive layouts, and API integration.</li>
            <li><strong>Testing &amp; Launch:</strong> QA cycles, beta testing, and deployment planning.</li>
        </ol>
    </div>
</div>

<div class="example">
    <h2>Frequently Asked Questions</h2>
    <button class="toggle"
            id="toggle-2"
            aria-expanded="false"
            aria-controls="details-2"
            data-collapsed-text="Show FAQ"
            data-expanded-text="Hide FAQ">
        <span class="icon">▶</span>
        <span class="label">Show FAQ</span>
    </button>
    <div class="details" id="details-2" hidden role="region" aria-labelledby="toggle-2">
        <h3>General</h3>
        <p><strong>When will the next release ship?</strong><br>We plan to ship on the first Monday of each month, barring urgent hotfixes.</p>
        <p><strong>Where can I report a bug?</strong><br>Use the <code>#bug-report</code> channel in Slack or create a ticket in Jira tagged with <code>release-Q3</code>.</p>
        <h3>Account</h3>
        <p><strong>How do I reset my password?</strong><br>Navigate to <code>Settings → Security</code> and click <em>Reset Password</em>.</p>
    </div>
</div>

<div class="example">
    <h2>Code Snippet Explanation</h2>
    <button class="toggle"
            id="toggle-3"
            aria-expanded="false"
            aria-controls="details-3"
            data-collapsed-text="Show Code Sample"
            data-expanded-text="Hide Code Sample">
        <span class="icon">▶</span>
        <span class="label">Show Code Sample</span>
    </button>
    <div class="details" id="details-3" hidden role="region" aria-labelledby="toggle-3">
        <p>Here is a simple JavaScript function that debounces an event handler:</p>
        <pre><code>function debounce(fn, delay = 300) {
  let timeoutId;
  return function (...args) {
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => fn.apply(this, args), delay);
  };
}</code></pre>
        <p>When wrapped around a callback, the function ensures the callback fires only after it stops being invoked for <code>delay</code> milliseconds.</p>
    </div>
</div>

<script>
(function () {
    const toggles = document.querySelectorAll('.toggle');

    toggles.forEach(toggle => {
        const targetId = toggle.getAttribute('aria-controls');
        const target = document.getElementById(targetId);

        const setState = (expanded) => {
            toggle.setAttribute('aria-expanded', expanded);
            if (expanded) {
                target.hidden = false;
                toggle.querySelector('.label').textContent = toggle.dataset.expandedText;
            } else {
                target.hidden = true;
                toggle.querySelector('.label').textContent = toggle.dataset.collapsedText;
            }
        };

        setState(false);

        toggle.addEventListener('click', () => {
            const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
            setState(!isExpanded);
        });

        toggle.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                toggle.click();
            }
        });
    });
})();
</script>
</body>
</html>