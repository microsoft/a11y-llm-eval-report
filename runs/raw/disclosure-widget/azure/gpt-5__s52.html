<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Expand/Collapse Widget Examples</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      --bg:#ffffff;
      --fg:#222;
      --muted:#666;
      --accent:#2563eb;
      --border:#d9d9d9;
      --surface:#f7f7f7;
      --radius:10px;
      --shadow:0 1px 2px rgba(0,0,0,.06);
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#111315;
        --fg:#e7e7e7;
        --muted:#b0b0b0;
        --accent:#7aa2ff;
        --border:#2a2e33;
        --surface:#181b1f;
        --shadow:none;
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg);
      color:var(--fg);
      line-height:1.55;
    }
    main{
      max-width:900px;
      margin:0 auto;
      padding:32px 20px 48px 20px;
    }
    header{
      margin-bottom:22px;
    }
    h1{
      font-size:clamp(1.4rem,2.4vw,2rem);
      margin:0 0 8px 0;
      letter-spacing:.2px;
    }
    p.lead{
      color:var(--muted);
      margin:0 0 22px 0;
    }

    .example{
      border:1px solid var(--border);
      border-radius:var(--radius);
      background:var(--surface);
      box-shadow:var(--shadow);
      padding:14px;
      margin:18px 0;
    }

    .example .title{
      font-weight:600;
      margin:0 0 10px 0;
    }

    /* Native <details> styling */
    details.details{
      border:1px solid var(--border);
      border-radius:8px;
      background:var(--bg);
      margin:0;
      overflow:hidden;
    }
    details.details > summary{
      cursor:pointer;
      user-select:none;
      padding:12px 14px;
      list-style:none;
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:600;
    }
    details.details > summary::-webkit-details-marker{display:none}
    details.details > summary::before{
      content:"▸";
      display:inline-block;
      transform:translateY(1px);
      transition:transform .2s ease;
      color:var(--accent);
    }
    details.details[open] > summary::before{
      transform:rotate(90deg) translateY(0);
    }
    details.details .content{
      border-top:1px solid var(--border);
      padding:12px 14px 16px 14px;
    }
    details.details .content p{
      margin:0 0 10px 0;
    }
    details.details .content ul{
      margin:8px 0 0 18px;
    }

    /* Custom disclosure button */
    .toggle{
      appearance:none;
      border:1px solid var(--border);
      background:var(--bg);
      color:var(--fg);
      border-radius:8px;
      padding:10px 12px;
      font:inherit;
      font-weight:600;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .toggle:focus{
      outline:2px solid color-mix(in oklab, var(--accent) 70%, transparent);
      outline-offset:2px;
    }
    .toggle .chev{
      font-size:14px;
      color:var(--accent);
      transition:transform .2s ease;
    }
    .toggle[aria-expanded="true"] .chev{
      transform:rotate(90deg);
    }

    /* Controlled content container for custom disclosure */
    .details[hidden]{display:none}
    .details{
      margin-top:10px;
      border:1px dashed var(--border);
      border-radius:8px;
      background:var(--bg);
      padding:12px 14px 16px 14px;
    }
    .details h3{
      margin:0 0 8px 0;
      font-size:1rem;
    }
    .muted{
      color:var(--muted);
    }

    footer{
      margin-top:28px;
      font-size:.9rem;
      color:var(--muted);
    }
  </style>
</head>
<body>
  <main>
    <header>
      <h1>Expand/Collapse Widget Examples</h1>
      <p class="lead">Two approaches: a native Details element and a custom controlled disclosure.</p>
    </header>

    <div class="example">
      <p class="title">Native details element</p>
      <details class="details">
        <summary>Shipping and returns policy</summary>
        <div class="content">
          <p>We offer free standard shipping on orders over $50 and accept returns within 30 days of delivery.</p>
          <ul>
            <li>Standard: 3–5 business days</li>
            <li>Express: 1–2 business days</li>
            <li>International: 5–10 business days</li>
          </ul>
          <p class="muted">Note: Items must be returned in their original condition to be eligible for a full refund.</p>
        </div>
      </details>
    </div>

    <div class="example">
      <p class="title">Custom disclosure button</p>
      <button class="toggle" type="button" aria-expanded="false" aria-controls="faq-content" id="faq-toggle">
        <span class="chev">▸</span>
        Frequently Asked Questions
      </button>
      <div class="details" id="faq-content" role="region" aria-labelledby="faq-toggle" hidden>
        <h3>How do I track my order?</h3>
        <p>Once your order ships, you will receive an email with a tracking link. You can also find the link on your orders page.</p>
        <h3>Can I change or cancel my order?</h3>
        <p>You can change or cancel within 2 hours of placing the order. After processing begins, please contact support for options.</p>
        <p class="muted">Tip: Press Escape to collapse all open sections.</p>
      </div>
    </div>

    <footer>
      Built with semantic HTML and accessible controls.
    </footer>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const toggles = document.querySelectorAll('[aria-controls]');
      toggles.forEach(btn => {
        const targetId = btn.getAttribute('aria-controls');
        const target = document.getElementById(targetId);
        if (!target) return;

        const setState = (expanded) => {
          btn.setAttribute('aria-expanded', expanded ? 'true' : 'false');
          target.hidden = !expanded;
        };

        btn.addEventListener('click', () => {
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          setState(!expanded);
        });

        // Initialize state
        setState(btn.getAttribute('aria-expanded') === 'true');
      });

      // Global Escape key collapses any open custom disclosures
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          document.querySelectorAll('[aria-controls]').forEach(btn => {
            const target = document.getElementById(btn.getAttribute('aria-controls'));
            if (target && !target.hidden) {
              btn.setAttribute('aria-expanded', 'false');
              target.hidden = true;
              btn.focus();
            }
          });
        }
      });
    });
  </script>
</body>
</html>