<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expand / Collapse Widget Examples</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#06b6d4;
      --muted:#94a3b8;
      --text:#e6eef6;
      --radius:10px;
      --transition:200ms cubic-bezier(.2,.9,.2,1);
    }

    html,body{
      height:100%;
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#071025 0%, #07162b 60%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:32px;
      box-sizing:border-box;
    }

    main{
      max-width:820px;
      margin:0 auto;
    }

    h1{
      margin:0 0 18px 0;
      font-weight:600;
      letter-spacing:-0.02em;
      color:var(--text);
    }

    p.lead{
      margin:0 0 28px 0;
      color:var(--muted);
    }

    /* Example wrapper */
    .example{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);
      padding:14px;
      border-radius:var(--radius);
      margin-bottom:18px;
      box-shadow: 0 6px 18px rgba(2,6,23,0.55);
    }

    /* Toggle button */
    .toggle {
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 14px;
      background:transparent;
      border:1px solid rgba(255,255,255,0.03);
      color:var(--text);
      border-radius:8px;
      font-size:16px;
      cursor:pointer;
      transition:box-shadow var(--transition), transform var(--transition), background var(--transition);
    }
    .toggle:hover{
      transform:translateY(-1px);
      box-shadow:0 6px 18px rgba(2,6,23,0.4);
    }
    .toggle:active{ transform:translateY(0); }

    .toggle .label{
      display:flex;
      gap:12px;
      align-items:center;
      text-align:left;
    }
    .toggle .title{
      font-weight:600;
    }
    .toggle .summary{
      display:block;
      color:var(--muted);
      font-size:13px;
    }

    /* caret */
    .caret{
      width:36px;
      height:36px;
      display:inline-grid;
      place-items:center;
      border-radius:8px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      transition:transform var(--transition) ease, background var(--transition);
      flex:0 0 36px;
    }
    .caret svg{
      display:block;
      transition:transform var(--transition) ease;
      color:var(--accent);
      fill:none;
      stroke:currentColor;
      stroke-width:2.25;
    }
    .toggle[aria-expanded="true"] .caret{ transform:rotate(180deg); background:linear-gradient(180deg, rgba(6,182,212,0.06), rgba(6,182,212,0.03)); }

    /* details (controlled content) */
    .details{
      margin-top:12px;
      overflow:hidden;
      border-radius:8px;
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      padding:12px;
      box-sizing:border-box;
      /* By default (no JS) content is visible. When JS is enabled we add .js to html and control collapsed state via max-height. */
    }

    /* JS-enabled collapsed behavior */
    html.js .details{
      max-height:0;
      padding-top:0;
      padding-bottom:0;
      border:none;
      margin-top:8px;
      opacity:0;
      transition: max-height var(--transition), opacity var(--transition), padding var(--transition);
    }
    html.js .details.open{
      max-height:1000px; /* large enough to fit content */
      padding-top:12px;
      padding-bottom:12px;
      border:1px solid rgba(255,255,255,0.03);
      opacity:1;
    }

    /* content inside details */
    .details p{
      margin:0;
      color:var(--muted);
      line-height:1.5;
      font-size:14px;
    }

    /* reduce motion support */
    @media (prefers-reduced-motion: reduce) {
      .toggle, .caret svg, html.js .details { transition:none; }
    }

    /* small utility */
    .meta{
      margin-top:8px;
      font-size:12px;
      color:var(--muted);
    }
  </style>
</head>
<body>
  <main>
    <h1>Expand / Collapse Widget</h1>
    <p class="lead">Examples of accessible expand/collapse widgets. Each widget is wrapped in a div.example and the controlled content uses the details class.</p>

    <div class="example">
      <button class="toggle" aria-expanded="false" type="button">
        <span class="label">
          <span>
            <span class="title">Overview</span>
            <span class="summary">Short summary of the section</span>
          </span>
        </span>
        <span class="caret" aria-hidden="true">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6"/></svg>
        </span>
      </button>

      <div class="details" id="details-1">
        <p>
          This is the detailed content for the Overview section. The container has the class "details". When JavaScript is enabled the content is collapsed by default and can be expanded using the button above, which updates aria-expanded and aria-controls for accessibility.
        </p>
      </div>
      <div class="meta">Controlled element id: <code>details-1</code></div>
    </div>

    <div class="example">
      <button class="toggle" aria-expanded="false" type="button">
        <span class="label">
          <span>
            <span class="title">Additional Information</span>
            <span class="summary">More details about this topic</span>
          </span>
        </span>
        <span class="caret" aria-hidden="true">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6"/></svg>
        </span>
      </button>

      <div class="details" id="details-2">
        <p>
          Here is some additional information. You can place any content inside the details container: paragraphs, lists, images, forms, etc. The script will wire up aria-controls/aria-expanded and toggle the "open" class to animate visibility.
        </p>
      </div>
      <div class="meta">Controlled element id: <code>details-2</code></div>
    </div>

    <div class="example">
      <button class="toggle" aria-expanded="false" type="button">
        <span class="label">
          <span>
            <span class="title">Long Content Example</span>
            <span class="summary">Demonstrates a larger content body</span>
          </span>
        </span>
        <span class="caret" aria-hidden="true">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6"/></svg>
        </span>
      </button>

      <div class="details" id="details-3">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Saepe, velit, voluptatem. Dolorem, reiciendis ipsam. Mollitia, at, perferendis! Temporibus, quisquam magni. Natus, asperiores cupiditate aut recusandae a. Pariatur, distinctio soluta.
        </p>
        <p style="margin-top:10px;">
          Ullam sint impedit, obcaecati quasi doloremque. Architecto cum laboriosam, id maiores facilis! Sequi, repellat, temporibus. Necessitatibus iste, animi molestias obcaecati dolorum impedit, nobis ex, voluptatum, eaque officiis eum.
        </p>
      </div>
      <div class="meta">Controlled element id: <code>details-3</code></div>
    </div>

  </main>

  <script>
    // Add js class to html so we can apply JS-only styles (e.g. collapsed by default).
    document.documentElement.classList.add('js');

    (function() {
      let count = 0;
      const examples = document.querySelectorAll('.example');

      examples.forEach(example => {
        const button = example.querySelector('.toggle');
        const details = example.querySelector('.details');

        // Ensure unique id for details
        if (details) {
          if (!details.id) {
            count += 1;
            details.id = 'details-' + (count + Date.now()).toString(36);
          }
          // Wire aria-controls from button to details id
          button.setAttribute('aria-controls', details.id);

          // Initialize collapsed state when JS is present
          button.setAttribute('aria-expanded','false');
          details.classList.remove('open');
          details.setAttribute('aria-hidden','true');

          // Click toggling
          button.addEventListener('click', () => {
            const expanded = button.getAttribute('aria-expanded') === 'true';
            button.setAttribute('aria-expanded', String(!expanded));
            details.setAttribute('aria-hidden', String(expanded));
            details.classList.toggle('open', !expanded);
          });

          // Support keyboard activation via Enter/Space is built-in for button element.

          // Allow toggling by pressing Escape to collapse when open
          button.addEventListener('keydown', (ev) => {
            if (ev.key === 'Escape') {
              button.setAttribute('aria-expanded', 'false');
              details.setAttribute('aria-hidden','true');
              details.classList.remove('open');
              button.focus();
            }
          });
        }
      });

      // Optional: close other widgets when one opens (accordion behavior)
      // Uncomment the following block to enable a single-open accordion behavior.
      /*
      examples.forEach(example => {
        const btn = example.querySelector('.toggle');
        const det = example.querySelector('.details');
        btn.addEventListener('click', () => {
          if (btn.getAttribute('aria-expanded') === 'true') {
            // it was opening -> close others
            examples.forEach(other => {
              const otherBtn = other.querySelector('.toggle');
              const otherDet = other.querySelector('.details');
              if (otherBtn !== btn) {
                otherBtn.setAttribute('aria-expanded','false');
                otherDet.setAttribute('aria-hidden','true');
                otherDet.classList.remove('open');
              }
            });
          }
        });
      });
      */

    })();
  </script>
</body>
</html>