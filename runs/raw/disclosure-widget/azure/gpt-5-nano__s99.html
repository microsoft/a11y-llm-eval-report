<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Expand/Collapse Widget Demo</title>
  <style>
    :root {
      --card-bg: #ffffff;
      --border: #e5e7eb;
      --text: #1f2937;
      --muted: #6b7280;
      --accent: #4f46e5;
    }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color: var(--text);
      background: #f7f7fb;
      margin: 0;
      padding: 2rem;
    }

    h1 {
      font-size: 1.75rem;
      margin-bottom: 1rem;
    }

    .description {
      color: var(--muted);
      margin-bottom: 1.25rem;
    }

    /* Wrapper for each widget */
    .example {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 1rem;
      margin: 1rem 0;
      box-shadow: 0 1px 2px rgba(0,0,0,.04);
    }

    /* Native details widget styling */
    details.details {
      /* keep native semantics but give a consistent look */
      border-radius: 6px;
      padding: 0;
    }
    details.details > summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
      outline: none;
      padding: .25rem 0;
    }
    details.details > summary::-webkit-details-marker {
      display: none;
    }
    details.details > .content {
      padding: .5rem 0;
    }

    /* Custom widget (JS-controlled) */
    .details {
      overflow: hidden;
      max-height: 0;
      transition: max-height 0.32s ease;
      padding: 0;
    }
    .details.open {
      /* when opened, let content show with some padding */
      padding: .25rem 0;
    }

    /* Toggle button for custom widget */
    .expand-btn {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 6px;
      padding: .5rem 0.8rem;
      font-size: 1rem;
      cursor: pointer;
    }
    .expand-btn:focus-visible {
      outline: 3px solid #93c5fd;
      outline-offset: 2px;
    }

    /* CSS-only toggle variant (checkbox + label) */
    .css-toggle {
      display: flex;
      flex-direction: column;
    }
    .css-toggle .toggle-label {
      display: inline-block;
      margin-bottom: .25rem;
      font-weight: 600;
      cursor: pointer;
      color: var(--text);
    }

    /* Visually hidden input for accessibility (but still available to screen readers) */
    .visually-hidden {
      position: absolute !important;
      height: 1px; width: 1px;
      overflow: hidden;
      clip: rect(1px, 1px, 1px, 1px);
      white-space: nowrap; /* added line */
    }

    /* CSS-only expansion: when checkbox is checked, reveal the .details panel */
    #css-toggle-1:checked ~ .details {
      max-height: 200px;
      padding: .5rem 0;
      transition: max-height .3s ease;
    }

    /* Small responsive niceties */
    @media (min-width: 700px) {
      .example { padding: 1.25rem; }
    }
  </style>
</head>
<body>
  <h1>Expand/Collapse Widget Demo</h1>
  <p class="description">This page demonstrates three expand/collapse widgets wrapped in an element with class "example". The container that holds the collapsible content uses the class "details".</p>

  <!-- 1) Native HTML details element (wrapped in example) -->
  <div class="example">
    <details class="details" aria-label="Native details widget">
      <summary>Native details (HTML5)</summary>
      <div class="content">
        <p>This widget uses the browser's built-in expand/collapse mechanism. The summary acts as the toggle and the content appears below when expanded.</p>
        <p>You can put any HTML content inside the details element.</p>
      </div>
    </details>
  </div>

  <!-- 2) Custom widget controlled with ARIA attributes -->
  <div class="example">
    <button class="expand-btn" aria-expanded="false" aria-controls="custom-detail-1">Show more</button>
    <div id="custom-detail-1" class="details" role="region" aria-label="Custom collapsible panel" style="max-height:0;">
      <p>This is a custom, accessible expand/collapse widget implemented with ARIA attributes. It uses a simple height animation to reveal or hide content.</p>
      <ul>
        <li>Accessible via ARIA controls</li>
        <li>Animated content reveal</li>
        <li>Reusable across projects</li>
      </ul>
    </div>
  </div>

  <!-- 3) CSS-only toggle using a hidden checkbox (container uses class "details") -->
  <div class="example">
    <div class="css-toggle">
      <input type="checkbox" id="css-toggle-1" class="visually-hidden" />
      <label for="css-toggle-1" class="toggle-label">CSS-only toggle</label>
      <div class="details" aria-label="CSS-only expandable content" style="max-height:0;">
        <p>This variant uses a checkbox to control visibility purely with CSS. When the checkbox is checked, the content is revealed without any JavaScript.</p>
      </div>
    </div>
  </div>

  <script>
    // JavaScript for the custom ARIA widget (example 2)
    (function() {
      var btn = document.querySelector('.expand-btn');
      var panel = document.getElementById('custom-detail-1');
      if (!btn || !panel) return;

      btn.addEventListener('click', function() {
        var isOpen = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!isOpen));
        if (!isOpen) {
          // Expand
          panel.style.maxHeight = panel.scrollHeight + 'px';
          panel.classList.add('open');
          btn.textContent = 'Hide details';
        } else {
          // Collapse
          panel.style.maxHeight = '0';
          panel.classList.remove('open');
          btn.textContent = 'Show more';
        }
      });
    })();
  </script>
</body>
</html>