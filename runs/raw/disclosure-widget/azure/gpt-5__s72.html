<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Expand/Collapse Widgets</title>
<style>
  :root {
    --border: #d0d7de;
    --bg: #f6f8fa;
    --text: #24292f;
    --accent: #0969da;
  }
  body {
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    color: var(--text);
    background: white;
    line-height: 1.5;
    padding: 24px;
  }
  h1 {
    font-size: 1.5rem;
    margin: 0 0 16px;
  }
  .example {
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    background: var(--bg);
    margin-block: 16px;
  }
  .example + .example { margin-top: 24px; }
  .example header {
    font-weight: 600;
    margin-bottom: 8px;
  }

  .details {
    display: none;
    margin-top: 8px;
    padding: 8px 10px;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 6px;
  }

  details[open] .details { display: block; }

  details > summary {
    list-style: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: var(--accent);
    user-select: none;
  }
  details > summary::-webkit-details-marker { display: none; }
  details > summary::before {
    content: "▸";
    transition: transform .2s ease;
    display: inline-block;
  }
  details[open] > summary::before { transform: rotate(90deg); }

  .toggle {
    appearance: none;
    border: 1px solid var(--border);
    border-radius: 6px;
    background: #fff;
    color: var(--text);
    padding: 8px 12px;
    font: inherit;
    cursor: pointer;
  }
  .toggle:hover { border-color: #afb8c1; }
  .toggle:focus { outline: 2px solid #80bfff; outline-offset: 2px; }

  .details[data-expanded="true"] { display: block; }

  .details p { margin: 0 0 8px; }
  .details ul { margin: 0 0 8px 18px; }
</style>
</head>
<body>
<h1>Expand/Collapse Widget Examples</h1>

<div class="example">
  <header>Native details/summary widget</header>
  <details>
    <summary>Product specifications</summary>
    <div class="details" role="region" aria-label="Product specifications">
      <p>Here are the key specifications for this product:</p>
      <ul>
        <li>Dimensions: 120 × 80 × 25 mm</li>
        <li>Weight: 200 g</li>
        <li>Battery life: Up to 10 hours</li>
        <li>Connectivity: Wi‑Fi 6, Bluetooth 5.3</li>
      </ul>
    </div>
  </details>
</div>

<div class="example">
  <header>Button-controlled widget</header>
  <button type="button" class="toggle" aria-expanded="false" aria-controls="details-panel-1" id="toggle-btn-1">Show details</button>
  <div class="details" id="details-panel-1" role="region" aria-labelledby="toggle-btn-1" data-expanded="false">
    <p>This panel is controlled by the button above using JavaScript.</p>
    <ul>
      <li>Accessible with aria-controls and aria-expanded</li>
      <li>Keyboard-friendly</li>
      <li>State reflected in button text</li>
    </ul>
  </div>
</div>

<script>
  document.querySelectorAll('.toggle[aria-controls]').forEach(function(button){
    var contentId = button.getAttribute('aria-controls');
    var content = document.getElementById(contentId);
    if (!content) return;

    function setExpanded(expanded) {
      button.setAttribute('aria-expanded', expanded ? 'true' : 'false');
      content.dataset.expanded = expanded ? 'true' : 'false';
      button.textContent = expanded ? 'Hide details' : 'Show details';
    }

    setExpanded(false);

    button.addEventListener('click', function() {
      var nowExpanded = button.getAttribute('aria-expanded') !== 'true';
      setExpanded(nowExpanded);
    });

    content.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        setExpanded(false);
        button.focus();
      }
    });
  });
</script>
</body>
</html>