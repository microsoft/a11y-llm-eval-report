<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Expand/Collapse Widget Demo</title>
  <style>
    :root {
      --bg: #f5f7fb;
      --card: #ffffff;
      --border: #e5e7eb;
      --text: #111827;
      --muted: #6b7280;
      --accent: #2563eb;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.45;
    }

    .page {
      max-width: 720px;
      margin: 40px auto;
      padding: 0 1rem;
    }

    h1 {
      font-size: 1.75rem;
      margin: 0 0 1rem;
      text-align: center;
    }

    /* Widget wrapper */
    .example {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      margin: 1rem 0;
      overflow: clip;
      box-shadow: 0 2px 6px rgba(0,0,0,.05);
    }

    /* The button that triggers expand/collapse */
    .trigger {
      width: 100%;
      padding: 1rem;
      background: #f6f7fb;
      border: none;
      border-bottom: 1px solid var(--border);
      text-align: left;
      font: inherit;
      color: var(--text);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: background .2s ease;
    }

    .trigger:hover {
      background: #eef0f7;
    }

    .trigger:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .chev {
      display: inline-block;
      transition: transform .25s ease;
      line-height: 1;
    }

    /* Collapsible content container (must have class "details") */
    .details {
      overflow: hidden;
      max-height: 0;
      padding: 0 1rem;
      transition: max-height .25s ease, padding .25s ease;
      /* start collapsed: no vertical padding to avoid extra height */
    }

    .details p {
      margin: 0.5rem 0 0.25rem;
    }

    /* Open state styling: add padding and reveal content */
    .open .details {
      max-height: 500px; /* large enough for content height */
      padding: 1rem;
    }

    /* Rotate chevron when open */
    .open .chev {
      transform: rotate(90deg);
    }

    /* Small caption/footer to demonstrate multiple widgets */
    .hint {
      text-align: center;
      color: var(--muted);
      font-size: 0.9rem;
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <div class="page">
    <h1>Expand/Collapse Widget Demo</h1>

    <!-- Widget 1 -->
    <div class="example" id="example1">
      <button class="trigger" aria-expanded="false" aria-controls="panel1" id="btn1">
        <span class="chev" aria-hidden="true">▶</span>
        What is HTML?
      </button>
      <div id="panel1" class="details" role="region" aria-labelledby="btn1">
        <p>HTML stands for HyperText Markup Language. It is the standard markup language used to create the structure of pages on the World Wide Web. HTML elements form the building blocks of all websites.</p>
        <p>Use this widget to reveal or hide content on demand without navigating away from the current page.</p>
      </div>
    </div>

    <!-- Widget 2 (opened by default) -->
    <div class="example open" id="example2">
      <button class="trigger" aria-expanded="true" aria-controls="panel2" id="btn2">
        <span class="chev" aria-hidden="true">▶</span>
        How do CSS selectors work?
      </button>
      <div id="panel2" class="details" role="region" aria-labelledby="btn2">
        <p>CSS selectors identify which HTML elements a set of CSS rules should apply to. They can match by tag name, class, id, attributes, and more complex relationships.</p>
        <p>Common selectors include element selectors (p), class selectors (.note), and ID selectors (#header). Pseudo-classes and combinators enable powerful targeting.</p>
      </div>
    </div>

    <p class="hint">Tip: Click the headers to expand or collapse the content.</p>
  </div>

  <script>
    // Attach toggle behavior to each widget
    document.querySelectorAll('.example').forEach(function(widget) {
      var btn = widget.querySelector('.trigger');
      var panelId = btn.getAttribute('aria-controls');
      var panel = document.getElementById(panelId);

      // Initialize ARIA state for non-open widgets
      if (widget.classList.contains('open')) {
        btn.setAttribute('aria-expanded', 'true');
      } else {
        btn.setAttribute('aria-expanded', 'false');
      }

      btn.addEventListener('click', function() {
        const isOpen = widget.classList.toggle('open');
        btn.setAttribute('aria-expanded', String(isOpen));
      });
    });
  </script>
</body>
</html>