<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Expand/Collapse Widget Examples</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #f7f8fb;
      --panel: #ffffff;
      --border: #d6dae3;
      --summary-bg: #f0f3f8;
      --content-bg: #ffffff;
      --text: #1a1f2b;
      --muted: #525b70;
      --accent: #2563eb;
      --radius: 10px;
      --shadow: 0 6px 22px rgba(17, 24, 39, 0.08);
      --focus: #7aa2ff;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      line-height: 1.6;
    }

    header {
      padding: 2rem 1rem 1rem;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: -0.01em;
    }

    header p {
      margin: 0.5rem auto 0;
      max-width: 60ch;
      color: var(--muted);
    }

    main {
      max-width: 900px;
      margin: 0 auto;
      padding: 1rem;
    }

    .example {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1rem;
      margin: 1rem 0;
    }

    .example h2 {
      margin: 0 0 0.5rem;
      font-size: 1.2rem;
    }

    .example p.description {
      margin: 0 0 1rem;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .details {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }

    .details + .details {
      margin-top: 0.5rem;
    }

    .details summary {
      list-style: none;
      cursor: pointer;
      padding: 0.75rem 1rem;
      background: var(--summary-bg);
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      user-select: none;
      outline: none;
    }

    .details summary::-webkit-details-marker {
      display: none;
    }

    .details summary::before {
      content: "▶";
      display: inline-block;
      width: 1ch;
      color: var(--muted);
      transition: transform 0.2s ease;
    }

    .details[open] summary::before {
      content: "▼";
      color: var(--accent);
    }

    .details summary:focus-visible {
      box-shadow: 0 0 0 3px var(--focus) inset;
      border-radius: 6px;
    }

    .details .content {
      padding: 1rem;
      background: var(--content-bg);
      border-top: 1px solid var(--border);
    }

    .controls {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 0.75rem;
    }

    .controls button {
      appearance: none;
      border: 1px solid var(--border);
      background: #eef2ff;
      color: #1f2a55;
      padding: 0.5rem 0.75rem;
      border-radius: 6px;
      font: inherit;
      cursor: pointer;
      transition: background 0.15s ease, border-color 0.15s ease, transform 0.02s ease;
    }

    .controls button:hover {
      background: #e1e7ff;
      border-color: #b8c5ff;
    }

    .controls button:active {
      transform: translateY(1px);
    }

    .hint {
      color: var(--muted);
      font-size: 0.9rem;
      margin: 0 0 0.5rem;
    }

    ul {
      margin: 0.5rem 0 0;
    }

    code {
      background: #f3f4f7;
      border: 1px solid var(--border);
      padding: 0.1rem 0.3rem;
      border-radius: 4px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.92em;
    }

    footer {
      text-align: center;
      color: var(--muted);
      font-size: 0.9rem;
      padding: 2rem 1rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>Expand/Collapse Widget Examples</h1>
    <p>Each widget is wrapped in a container with the class <code>example</code>. The controlled content container uses the class <code>details</code>.</p>
  </header>

  <main>
    <div class="example">
      <h2>Basic expand/collapse</h2>
      <p class="description">A simple widget using a summary to show or hide content.</p>
      <details class="details">
        <summary>What is an expand/collapse widget?</summary>
        <div class="content">
          <p>An expand/collapse widget allows users to toggle the visibility of additional information.</p>
          <ul>
            <li>Click the summary to reveal hidden content.</li>
            <li>Click again to collapse it.</li>
            <li>The container for the controlled content has the class <code>details</code>.</li>
          </ul>
        </div>
      </details>
    </div>

    <div class="example">
      <h2>Initially open section</h2>
      <p class="description">This widget starts expanded using the <code>open</code> state.</p>
      <details class="details" open>
        <summary>Click to collapse or expand</summary>
        <div class="content">
          <p>This section is open by default. The open state can be toggled by clicking the summary.</p>
          <p>Use this pattern when content is likely to be relevant right away.</p>
        </div>
      </details>
    </div>

    <div class="example" data-accordion="true">
      <h2>Accordion (one section open at a time)</h2>
      <p class="hint">Opening one section will close the others within this widget.</p>

      <details class="details">
        <summary>Section 1: Introduction</summary>
        <div class="content">
          <p>This section provides an overview of the accordion pattern. It keeps interfaces tidy by showing one pane at a time.</p>
        </div>
      </details>

      <details class="details">
        <summary>Section 2: Details</summary>
        <div class="content">
          <p>Accordions are helpful for lengthy content. They reduce scrolling by segmenting information into manageable parts.</p>
        </div>
      </details>

      <details class="details">
        <summary>Section 3: Tips</summary>
        <div class="content">
          <ul>
            <li>Keep summaries short and descriptive.</li>
            <li>Avoid nesting too many levels.</li>
            <li>Consider keyboard and screen reader accessibility.</li>
          </ul>
        </div>
      </details>
    </div>

    <div class="example" data-controls="true">
      <h2>External controls</h2>
      <p class="description">Use buttons to open or close sections programmatically.</p>

      <div class="controls" aria-label="Expand/collapse controls">
        <button type="button" data-action="open-all">Expand all</button>
        <button type="button" data-action="close-all">Collapse all</button>
        <button type="button" data-action="toggle-first">Toggle first</button>
      </div>

      <details class="details">
        <summary>First section</summary>
        <div class="content">
          <p>This section can be toggled with the "Toggle first" button above, or by clicking its summary.</p>
        </div>
      </details>

      <details class="details">
        <summary>Second section</summary>
        <div class="content">
          <p>This section is affected by the Expand all and Collapse all controls. Try them to change both sections at once.</p>
        </div>
      </details>
    </div>
  </main>

  <footer>
    <p>Demo complete — try expanding and collapsing the sections above.</p>
  </footer>

  <script>
    // Accordion behavior: only one .details open per accordion widget
    document.querySelectorAll('.example[data-accordion="true"]').forEach(function(widget) {
      const items = widget.querySelectorAll('.details');
      items.forEach(function(details) {
        details.addEventListener('toggle', function() {
          if (details.open) {
            items.forEach(function(other) {
              if (other !== details && other.open) {
                other.open = false;
              }
            });
          }
        });
      });
    });

    // External controls for the last widget
    document.querySelectorAll('.example[data-controls="true"]').forEach(function(widget) {
      const detailsList = Array.from(widget.querySelectorAll('.details'));
      widget.querySelectorAll('[data-action]').forEach(function(btn) {
        btn.addEventListener('click', function() {
          const action = btn.getAttribute('data-action');
          if (action === 'open-all') {
            detailsList.forEach(function(d) { d.open = true; });
          } else if (action === 'close-all') {
            detailsList.forEach(function(d) { d.open = false; });
          } else if (action === 'toggle-first') {
            const first = detailsList[0];
            if (first) first.open = !first.open;
          }
        });
      });
    });
  </script>
</body>
</html>