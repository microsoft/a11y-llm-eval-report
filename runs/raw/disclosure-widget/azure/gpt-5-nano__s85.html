<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/Collapse Widget Demo</title>
  <style>
    :root {
      color-scheme: light;
    }
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: #f6f7fb;
      color: #1f2937;
      margin: 0;
      padding: 2rem;
    }
    h1 {
      margin-top: 0;
      font-size: 1.6rem;
    }
    p.lead {
      color: #374151;
      margin-top: 0.25rem;
      margin-bottom: 1.5rem;
    }
    .example {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 0.75rem 1rem 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 1px 2px rgba(0,0,0,.04);
    }
    .example + .example {
      margin-top: 1rem;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
      padding: 0.25rem 0;
      cursor: default;
    }
    .trigger {
      background: #1f6feb;
      color: #fff;
      border: 0;
      padding: 0.5rem 0.9rem;
      border-radius: 6px;
      font-size: 0.95rem;
      cursor: pointer;
      transition: transform .04s ease;
    }
    .trigger:active {
      transform: translateY(1px);
    }
    .trigger:focus {
      outline: 2px solid #1f6feb;
      outline-offset: 2px;
    }
    .details {
      padding-top: 0.75rem;
      color: #374151;
      border-top: 1px solid #eef2f7;
    }
    .details[hidden] {
      display: none;
    }
  </style>
</head>
<body>
  <h1>Expand/Collapse Widget Demo</h1>
  <p class="lead">This page demonstrates an expand/collapse widget. Each widget is wrapped in a div with the class "example". The content that is shown/hidden is contained in a div with the class "details".</p>

  <!-- Widget 1 -->
  <div class="example" aria-expanded="false" id="ex1">
    <div class="header">
      <strong>Product Overview</strong>
      <button class="trigger" aria-expanded="false" aria-controls="panel-1" title="Expand to view details">Expand</button>
    </div>
    <div id="panel-1" class="details" hidden>
      <p>This is an example of an expandable widget. The content is placed inside a container with the class "details".</p>
      <ul>
        <li>Accessible via ARIA attributes</li>
        <li>Keyboard friendly: use the button to toggle</li>
        <li>Content can be expanded or collapsed on demand</li>
      </ul>
    </div>
  </div>

  <!-- Widget 2 -->
  <div class="example" aria-expanded="false" id="ex2">
    <div class="header">
      <strong>Frequently Asked Questions</strong>
      <button class="trigger" aria-expanded="false" aria-controls="panel-2" title="Expand to view FAQ">Expand</button>
    </div>
    <div id="panel-2" class="details" hidden>
      <p>Q: What is this widget?</p>
      <p>A: A simple expand/collapse example using a details-like container.</p>
      <p>Q: How do I use it?</p>
      <p>A: Click the button to reveal or hide the content.</p>
    </div>
  </div>

  <!-- Widget 3 -->
  <div class="example" aria-expanded="false" id="ex3">
    <div class="header">
      <strong>Additional Information</strong>
      <button class="trigger" aria-expanded="false" aria-controls="panel-3" title="Expand to view more info">Expand</button>
    </div>
    <div id="panel-3" class="details" hidden>
      <p>Here is some extra information that can be revealed on demand. This demonstrates the flexibility of the widget structure.</p>
    </div>
  </div>

  <script>
    // Initialize and wire up all widgets
    document.querySelectorAll('.example').forEach(container => {
      const btn = container.querySelector('.trigger');
      if (!btn) return;

      const panelId = btn.getAttribute('aria-controls');
      const panel = document.getElementById(panelId);

      // Ensure initial states
      btn.setAttribute('aria-expanded', 'false');
      container.setAttribute('aria-expanded', 'false');
      if (panel) panel.hidden = true;

      // Toggle function
      const toggle = () => {
        const isOpen = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!isOpen));
        container.setAttribute('aria-expanded', String(!isOpen));
        if (panel) {
          panel.hidden = isOpen;
        }
        btn.textContent = isOpen ? 'Expand' : 'Collapse';
      };

      btn.addEventListener('click', toggle);

      // Optional: allow clicking the header area to toggle as well
      const header = container.querySelector('.header');
      if (header) {
        header.addEventListener('click', event => {
          // Avoid triggering when clicking the button itself
          if (event.target !== btn) toggle();
        });
      }
    });
  </script>
</body>
</html>