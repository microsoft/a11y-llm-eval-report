<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Expand / Collapse Widgets Demo</title>
  <style>
    :root {
      --bg: #f6f7fb;
      --card: #fff;
      --border: #d9dee7;
      --accent: #2563eb;
      --gap: 14px;
      --pad: 12px 14px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: #1f2937;
      padding: 40px;
      line-height: 1.5;
    }
    h1 { margin: 0 0 12px; font-size: 1.8rem; }
    section.grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--gap);
      max-width: 780px;
      margin: 0 auto;
    }

    .example {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,.04);
    }

    /* Native details widget styling (container has class "details") */
    details.details {
      padding: 0;
    }
    details.details > summary {
      padding: 12px 14px;
      list-style: none;
      cursor: pointer;
      font-weight: 600;
      border-bottom: 1px solid #eee;
      background: #fff;
      border-radius: 12px 12px 0 0;
    }
    details[open] > summary {
      color: var(--accent);
    }
    .contents {
      padding: 12px 14px;
      background: #fff;
    }

    /* Widget 2: ARIA button toggle */
    .widget-2-header { margin: 0 0 6px 0; font-size: 1.05rem; font-weight: 700; }
    #panel-2 {
      display: none; /* default hidden; JS will show when expanded */
      padding: 12px 14px;
      border-top: 1px solid #eee;
      background: #fff;
      border-radius: 0 0 12px 12px;
    }

    /* Widget 3: CSS-only toggle (checkbox) */
    #cb-3 { position: absolute; left: -9999px; }
    .checkbox-panel {
      display: none;
      padding: 12px 14px;
      border-top: 1px solid #eee;
      background: #fff;
      border-radius: 0 0 12px 12px;
    }

    /* Ensure the container for controlled content has the class "details" as required */
    .details {
      /* shared styling for content containers if needed */
    }

  </style>
</head>
<body>
  <h1>Expand / Collapse Widgets Demo</h1>

  <section class="grid" aria-label="Expand / collapse widgets demonstration">

    <!-- Widget 1: Native details element -->
    <div class="example">
      <details class="details" open>
        <summary>1) Native details element</summary>
        <div class="contents" aria-label="Details content">
          <p>This widget uses the native HTML details/summary elements. Click the summary to expand or collapse the content.</p>
          <p>You can place any HTML content inside the panel.</p>
        </div>
      </details>
    </div>

    <!-- Widget 2: Accessible button toggle -->
    <div class="example">
      <h3 class="widget-2-header" aria-label="Widget 2 header">2) Accessible button toggle</h3>
      <button id="btn-2" aria-expanded="false" aria-controls="panel-2" style="padding:8px 12px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer;">
        Show details
      </button>
      <div id="panel-2" class="details" role="region" aria-labelledby="btn-2" style="display:none;">
        <p>This widget uses a button with aria-expanded to control visibility of the content. The content is revealed by JavaScript toggling the display and aria-expanded value.</p>
      </div>
    </div>

    <!-- Widget 3: CSS-only toggle using checkbox (container has class details) -->
    <div class="example">
      <h3 aria-label="Widget 3 header" style="margin:0 0 6px 0;">3) CSS-only toggle (checkbox)</h3>
      <label for="cb-3" style="cursor:pointer; display:inline-flex; align-items:center; gap:8px;">
        <span style="width:22px; height:14px; border-radius:7px; background:#eee; border:1px solid #ccc; display:inline-block; position:relative;">
          <span aria-hidden="true" style="position:absolute; left:4px; top:3px; width:8px; height:8px; background:#666; border-radius:2px;"></span>
        </span>
        Expand panel
      </label>
      <input type="checkbox" id="cb-3" />
      <div class="details checkbox-panel" id="panel-3" aria-labelledby="cb-3">
        <p>Content revealed by a CSS-only toggle. When the checkbox is checked, this panel becomes visible. This demonstrates a pure CSS approach to show/hide content.</p>
      </div>
    </div>

  </section>

  <script>
    // Widget 2: toggle logic for accessible button
    (function(){
      var btn = document.getElementById('btn-2');
      var panel = document.getElementById('panel-2');
      btn.addEventListener('click', function(){
        var expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        panel.style.display = (!expanded) ? 'block' : 'none';
      });
    })();
  </script>
</body>
</html>