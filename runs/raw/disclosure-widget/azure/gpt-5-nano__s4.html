<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/Collapse Widget Demo</title>
  <style>
    :root {
      --bg: #f7f7fb;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #64748b;
      --accent: #2563eb;
    }

    * { box-sizing: border-box; }

    html, body { height: 100%; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      padding: 2rem;
    }

    h1 {
      font-size: 1.6rem;
      margin: 0 0 1.5rem;
    }

    .example {
      background: var(--card);
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 0;
      margin-bottom: 1.25rem;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0,0,0,.04);
    }

    .widget { width: 100%; }

    /* The expandable control button */
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      padding: 1rem;
      border: none;
      background: #ffffff;
      cursor: pointer;
      font: inherit;
      color: var(--text);
    }

    .controls:hover {
      background: #fbfbff;
    }

    .controls:focus {
      outline: 2px solid #93c5fd;
      outline-offset: -2px;
    }

    .controls .label {
      font-weight: 600;
    }

    .controls .icon {
      font-size: 0.95em;
      color: #374151;
      transition: transform .2s ease;
      margin-left: auto;
    }

    /* rotate icon when expanded */
    .controls[aria-expanded="true"] .icon {
      transform: rotate(-180deg);
    }

    /* Content container for controlled content, given the required class */
    .details {
      padding: 0 1rem 1rem 1rem;
    }

    /* Hide content when not expanded (we toggle hidden attribute) */
    [hidden] { display: none; }

    /* Simple typography inside the details */
    .details p, .details ul {
      margin: 0.5rem 0 0.75rem 0;
      color: #374151;
    }

    .details ul { padding-left: 1.25rem; }
  </style>
</head>
<body>
  <h1>Expand/Collapse Widget Demo</h1>

  <!-- Example 1 -->
  <div class="example">
    <div class="widget">
      <button class="controls" id="toggle-1" aria-expanded="false" aria-controls="content-1">
        <span class="label">What is Lorem Ipsum?</span>
        <span class="icon" aria-hidden="true">▾</span>
      </button>
      <div id="content-1" class="details" role="region" aria-labelledby="toggle-1" hidden>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse
          lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor. Cras elementum
          ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi.
        </p>
        <p>
          Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae;
          Integer in nisl a arcu fermentum placerat. Integer vel nisl et nisl efficitur bibendum.
        </p>
      </div>
    </div>
  </div>

  <!-- Example 2 -->
  <div class="example">
    <div class="widget">
      <button class="controls" id="toggle-2" aria-expanded="false" aria-controls="content-2">
        <span class="label">How to use this widget?</span>
        <span class="icon" aria-hidden="true">▾</span>
      </button>
      <div id="content-2" class="details" role="region" aria-labelledby="toggle-2" hidden>
        <p>You can expand or collapse content by clicking the header. This technique improves readability by letting users focus on one section at a time.</p>
        <ul>
          <li>Click the header to toggle visibility</li>
          <li>Use Tab to focus the header and Enter/Space to toggle</li>
          <li>Aria attributes keep assistive tech informed</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    (function () {
      // Initialize all controls
      var buttons = document.querySelectorAll('.controls');
      buttons.forEach(function (btn) {
        var contentId = btn.getAttribute('aria-controls');
        var content = document.getElementById(contentId);

        // Ensure initial state
        btn.setAttribute('aria-expanded', 'false');
        content.hidden = true;

        // Click handler
        btn.addEventListener('click', function () {
          var expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          content.hidden = expanded; // hide when previously visible
        });

        // Keyboard accessibility: allow Enter or Space to toggle
        btn.addEventListener('keydown', function (e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            btn.click();
          }
        });
      });
    })();
  </script>
</body>
</html>