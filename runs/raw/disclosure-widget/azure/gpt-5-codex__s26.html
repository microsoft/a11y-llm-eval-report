<html lang="en">
<head>
<meta charset="UTF-8">
<title>Expand/Collapse Widgets</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  color-scheme: light dark;
  --bg: #f7f7f7;
  --fg: #1f1f1f;
  --accent: #4c6ef5;
  --accent-dark: #364fc7;
  --border: #d0d0d0;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: var(--bg);
  color: var(--fg);
  line-height: 1.6;
  padding: 2rem;
  display: flex;
  justify-content: center;
}

main {
  width: min(800px, 100%);
}

h1 {
  font-size: clamp(1.8rem, 3vw, 2.4rem);
  margin-bottom: 1.5rem;
}

.example {
  border: 1px solid var(--border);
  border-radius: 0.75rem;
  padding: 1.5rem;
  background: white;
  box-shadow: 0 10px 30px rgba(31, 41, 55, 0.1);
  margin-bottom: 1.5rem;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.example:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(31, 41, 55, 0.16);
}

.example h2 {
  margin-top: 0;
  font-size: 1.3rem;
}

button.toggle {
  border: none;
  background: var(--accent);
  color: white;
  font-size: 1rem;
  padding: 0.7rem 1.2rem;
  border-radius: 0.6rem;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  transition: background 0.2s ease, transform 0.1s ease;
}

button.toggle:focus-visible {
  outline: 3px solid rgba(76, 110, 245, 0.4);
  outline-offset: 3px;
}

button.toggle:hover {
  background: var(--accent-dark);
}

button.toggle:active {
  transform: scale(0.98);
}

.details {
  margin-top: 1rem;
  padding: 1rem;
  border: 1px dashed var(--border);
  border-radius: 0.5rem;
  background-color: rgba(76, 110, 245, 0.07);
  animation: fadeIn 0.25s ease forwards;
}

.details p:last-child {
  margin-bottom: 0;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}

.icon {
  display: inline-block;
  width: 1em;
  text-align: center;
  transition: transform 0.25s ease;
}

button.toggle[aria-expanded="true"] .icon {
  transform: rotate(90deg);
}
</style>
</head>
<body>
<main>
  <h1>Expand/Collapse Widgets</h1>

  <div class="example">
    <h2>Learn More About Accessibility</h2>
    <button class="toggle" type="button" aria-expanded="false" aria-controls="details-a" data-open-label="Hide accessibility tips" data-closed-label="Show accessibility tips">
      <span class="icon">▶</span>
      <span class="label">Show accessibility tips</span>
    </button>
    <div id="details-a" class="details" hidden>
      <p>Accessible widgets provide clear focus styles, keyboard operability, and accurate ARIA attributes. Keep the button text updated so screen reader users understand the current state.</p>
      <ul>
        <li>Use <code>aria-expanded</code> to reflect the state of collapsible content.</li>
        <li>Ensure toggles are reachable via keyboard (e.g., <kbd>Tab</kbd> + <kbd>Enter</kbd>).</li>
        <li>Keep content in the DOM so assistive technologies can discover it.</li>
      </ul>
    </div>
  </div>

  <div class="example">
    <h2>Frequently Asked Questions</h2>
    <button class="toggle" type="button" aria-expanded="false" aria-controls="details-b" data-open-label="Hide FAQ answer" data-closed-label="Reveal FAQ answer">
      <span class="icon">▶</span>
      <span class="label">Reveal FAQ answer</span>
    </button>
    <div id="details-b" class="details" hidden>
      <h3>How does the widget work?</h3>
      <p>The button toggles a <code>hidden</code> attribute on the content container. JavaScript updates the button label and <code>aria-expanded</code> value to keep the experience synchronized for assistive technologies.</p>
      <h3>Can I add animations?</h3>
      <p>Yes, you can animate opacity or transforms for smoother transitions. Be mindful of users who prefer reduced motion—respect the <code>prefers-reduced-motion</code> media query.</p>
    </div>
  </div>
</main>
<script>
(function () {
  const toggles = document.querySelectorAll('.toggle');

  toggles.forEach(button => {
    button.addEventListener('click', () => {
      const targetId = button.getAttribute('aria-controls');
      const content = document.getElementById(targetId);
      if (!content) return;

      const isExpanded = button.getAttribute('aria-expanded') === 'true';
      button.setAttribute('aria-expanded', (!isExpanded).toString());
      content.hidden = isExpanded;

      const label = button.querySelector('.label');
      const expandedLabel = button.dataset.openLabel || 'Hide details';
      const collapsedLabel = button.dataset.closedLabel || 'Show details';
      label.textContent = isExpanded ? collapsedLabel : expandedLabel;
    });
  });
})();
</script>
</body>
</html>