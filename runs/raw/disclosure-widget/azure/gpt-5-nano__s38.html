<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/Collapse Widget Demo</title>
  <style>
    :root {
      --bg: #f6f7fb;
      --card: #ffffff;
      --border: #dcdfe6;
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --content: #f8fbff;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 2rem;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: var(--bg);
      color: #1f2937;
    }
    h1 { margin-top: 0; font-size: 1.5rem; }
    .example {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 1px 2px rgba(0,0,0,.04);
    }
    .example h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.05rem;
    }
    .toggle {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .5em;
      padding: .6em 1em;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background: var(--primary);
      color: white;
      cursor: pointer;
      transition: transform .2s ease;
    }
    .toggle:focus {
      outline: 3px solid #cbd5e1;
      outline-offset: 2px;
    }
    .toggle:hover { background: var(--primary-dark); transform: translateY(-1px); }
    .details {
      display: none;              /* hidden by default (controlled content) */
      margin-top: .6em;
      padding: .6em 0.8em;
      background: var(--content);
      border-left: 3px solid #c7d2fe;
      border-radius: 4px;
      line-height: 1.5;
    }
    .details.open { display: block; }  /* shown when widget is expanded */
  </style>
</head>
<body>
  <h1>Expand/Collapse Widget Demo</h1>

  <!-- Example 1 -->
  <div class="example" aria-label="Collapsible content example 1">
    <h3>Example 1: Short content</h3>
    <button class="toggle" data-target="content1" aria-expanded="false" aria-controls="content1">Expand details</button>
    <div id="content1" class="details" hidden>
      <p>This is a short piece of content that becomes visible when expanded. It demonstrates the basic expand/collapse interaction.</p>
    </div>
  </div>

  <!-- Example 2 -->
  <div class="example" aria-label="Collapsible content example 2">
    <h3>Example 2: Longer content</h3>
    <button class="toggle" data-target="content2" aria-expanded="false" aria-controls="content2">Expand details</button>
    <div id="content2" class="details" hidden>
      <p>Here is a longer block of content to illustrate how a detached content container behaves inside the widget. It can include lists, links, or images.</p>
      <ul>
        <li>First item with extra details</li>
        <li>Second item to show wrapping</li>
        <li>Third item for demonstration</li>
      </ul>
    </div>
  </div>

  <!-- Example 3 -->
  <div class="example" aria-label="Collapsible content example 3">
    <h3>Example 3: Content with a header</h3>
    <button class="toggle" data-target="content3" aria-expanded="false" aria-controls="content3">Expand details</button>
    <div id="content3" class="details" hidden>
      <p><strong>Note:</strong> This widget uses a simple ARIA pattern for disclosure controls. The content container has the "details" class as required.</p>
      <p>It demonstrates that any HTML inside the details area will appear when expanded.</p>
    </div>
  </div>

  <script>
    (function () {
      const buttons = document.querySelectorAll('.toggle');
      buttons.forEach(btn => {
        btn.addEventListener('click', function () {
          const targetId = this.getAttribute('data-target');
          const content = document.getElementById(targetId);
          if (!content) return;

          const isHidden = content.hidden;
          if (isHidden) {
            content.hidden = false;
            content.classList.add('open');
            this.setAttribute('aria-expanded', 'true');
            this.textContent = 'Collapse details';
          } else {
            content.hidden = true;
            content.classList.remove('open');
            this.setAttribute('aria-expanded', 'false');
            this.textContent = 'Expand details';
          }
        });
      });
    })();
  </script>
</body>
</html>