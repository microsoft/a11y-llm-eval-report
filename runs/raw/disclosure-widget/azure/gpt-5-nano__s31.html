<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/Collapse Widget Demo</title>
  <style>
    :root {
      --bg: #f7f7f7;
      --card: #ffffff;
      --border: #e2e2e2;
      --fg: #333;
      --primary: #2e6ef7;
      --shadow: 0 1px 3px rgba(0,0,0,.08);
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color: var(--fg);
      background: var(--bg);
      line-height: 1.4;
    }

    .page {
      max-width: 860px;
      margin: 40px auto;
      padding: 0 16px;
    }

    h1 {
      font-size: 1.5rem;
      margin: 0 0 12px;
    }

    .example {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      margin: 16px 0;
      box-shadow: var(--shadow);
    }

    .toggle {
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 10px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: transform .1s ease;
    }

    .toggle:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 6px rgba(46,110,247,.25);
    }

    .details {
      overflow: hidden;
      max-height: 0;
      transition: max-height 0.25s ease;
      padding-top: 8px;
    }

    .details p, .details ul, .details ol {
      margin: 0;
      padding: 0;
      margin-top: 8px;
    }

    .details.open { /* optional hook for styling when open */ }

    @media (max-width: 600px) {
      .example { padding: 12px; }
    }

  </style>
</head>
<body>
  <div class="page">
    <h1>Expand/Collapse Widget Demo</h1>

    <!-- First example -->
    <div class="example" aria-label="Expandable section example 1">
      <button id="btn-1" class="toggle" aria-expanded="false" aria-controls="panel-1">
        Show details
      </button>
      <div id="panel-1" class="details" role="region" aria-labelledby="btn-1">
        <p>This is the first expandable section. It demonstrates basic expand/collapse behavior with accessible controls.</p>
        <ul>
          <li>Accessible button with aria-expanded</li>
          <li>Content is contained within a .details container</li>
          <li>Animated height on open/close</li>
        </ul>
      </div>
    </div>

    <!-- Second example -->
    <div class="example" aria-label="Expandable section example 2">
      <button id="btn-2" class="toggle" aria-expanded="false" aria-controls="panel-2">
        Show more
      </button>
      <div id="panel-2" class="details" role="region" aria-labelledby="btn-2">
        <p>The second example shows a longer content area so users can observe scrolling within the details container when expanded.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent ac arcu vitae arcu facilisis efficitur. Pellentesque habitant morbi tristique.</p>
        <ol>
          <li>Item one with extra detail</li>
          <li>Item two with more content</li>
          <li>Item three to emphasize length</li>
        </ol>
      </div>
    </div>
  </div>

  <script>
    (function () {
      // Initialize all example widgets
      function setupExample(container) {
        var btn = container.querySelector('.toggle');
        var panel = container.querySelector('.details');

        // Ensure starting state is collapsed
        panel.style.maxHeight = '0px';
        btn.setAttribute('aria-expanded', 'false');

        btn.addEventListener('click', function () {
          var isOpen = !panel.classList.contains('open');
          panel.classList.toggle('open', isOpen);
          panel.style.maxHeight = isOpen ? panel.scrollHeight + 'px' : '0px';
          btn.setAttribute('aria-expanded', String(isOpen));
          btn.textContent = isOpen ? 'Hide details' : btn.textContent.replace(/^(Show|Hide) /, 'Show ');
          // Optional: if you want the button text to always indicate the action
          if (isOpen) {
            // ensure content height is measured for animation
            panel.style.maxHeight = panel.scrollHeight + 'px';
          }
        });
      }

      document.querySelectorAll('.example').forEach(setupExample);
    })();
  </script>
</body>
</html>