<html lang="en">
<head>
<meta charset="UTF-8">
<title>Expand &amp; Collapse Widgets Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    :root {
        color-scheme: light dark;
        font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
    }

    body {
        margin: 0;
        padding: 2rem;
        background: linear-gradient(180deg, rgba(240,240,255,0.9), rgba(220,220,245,0.6));
        min-height: 100vh;
    }

    h1 {
        text-align: center;
        margin-bottom: 3rem;
        font-weight: 600;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: #333;
    }

    .example {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(6px);
        border: 1px solid rgba(88, 88, 120, 0.2);
        border-radius: 16px;
        padding: 1.75rem;
        margin: 0 auto 2.5rem;
        max-width: 720px;
        box-shadow: 0 20px 45px -25px rgba(50, 50, 90, 0.35);
    }

    .example h2 {
        margin-top: 0;
        margin-bottom: 1.5rem;
        font-size: 1.35rem;
        letter-spacing: 0.02em;
        color: #2a2a40;
    }

    button.toggle-btn,
    button.accordion-toggle {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1rem;
        padding: 0.65rem 1.1rem;
        border-radius: 999px;
        border: none;
        background: linear-gradient(120deg, #6a6ef5, #8f53ff);
        color: #fff;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    button.toggle-btn:hover,
    button.accordion-toggle:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 20px -12px rgba(66, 66, 180, 0.6);
    }

    button.toggle-btn:focus-visible,
    button.accordion-toggle:focus-visible {
        outline: 3px solid rgba(99, 102, 241, 0.6);
        outline-offset: 3px;
    }

    .details {
        margin-top: 1.2rem;
        padding: 1.1rem 1.25rem;
        border-radius: 12px;
        border: 1px solid rgba(105, 105, 155, 0.2);
        background: rgba(250, 250, 255, 0.9);
        color: #1f2430;
        line-height: 1.6;
        animation: fadeSlide 0.3s ease;
    }

    @keyframes fadeSlide {
        from {
            opacity: 0;
            transform: translateY(-6px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .details ul {
        margin: 0.5rem 0 0;
        padding-left: 1.2rem;
    }

    .accordion section {
        border-radius: 14px;
        padding: 1rem 1.2rem;
        margin-bottom: 1rem;
        background: rgba(108, 99, 255, 0.07);
        border: 1px solid rgba(108, 99, 255, 0.18);
        transition: transform 0.2s ease;
    }

    .accordion section:last-child {
        margin-bottom: 0;
    }

    .accordion section.expanded {
        transform: translateY(-2px);
        border-color: rgba(108, 99, 255, 0.3);
    }

    .accordion-toggle {
        width: 100%;
        justify-content: space-between;
        background: transparent;
        color: #37376b;
        font-weight: 600;
        letter-spacing: 0.01em;
        border: none;
        padding: 0;
    }

    .accordion-toggle span.label {
        flex: 1;
        text-align: left;
    }

    .accordion-toggle span.icon {
        font-weight: 700;
        font-size: 1.05rem;
        transition: transform 0.2s ease;
    }

    .accordion section.expanded .accordion-toggle span.icon {
        transform: rotate(45deg);
    }

    @media (max-width: 640px) {
        body {
            padding: 1.5rem;
        }

        .example {
            padding: 1.4rem;
        }
    }
</style>
</head>
<body>
<h1>Expand / Collapse Widgets</h1>

<div class="example">
    <h2>Basic Toggle Widget</h2>
    <button type="button" class="toggle-btn" aria-expanded="false" aria-controls="details-basic" data-collapsed-label="Show details" data-expanded-label="Hide details">
        Show details
    </button>
    <div id="details-basic" class="details" hidden>
        <p>
            This widget demonstrates a simple expand and collapse pattern using a button to reveal additional information.
            The state of the button is synchronized with the visibility of this content, updating both the <code>aria-expanded</code>
            attribute and the button label for assistive technologies.
        </p>
        <p>
            You can easily adapt this pattern to show FAQs, explanatory text, or any content that benefits from progressive disclosure.
        </p>
    </div>
</div>

<div class="example">
    <h2>Accordion Widget with Exclusive Panels</h2>
    <div class="accordion">
        <section>
            <button type="button" class="accordion-toggle" data-group="accordion-one" aria-expanded="false" aria-controls="details-panel-1">
                <span class="label">What is an accordion pattern?</span>
                <span class="icon">+</span>
            </button>
            <div id="details-panel-1" class="details" hidden>
                <p>
                    An accordion is a vertically stacked interface element that allows users to reveal or hide sections of content.
                    Typically, only one panel stays open at a time to keep the interface tidy and focused.
                </p>
            </div>
        </section>
        <section>
            <button type="button" class="accordion-toggle" data-group="accordion-one" aria-expanded="false" aria-controls="details-panel-2">
                <span class="label">Why use exclusive expansion?</span>
                <span class="icon">+</span>
            </button>
            <div id="details-panel-2" class="details" hidden>
                <p>
                    Exclusive expansion ensures that only the most relevant section is visible, reducing cognitive load.
                    It is especially helpful when space is limited or when users need to compare sections one at a time.
                </p>
                <ul>
                    <li>Improves readability.</li>
                    <li>Works well on mobile devices.</li>
                    <li>Helps prevent content overload.</li>
                </ul>
            </div>
        </section>
        <section>
            <button type="button" class="accordion-toggle" data-group="accordion-one" aria-expanded="false" aria-controls="details-panel-3">
                <span class="label">How is accessibility handled?</span>
                <span class="icon">+</span>
            </button>
            <div id="details-panel-3" class="details" hidden>
                <p>
                    Each trigger button advertises its relationship with the controlled region using <code>aria-controls</code>.
                    The <code>aria-expanded</code> attribute keeps assistive technology informed about the current state,
                    and the content area is hidden using the <code>hidden</code> attribute when collapsed.
                </p>
            </div>
        </section>
    </div>
</div>

<script>
    function toggleSection(button, content, collapseLabel, expandLabel) {
        const isHidden = content.hasAttribute('hidden');
        if (isHidden) {
            content.removeAttribute('hidden');
            button.setAttribute('aria-expanded', 'true');
            if (expandLabel) {
                button.textContent = expandLabel;
            }
        } else {
            content.setAttribute('hidden', '');
            button.setAttribute('aria-expanded', 'false');
            if (collapseLabel) {
                button.textContent = collapseLabel;
            }
        }
    }

    document.querySelectorAll('.toggle-btn').forEach(button => {
        const controlsId = button.getAttribute('aria-controls');
        const content = document.getElementById(controlsId);
        const collapsedLabel = button.dataset.collapsedLabel || 'Show';
        const expandedLabel = button.dataset.expandedLabel || 'Hide';

        button.addEventListener('click', () => {
            toggleSection(button, content, collapsedLabel, expandedLabel);
        });
    });

    const accordionButtons = document.querySelectorAll('.accordion-toggle');

    accordionButtons.forEach(button => {
        button.addEventListener('click', () => {
            const group = button.dataset.group;
            const targetId = button.getAttribute('aria-controls');
            const target = document.getElementById(targetId);
            const parentSection = button.closest('section');
            const isOpening = target.hasAttribute('hidden');

            accordionButtons.forEach(otherButton => {
                if (otherButton.dataset.group === group && otherButton !== button) {
                    const otherTarget = document.getElementById(otherButton.getAttribute('aria-controls'));
                    const otherSection = otherButton.closest('section');
                    if (!otherTarget.hasAttribute('hidden')) {
                        otherTarget.setAttribute('hidden', '');
                        otherButton.setAttribute('aria-expanded', 'false');
                        otherSection.classList.remove('expanded');
                        otherButton.querySelector('.icon').textContent = '+';
                    }
                }
            });

            if (isOpening) {
                target.removeAttribute('hidden');
                button.setAttribute('aria-expanded', 'true');
                parentSection.classList.add('expanded');
                button.querySelector('.icon').textContent = 'â€“';
            } else {
                target.setAttribute('hidden', '');
                button.setAttribute('aria-expanded', 'false');
                parentSection.classList.remove('expanded');
                button.querySelector('.icon').textContent = '+';
            }
        });
    });
</script>
</body>
</html>