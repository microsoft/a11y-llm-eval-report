<html lang="en">
<head>
<meta charset="utf-8">
<title>Expand/Collapse Widget Examples</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root {
  --border: #d0d7de;
  --bg: #fff;
  --accent: #0969da;
  --text: #24292f;
  --subtext: #57606a;
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  color: var(--text);
  background: #f6f8fa;
  line-height: 1.5;
}
main { max-width: 800px; margin: 32px auto; padding: 0 16px; }
h1 { font-size: 1.8rem; margin: 0 0 16px; }
p.lead { color: var(--subtext); margin: 0 0 24px; }
.example {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 16px;
  margin: 16px 0;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}
.example h2 {
  font-size: 1rem;
  margin: 0 0 8px;
  color: var(--accent);
}
.details {
  border-top: 1px dashed var(--border);
  margin-top: 12px;
  padding-top: 12px;
  overflow: hidden;
  transition: max-height .25s ease, opacity .25s ease;
  max-height: 1000px;
  opacity: 1;
}
.disclosure-btn,
details.disclosure > summary,
label.disclosure {
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: var(--text);
  background: transparent;
  border: none;
  padding: 6px 10px 6px 24px;
  font: inherit;
  position: relative;
  user-select: none;
}
.disclosure-btn { border-radius: 6px; border: 1px solid var(--border); background: #fafbfc; }
.disclosure-btn:hover { background: #f0f3f6; }
.disclosure-btn:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
details.disclosure > summary {
  list-style: none;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: #fafbfc;
}
details.disclosure > summary:hover { background: #f0f3f6; }
details.disclosure > summary:focus { outline: none; }
details.disclosure > summary:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
.disclosure-btn::before,
details.disclosure > summary::before,
label.disclosure::before {
  content: "â–¸";
  position: absolute;
  left: 8px;
  transition: transform .2s ease;
  color: var(--subtext);
}
.disclosure-btn[aria-expanded="true"]::before { transform: rotate(90deg); }
details.disclosure[open] > summary::before { transform: rotate(90deg); }
input.toggle {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}
label.disclosure {
  border-radius: 6px;
  border: 1px solid var(--border);
  background: #fafbfc;
  padding-right: 10px;
}
label.disclosure:hover { background: #f0f3f6; }
label.disclosure:focus-within { outline: 2px solid var(--accent); outline-offset: 2px; }
#ex3-toggle:checked + label.disclosure::before { transform: rotate(90deg); }
#ex3-toggle ~ .details {
  max-height: 0;
  opacity: 0;
}
#ex3-toggle:checked ~ .details {
  max-height: 1000px;
  opacity: 1;
}
.code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  background: #f6f8fa;
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 8px;
}
footer { color: var(--subtext); text-align: center; padding: 24px; }
</style>
</head>
<body>
<main>
  <h1>Expand/Collapse Widgets</h1>
  <p class="lead">Three approaches: native details/summary, a JavaScript-driven disclosure button, and a CSS-only checkbox.</p>

  <div class="example" id="ex1">
    <h2>Native details/summary</h2>
    <details class="disclosure">
      <summary aria-controls="ex1-content">More information</summary>
      <div id="ex1-content" class="details">
        <p>This widget uses the HTML details/summary element. The content below is shown when the disclosure is open.</p>
        <ul>
          <li>Keyboard accessible by default.</li>
          <li>Built-in toggle behavior.</li>
          <li>Can be styled for a consistent look.</li>
        </ul>
        <pre class="code">&lt;details&gt;
  &lt;summary&gt;More information&lt;/summary&gt;
  &lt;div class="details"&gt;Controlled content&lt;/div&gt;
&lt;/details&gt;</pre>
      </div>
    </details>
  </div>

  <div class="example" id="ex2">
    <h2>JavaScript-driven disclosure button</h2>
    <button type="button" id="ex2-button" class="disclosure-btn" aria-expanded="false" aria-controls="ex2-content">Show more</button>
    <div id="ex2-content" class="details" hidden>
      <p>This widget uses a button with aria-expanded and aria-controls to manage visibility of the controlled content.</p>
      <ol>
        <li>The button toggles the hidden attribute on the container.</li>
        <li>ARIA reflects the current expanded state for assistive technologies.</li>
        <li>The label updates to Show more / Show less.</li>
      </ol>
      <pre class="code">&lt;button aria-expanded="false" aria-controls="ex2-content"&gt;Show more&lt;/button&gt;
&lt;div id="ex2-content" class="details" hidden&gt;Controlled content&lt;/div&gt;</pre>
    </div>
  </div>

  <div class="example" id="ex3">
    <h2>CSS-only checkbox</h2>
    <input id="ex3-toggle" class="toggle" type="checkbox" />
    <label for="ex3-toggle" class="disclosure">Expand section</label>
    <div id="ex3-content" class="details">
      <p>This widget does not require JavaScript. A visually hidden checkbox controls CSS that expands or collapses the content.</p>
      <p>Because it uses a real form control with an associated label, it is operable via keyboard.</p>
      <pre class="code">#ex3-toggle:checked ~ .details {
  max-height: 1000px;
  opacity: 1;
}</pre>
    </div>
  </div>
</main>

<script>
(function() {
  const btn = document.getElementById('ex2-button');
  const content = document.getElementById('ex2-content');
  if (!btn || !content) return;

  const labels = {
    true: 'Show less',
    false: 'Show more'
  };

  function toggle() {
    const expanded = btn.getAttribute('aria-expanded') === 'true';
    const next = !expanded;
    btn.setAttribute('aria-expanded', String(next));
    btn.textContent = labels[String(next)];
    if (next) {
      content.removeAttribute('hidden');
    } else {
      content.setAttribute('hidden', '');
    }
  }

  btn.addEventListener('click', toggle);

  btn.addEventListener('keydown', function(e) {
    if (e.key === ' ' || e.key === 'Enter') {
      e.preventDefault();
      toggle();
    }
  });
})();
</script>

<footer>
  Expand/collapse widgets demo
</footer>
</body>
</html>