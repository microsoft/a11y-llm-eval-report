<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .example {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        .example h2 {
            margin: 0;
            padding: 15px;
            background-color: #f5f5f5;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.3s;
        }
        .example h2:hover {
            background-color: #e5e5e5;
        }
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: white;
        }
        .details.expanded {
            max-height: 500px; /* Adjust based on content */
        }
        .details-content {
            padding: 20px;
        }
        .example.active h2::after {
            content: ' ▼';
        }
        .example:not(.active) h2::after {
            content: ' ►';
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Examples</h1>

    <div class="example" data-state="collapsed">
        <h2 onclick="toggleDetails(this.parentElement)">Example 1: Basic Information</h2>
        <div class="details">
            <div class="details-content">
                <p>This is the first example of an expand/collapse widget. Click the title above to expand or collapse this content. The widget uses CSS transitions for smooth animation and JavaScript for interactivity.</p>
                <ul>
                    <li>Item 1: First point of information</li>
                    <li>Item 2: Second point of information</li>
                    <li>Item 3: Third point of information</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="example" data-state="collapsed">
        <h2 onclick="toggleDetails(this.parentElement)">Example 2: Detailed Features</h2>
        <div class="details">
            <div class="details-content">
                <h3>Features Overview</h3>
                <p>This second example demonstrates more detailed content that can be expanded. The widget is fully customizable and can handle various types of content including text, lists, images, and more.</p>
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2RkZCIvPjx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIiBmaWxsPSIjOTk5IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UGxhY2Vob2xkZXI8L3RleHQ+PC9zdmc+" alt="Placeholder Image" style="max-width: 100%; height: auto;">
                <p>The image above is a placeholder. You can replace it with actual content relevant to your use case.</p>
            </div>
        </div>
    </div>

    <div class="example" data-state="collapsed">
        <h2 onclick="toggleDetails(this.parentElement)">Example 3: FAQ Section</h2>
        <div class="details">
            <div class="details-content">
                <h3>Frequently Asked Questions</h3>
                <div style="margin-bottom: 15px;">
                    <strong>Q: How does the expand/collapse work?</strong><br>
                    A: The widget uses JavaScript to toggle a CSS class that controls the max-height property, creating a smooth expand/collapse animation.
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>Q: Is it accessible?</strong><br>
                    A: Yes, the widget can be made fully accessible by adding ARIA attributes and keyboard navigation support.
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>Q: Can I customize the animation?</strong><br>
                    A: Absolutely! The transition timing and easing can be modified in the CSS, and you can add different animation effects.
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleDetails(element) {
            const details = element.querySelector('.details');
            const isExpanded = details.classList.contains('expanded');
            
            if (isExpanded) {
                details.classList.remove('expanded');
                element.classList.remove('active');
                element.setAttribute('data-state', 'collapsed');
            } else {
                details.classList.add('expanded');
                element.classList.add('active');
                element.setAttribute('data-state', 'expanded');
            }
        }

        // Close all widgets when clicking outside
        document.addEventListener('click', function(event) {
            const examples = document.querySelectorAll('.example');
            examples.forEach(example => {
                if (!example.contains(event.target)) {
                    example.classList.remove('active');
                    example.querySelector('.details').classList.remove('expanded');
                    example.setAttribute('data-state', 'collapsed');
                }
            });
        });

        // Prevent widget from closing when clicking inside
        document.addEventListener('click', function(event) {
            if (event.target.closest('.example')) {
                event.stopPropagation();
            }
        }, true);
    </script>
</body>
</html>