<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .toggle-button {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-bottom: 10px;
            transition: background-color 0.3s ease;
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            background-color: #e9ecef;
            border-left: 3px solid #007bff;
            padding-left: 10px;
        }

        .details.expanded {
            max-height: 200px; /* Adjust based on expected content height */
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .details p {
            margin: 0;
            padding: 5px 0;
            line-height: 1.5;
        }

        h2 {
            color: #333;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <h2>Widget 1: Basic Information</h2>
        <button class="toggle-button">Show Details</button>
        <div class="details">
            <p>This is the first piece of collapsible content. It contains some basic information about the widget.</p>
            <p>You can put any HTML content here, like paragraphs, lists, or even images.</p>
        </div>
    </div>

    <div class="example">
        <h2>Widget 2: Advanced Options</h2>
        <button class="toggle-button">Reveal Options</button>
        <div class="details">
            <p>Here are some advanced configuration options:</p>
            <ul>
                <li>Option A: Enabled by default.</li>
                <li>Option B: Requires user confirmation.</li>
                <li>Option C: Available in premium version.</li>
            </ul>
            <p>Click the button again to hide these options.</p>
        </div>
    </div>

    <div class="example">
        <h2>Widget 3: Long Content Example</h2>
        <button class="toggle-button">Read More</button>
        <div class="details">
            <p>This example demonstrates a longer piece of content that might take up more vertical space when expanded. The `max-height` CSS property ensures a smooth transition.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>Feel free to adjust the `max-height` in the CSS for the `.details.expanded` class to accommodate the longest content you expect.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const detailsDiv = button.nextElementSibling; // Get the next sibling element which should be .details
                    
                    if (detailsDiv && detailsDiv.classList.contains('details')) {
                        detailsDiv.classList.toggle('expanded');

                        if (detailsDiv.classList.contains('expanded')) {
                            button.textContent = 'Hide Details';
                            // Set max-height to scrollHeight to allow for dynamic content
                            // A small timeout ensures the height is calculated after display properties might have changed
                            setTimeout(() => {
                                detailsDiv.style.maxHeight = detailsDiv.scrollHeight + "px";
                            }, 0);
                        } else {
                            button.textContent = 'Show Details';
                            detailsDiv.style.maxHeight = '0'; // Collapse
                        }
                    }
                });
            });
        });
    </script>

</body>
</html>