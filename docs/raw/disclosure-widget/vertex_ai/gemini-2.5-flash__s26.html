<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }
        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 15px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .toggle-button {
            background-color: #eee;
            color: #333;
            padding: 10px 15px;
            width: 100%;
            border: none;
            text-align: left;
            cursor: pointer;
            font-size: 1.1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
            transition: background-color 0.2s ease;
        }
        .toggle-button:hover {
            background-color: #e0e0e0;
        }
        .toggle-button:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }
        .caret {
            font-size: 0.9em;
            margin-left: 10px;
            transition: transform 0.2s ease-in-out;
        }
        .toggle-button[aria-expanded="true"] .caret {
            transform: rotate(180deg);
        }
        .details {
            padding: 0 15px; /* Horizontal padding, vertical will be transitioned */
            border-top: 1px solid #eee;
            max-height: 0; /* Hidden by default */
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out, padding-top 0.3s ease-out, padding-bottom 0.3s ease-out;
            opacity: 0;
        }
        .details.show {
            max-height: 500px; /* A sufficiently large value for expansion */
            opacity: 1;
            padding-top: 15px;
            padding-bottom: 15px;
        }
        .details p {
            margin-top: 0;
            margin-bottom: 10px;
            line-height: 1.6;
        }
        .details p:last-child {
            margin-bottom: 0;
        }
        .details ul {
            margin-bottom: 0;
            padding-left: 20px;
        }
        .details a {
            color: #007bff;
            text-decoration: none;
        }
        .details a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content1">
            Section 1: About This Widget
            <span class="caret">▼</span>
        </button>
        <div id="content1" class="details">
            <p>This is the content for the first expand/collapse widget. It demonstrates how to hide and show information on demand. Clicking the button above will toggle the visibility of this entire section.</p>
            <ul>
                <li><strong>Dynamic content:</strong> Easily hides or reveals blocks of text.</li>
                <li><strong>Smooth transitions:</strong> Uses CSS properties for a fluid animation.</li>
                <li><strong>Accessibility:</strong> Implements ARIA attributes for screen reader compatibility.</li>
            </ul>
            <p>This can be useful for FAQs, detailed descriptions, or any content that doesn't need to be immediately visible.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content2">
            Section 2: More Details and Examples
            <span class="caret">▼</span>
        </button>
        <div id="content2" class="details">
            <p>Here's some additional text that will be shown or hidden. This demonstrates that the widget can contain arbitrary HTML content, such as multiple paragraphs, lists, or even embedded media (though not included in this basic example).</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content3">
            Section 3: Contact Information
            <span class="caret">▼</span>
        </button>
        <div id="content3" class="details">
            <p>If you have any questions, feel free to contact us:</p>
            <ul>
                <li>Email: <a href="mailto:info@example.com">info@example.com</a></li>
                <li>Phone: 123-456-7890</li>
                <li>Address: 123 Widget Lane, Tech City, TX 78701</li>
            </ul>
            <p>Our office hours are Monday to Friday, 9 AM to 5 PM EST.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const contentId = button.getAttribute('aria-controls');
                    const detailsDiv = document.getElementById(contentId);

                    // Toggle 'show' class on the details div
                    detailsDiv.classList.toggle('show');

                    // Update aria-expanded attribute for accessibility
                    const isExpanded = detailsDiv.classList.contains('show');
                    button.setAttribute('aria-expanded', isExpanded);
                });
            });
        });
    </script>

</body>
</html>