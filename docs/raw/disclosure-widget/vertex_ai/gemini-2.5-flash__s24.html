<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .toggle-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-bottom: 10px;
            transition: background-color 0.2s ease;
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .toggle-button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.3);
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 0;
            padding-top: 0;
        }

        .details.expanded {
            max-height: 500px; /* Adjust based on expected content height */
            opacity: 1;
            padding-top: 10px; /* Add some padding when expanded */
        }

        .details p {
            margin-top: 0;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        h2 {
            color: #333;
            margin-top: 0;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <h2>Widget 1: Basic Information</h2>
        <button class="toggle-button" aria-expanded="false" aria-controls="details1">Show More</button>
        <div id="details1" class="details">
            <p>This is the content that expands and collapses. It can contain any HTML elements you wish, such as paragraphs, lists, images, or other interactive components. When collapsed, its `max-height` is set to `0`, making it invisible, and `overflow: hidden` prevents its content from spilling out.</p>
            <p>Click the button again to hide this information.</p>
        </div>
    </div>

    <div class="example">
        <h2>Widget 2: Advanced Options</h2>
        <button class="toggle-button" aria-expanded="false" aria-controls="details2">View Options</button>
        <div id="details2" class="details">
            <p>Here are some advanced options:</p>
            <ul>
                <li>Option A: Enable Feature X</li>
                <li>Option B: Configure Setting Y</li>
                <li>Option C: Adjust Preferences Z</li>
            </ul>
            <p>These options become visible when the section is expanded.</p>
        </div>
    </div>

    <div class="example">
        <h2>Widget 3: Long Text Example</h2>
        <button class="toggle-button" aria-expanded="false" aria-controls="details3">Read Full Article</button>
        <div id="details3" class="details">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>This widget demonstrates how to handle a larger block of text. The `max-height` in CSS for the `.details.expanded` class should be sufficiently large to accommodate the content, or a more sophisticated JavaScript approach for dynamic height calculation might be needed for very varied content lengths.</p>
            <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Proin eget tortor risus. Curabitur aliquet quam id dui posuere blandit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla porttitor accumsan tincidunt. Praesent sapien massa, convallis a sagittis vitae, feugiat sit amet quam.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('aria-controls');
                    const targetDetails = document.getElementById(targetId);

                    if (targetDetails) {
                        const isExpanded = button.getAttribute('aria-expanded') === 'true';

                        if (isExpanded) {
                            // Collapse
                            button.setAttribute('aria-expanded', 'false');
                            button.textContent = button.textContent.replace('Hide', 'Show').replace('Less', 'More').replace('Close', 'View'); // Simple text change
                            targetDetails.classList.remove('expanded');
                        } else {
                            // Expand
                            button.setAttribute('aria-expanded', 'true');
                            button.textContent = button.textContent.replace('Show', 'Hide').replace('More', 'Less').replace('View', 'Close'); // Simple text change
                            targetDetails.classList.add('expanded');
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>