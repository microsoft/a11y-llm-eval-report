<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            max-width: 600px;
            margin: 40px auto;
            padding: 0 20px;
            background-color: #f4f4f9;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        /* Widget Container */
        .example {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 16px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        /* Trigger Button */
        .toggle-btn {
            width: 100%;
            padding: 16px;
            background: #fff;
            border: none;
            text-align: left;
            font-size: 16px;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s;
        }

        .toggle-btn:hover {
            background-color: #f9f9f9;
        }

        .toggle-btn:focus {
            outline: 2px solid #0056b3;
            outline-offset: -2px;
        }

        /* Icon rotation */
        .icon {
            transition: transform 0.3s ease;
        }

        .toggle-btn[aria-expanded="true"] .icon {
            transform: rotate(180deg);
        }

        /* Controlled Content Container */
        .details {
            padding: 0 16px;
            color: #555;
            line-height: 1.6;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
        }

        /* State when open */
        .details.open {
            padding-bottom: 16px;
            border-top: 1px solid #f0f0f0;
            /* max-height is set via JS for smooth animation, or a large value in CSS */
        }
    </style>
</head>
<body>

    <h1>FAQ Widgets</h1>

    <!-- Widget 1 -->
    <div class="example">
        <button class="toggle-btn" aria-expanded="false" aria-controls="content-1">
            <span>What is the return policy?</span>
            <svg class="icon" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.41 0.589996L6 5.17L10.59 0.589996L12 2L6 8L0 2L1.41 0.589996Z" fill="#333"/>
            </svg>
        </button>
        <div id="content-1" class="details">
            <p>You can return any item within 30 days of purchase. Ensure the item is in its original condition and packaging. Shipping fees for returns are the responsibility of the customer unless the item was damaged upon arrival.</p>
        </div>
    </div>

    <!-- Widget 2 -->
    <div class="example">
        <button class="toggle-btn" aria-expanded="false" aria-controls="content-2">
            <span>How do I track my order?</span>
            <svg class="icon" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.41 0.589996L6 5.17L10.59 0.589996L12 2L6 8L0 2L1.41 0.589996Z" fill="#333"/>
            </svg>
        </button>
        <div id="content-2" class="details">
            <p>Once your order has shipped, you will receive an email with a tracking number. You can also log in to your account on our website and view your order history to see real-time updates.</p>
        </div>
    </div>

    <!-- Widget 3 -->
    <div class="example">
        <button class="toggle-btn" aria-expanded="false" aria-controls="content-3">
            <span>Do you offer international shipping?</span>
            <svg class="icon" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.41 0.589996L6 5.17L10.59 0.589996L12 2L6 8L0 2L1.41 0.589996Z" fill="#333"/>
            </svg>
        </button>
        <div id="content-3" class="details">
            <p>Yes, we ship to over 50 countries worldwide. International shipping rates vary based on destination and package weight. Please note that customs duties and taxes may apply upon delivery.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const widgets = document.querySelectorAll('.example');

            widgets.forEach(widget => {
                const button = widget.querySelector('.toggle-btn');
                const content = widget.querySelector('.details');

                button.addEventListener('click', () => {
                    const isExpanded = button.getAttribute('aria-expanded') === 'true';
                    
                    // Toggle ARIA state
                    button.setAttribute('aria-expanded', !isExpanded);
                    
                    // Toggle Content Class
                    content.classList.toggle('open');

                    // Handle smooth height animation
                    if (!isExpanded) {
                        content.style.maxHeight = content.scrollHeight + "px";
                    } else {
                        content.style.maxHeight = null;
                    }
                });
            });
        });
    </script>
</body>
</html>