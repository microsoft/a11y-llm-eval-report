<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        h1 {
            color: #0056b3;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .expand-collapse-widget {
            margin-top: 10px;
        }

        .toggle-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            outline: none;
            transition: background-color 0.2s ease;
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .details {
            background-color: #e9f7ff;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin-top: 10px;
            border-radius: 0 5px 5px 0;
            line-height: 1.6;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            overflow: hidden;
        }

        /* Initial state for hidden content (controlled by JS) */
        .details[aria-hidden="true"] {
            display: none;
        }

        /* Animation for showing/hiding content - optional, can be simple display: none/block */
        /* For a smoother animation, you might combine max-height with opacity */
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <h2>Widget Example 1</h2>
        <div class="expand-collapse-widget">
            <button class="toggle-button" aria-expanded="false" aria-controls="content1">Expand Content</button>
            <div id="content1" class="details" aria-hidden="true">
                <h3>Detailed Information for Section 1</h3>
                <p>This is the content that can be expanded or collapsed. It contains various elements to demonstrate flexibility.</p>
                <ul>
                    <li>Feature A: This widget uses JavaScript.</li>
                    <li>Feature B: It toggles the visibility of content.</li>
                    <li>Feature C: Each example is self-contained.</li>
                </ul>
                <p>You can place any HTML structure here, including images, tables, or more complex layouts.</p>
            </div>
        </div>
    </div>

    <div class="example">
        <h2>Widget Example 2: Another Section</h2>
        <div class="expand-collapse-widget">
            <button class="toggle-button" aria-expanded="false" aria-controls="content2">Show More Info</button>
            <div id="content2" class="details" aria-hidden="true">
                <h3>Additional Details</h3>
                <p>Here's some more text for a second expand/collapse section. This shows that multiple widgets can exist independently on the same page.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                <img src="https://via.placeholder.com/150/007bff/ffffff?text=Image" alt="Placeholder image" style="max-width: 100%; height: auto; display: block; margin-top: 10px;">
            </div>
        </div>
    </div>

    <div class="example">
        <h2>Widget Example 3: Shorter Content</h2>
        <div class="expand-collapse-widget">
            <button class="toggle-button" aria-expanded="false" aria-controls="content3">Toggle Short Text</button>
            <div id="content3" class="details" aria-hidden="true">
                <p>Just a small bit of text here to show how it works with less content.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const contentId = this.getAttribute('aria-controls');
                    const contentArea = document.getElementById(contentId);
                    
                    // Toggle visibility
                    const isHidden = contentArea.getAttribute('aria-hidden') === 'true';
                    contentArea.setAttribute('aria-hidden', !isHidden);
                    this.setAttribute('aria-expanded', !isHidden);

                    if (isHidden) {
                        contentArea.style.display = 'block'; // Show content
                        this.textContent = this.textContent.replace(/Expand|Show More|Toggle/, 'Collapse');
                    } else {
                        contentArea.style.display = 'none'; // Hide content
                        this.textContent = this.textContent.replace(/Collapse/, 'Expand');
                        // Reset button text to a generic "Expand" if it wasn't a specific "Show More"
                        if (!this.textContent.includes('Show More Info')) {
                             this.textContent = this.textContent.replace('Expand Content', 'Expand Content');
                        }
                    }

                    // Adjust button text (simple version, can be more sophisticated)
                    if (this.textContent.includes('Show More Info')) {
                         this.textContent = isHidden ? 'Hide Info' : 'Show More Info';
                    } else if (this.textContent.includes('Toggle Short Text')) {
                         this.textContent = isHidden ? 'Hide Short Text' : 'Toggle Short Text';
                    } else {
                        this.textContent = isHidden ? 'Collapse Content' : 'Expand Content';
                    }

                });
            });
        });
    </script>

</body>
</html>