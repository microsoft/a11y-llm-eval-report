<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            background-color: #f4f4f9;
        }

        .example {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 16px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .toggle-btn {
            width: 100%;
            background: none;
            border: none;
            padding: 15px;
            text-align: left;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #333;
            transition: background-color 0.2s;
        }

        .toggle-btn:hover {
            background-color: #f9f9f9;
        }

        .toggle-btn:focus {
            outline: 2px solid #0056b3;
            outline-offset: -2px;
        }

        .toggle-btn::after {
            content: '+';
            font-size: 20px;
            font-weight: bold;
            color: #666;
        }

        .toggle-btn[aria-expanded="true"]::after {
            content: 'âˆ’';
        }

        .toggle-btn[aria-expanded="true"] {
            background-color: #f0f4f8;
            border-bottom: 1px solid #eee;
        }

        /* The container for controlled content */
        .details {
            display: none;
            padding: 15px;
            color: #555;
            line-height: 1.5;
            border-top: 1px solid transparent;
        }

        .details.is-visible {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <h2>Expand/Collapse Widgets</h2>

    <!-- Widget 1 -->
    <div class="example">
        <button type="button" class="toggle-btn" aria-expanded="false" aria-controls="widget-content-1">
            Section 1: Overview
        </button>
        <div id="widget-content-1" class="details">
            <p>This is the content for the first section. It is hidden by default and revealed when the user activates the button above.</p>
        </div>
    </div>

    <!-- Widget 2 -->
    <div class="example">
        <button type="button" class="toggle-btn" aria-expanded="false" aria-controls="widget-content-2">
            Section 2: Features
        </button>
        <div id="widget-content-2" class="details">
            <ul>
                <li>Lightweight HTML structure</li>
                <li>CSS-based styling</li>
                <li>Vanilla JavaScript logic</li>
                <li>Accessible ARIA attributes</li>
            </ul>
        </div>
    </div>

    <!-- Widget 3 -->
    <div class="example">
        <button type="button" class="toggle-btn" aria-expanded="false" aria-controls="widget-content-3">
            Section 3: Settings
        </button>
        <div id="widget-content-3" class="details">
            <p>You can place forms, images, or any other HTML elements inside this container.</p>
            <label style="display:block; margin-top:10px;">
                <input type="checkbox"> Enable notifications
            </label>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const buttons = document.querySelectorAll('.toggle-btn');

            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    // Get the target content ID
                    const targetId = button.getAttribute('aria-controls');
                    const content = document.getElementById(targetId);

                    // Check current state
                    const isExpanded = button.getAttribute('aria-expanded') === 'true';

                    // Toggle state
                    button.setAttribute('aria-expanded', !isExpanded);
                    
                    if (!isExpanded) {
                        content.classList.add('is-visible');
                    } else {
                        content.classList.remove('is-visible');
                    }
                });
            });
        });
    </script>
</body>
</html>