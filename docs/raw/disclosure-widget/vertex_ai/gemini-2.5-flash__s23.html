<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .toggle-button {
            display: block;
            width: 100%;
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-sizing: border-box; /* Ensures padding doesn't affect total width */
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .details {
            margin-top: 10px;
            padding: 10px 15px;
            border-left: 3px solid #007bff;
            background-color: #e9f7ff;
            border-radius: 0 0 5px 5px;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            max-height: 0;
            opacity: 0;
        }

        .details.expanded {
            max-height: 200px; /* Adjust as needed for content height */
            opacity: 1;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        /* For a more robust height transition, you might need to calculate content height dynamically
           or use a large enough max-height that always covers the content. */
        .details p {
            margin: 0;
            padding-bottom: 5px;
        }
        .details p:last-child {
            padding-bottom: 0;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button">Click to Expand/Collapse Section 1</button>
        <div class="details">
            <p>This is the content for section 1. It will expand and collapse when you click the button above.</p>
            <p>You can put any HTML content here, like paragraphs, lists, images, or even other widgets.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button">Click to Show/Hide More Information</button>
        <div class="details">
            <h2>More Details Here</h2>
            <ul>
                <li>Item 1</li>
                <li>Item 2</li>
                <li>Item 3</li>
            </ul>
            <p>This widget demonstrates how to hide and show detailed information efficiently.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button">Another Expandable Content Area</button>
        <div class="details">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Find the sibling .details div
                    const detailsContent = button.nextElementSibling;

                    // Toggle the 'expanded' class
                    if (detailsContent && detailsContent.classList.contains('details')) {
                        detailsContent.classList.toggle('expanded');

                        // Optionally change button text/icon
                        if (detailsContent.classList.contains('expanded')) {
                            button.textContent = button.textContent.replace('Expand', 'Collapse').replace('Show', 'Hide').replace('Click to ', '');
                            button.textContent = 'Collapse ' + button.textContent;
                        } else {
                            button.textContent = button.textContent.replace('Collapse ', 'Click to Expand ').replace('Hide ', 'Click to Show ');
                            button.textContent = button.textContent.replace('Collapse ', 'Click to ');
                            // Reset text to original intent (simplified here)
                            if (!button.dataset.originalText) {
                                button.dataset.originalText = button.textContent;
                            }
                            button.textContent = button.dataset.originalText;
                            // A more robust way would be to store original text in data attribute
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>