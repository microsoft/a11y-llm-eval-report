<html>
<head>
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }

        .example {
            background-color: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin: 0 auto 20px;
            max-width: 700px;
            overflow: hidden; /* Ensures content transition is clean within the border-radius */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .toggle-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 15px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            font-size: 1.1em;
            cursor: pointer;
            outline: none;
            transition: background-color 0.2s ease;
            font-weight: bold;
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .toggle-button::after {
            content: '+'; /* Plus sign when collapsed */
            font-size: 1.2em;
            transition: transform 0.3s ease;
        }

        .toggle-button[aria-expanded="true"]::after {
            content: '-'; /* Minus sign when expanded */
            transform: rotate(0deg); /* No rotation needed, just content change */
        }

        /* Styles for the controlled content container */
        .details {
            max-height: 0; /* Hidden state */
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 0;
            background-color: #fdfdfd;
            box-sizing: border-box; /* Include padding in element's total width/height */
            padding: 0 20px; /* Horizontal padding, vertical padding is 0 when collapsed */
        }

        .details.expanded {
            max-height: 500px; /* Expanded state - sufficiently large value for typical content */
            opacity: 1;
            padding: 15px 20px; /* Full padding when expanded */
            border-top: 1px solid #e0e0e0;
        }

        /* Basic styling for content inside details */
        .details p {
            margin-top: 0;
            margin-bottom: 10px;
        }

        .details ul {
            margin-bottom: 0;
            padding-left: 25px;
            list-style-type: disc;
        }

        .details ul li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content1">
            Expand Section 1: Introduction
        </button>
        <div id="content1" class="details">
            <p>This is the content for the first section. It can include various types of information, text, lists, and more. When you click the button above, this content will smoothly appear or disappear.</p>
            <ul>
                <li>HTML provides the structure.</li>
                <li>CSS styles the appearance.</li>
                <li>JavaScript adds interactivity.</li>
            </ul>
            <p>This example demonstrates how to create an accessible expand/collapse widget using basic web technologies.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content2">
            Expand Section 2: Another Independent Example
        </button>
        <div id="content2" class="details">
            <p>Here's some different content for the second expand/collapse area. Each widget operates independently, meaning you can open one without affecting the others.</p>
            <p>Feel free to click around and observe the smooth transitions.</p>
            <p>This content is slightly shorter than the first, but the animation adapts.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content3">
            Expand Section 3: Shorter Content Example
        </button>
        <div id="content3" class="details">
            <p>This section has only a little bit of content.</p>
            <p>It still works perfectly!</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const contentId = button.getAttribute('aria-controls');
                    const content = document.getElementById(contentId);

                    if (content) {
                        const isExpanded = content.classList.contains('expanded');

                        if (isExpanded) {
                            // Collapse the content
                            content.classList.remove('expanded');
                            button.setAttribute('aria-expanded', 'false');
                            // Replace "Collapse" with "Expand" in button text
                            button.textContent = button.textContent.replace('Collapse', 'Expand');
                        } else {
                            // Expand the content
                            content.classList.add('expanded');
                            button.setAttribute('aria-expanded', 'true');
                            // Replace "Expand" with "Collapse" in button text
                            button.textContent = button.textContent.replace('Expand', 'Collapse');
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>