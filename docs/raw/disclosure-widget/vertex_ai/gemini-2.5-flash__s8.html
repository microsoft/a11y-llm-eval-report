<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .toggle-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            outline: none;
            transition: background-color 0.3s ease;
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .toggle-button .icon {
            margin-left: 10px;
            transition: transform 0.3s ease;
        }

        .toggle-button[aria-expanded="true"] .icon {
            transform: rotate(180deg);
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
            padding: 0 15px;
            margin-top: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
            border-top: 1px solid #eee;
            box-sizing: border-box; /* Include padding in element's total width and height */
        }

        .details.is-expanded {
            max-height: 500px; /* A value larger than the max possible content height */
            padding-top: 15px;
            padding-bottom: 15px;
        }

        .details p {
            margin: 0 0 10px 0;
            line-height: 1.6;
        }

        .details ul {
            margin-top: 0;
            padding-left: 20px;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widget Examples</h1>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content1">
            <span>Widget 1: Simple Text</span>
            <span class="icon">&#9660;</span> <!-- Down arrow -->
        </button>
        <div id="content1" class="details">
            <p>This is the content for the first expand/collapse widget. It contains some basic text to demonstrate the functionality. When the button above is clicked, this content will either appear or disappear smoothly.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="content2">
            <span>Widget 2: More Detailed Information</span>
            <span class="icon">&#9660;</span>
        </button>
        <div id="content2" class="details">
            <p>Here's more elaborate content for the second widget. It might include multiple paragraphs, lists, or other HTML elements.</p>
            <ul>
                <li>Item one of the list.</li>
                <li>Item two of the list.</li>
                <li>Item three, which is a bit longer to test height.</li>
            </ul>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>Feel free to click the button to see how this section expands and collapses.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('aria-controls');
                    const targetContent = document.getElementById(targetId);

                    if (targetContent) {
                        const isExpanded = button.getAttribute('aria-expanded') === 'true';

                        button.setAttribute('aria-expanded', !isExpanded);
                        targetContent.classList.toggle('is-expanded');
                    }
                });
            });
        });
    </script>
</body>
</html>