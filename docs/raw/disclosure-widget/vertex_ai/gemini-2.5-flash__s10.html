<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .toggle-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 15px 20px;
            background-color: #e9ecef;
            border: none;
            border-bottom: 1px solid #ddd;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            color: #34495e;
            text-align: left;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .toggle-button:hover {
            background-color: #dee2e6;
        }

        .toggle-button::after {
            content: '▼'; /* Down arrow for collapsed state */
            font-size: 0.8em;
            margin-left: 10px;
            transition: transform 0.2s ease;
            transform: rotate(0deg);
        }

        .toggle-button.active::after {
            content: '▲'; /* Up arrow for expanded state */
        }
        
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            padding: 0 20px; /* Padding for content when expanded */
            box-sizing: border-box;
            background-color: #ffffff;
        }

        .details.active {
            max-height: 500px; /* Adjust as needed for content height */
            padding: 15px 20px;
        }

        .details p {
            margin-top: 0;
            line-height: 1.6;
        }

        .details ul {
            margin-bottom: 0;
            padding-left: 25px;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="details1">
            Section 1: About the Widget
        </button>
        <div id="details1" class="details" aria-hidden="true">
            <p>
                This is a simple expand/collapse widget created using HTML, CSS, and JavaScript. 
                It allows you to hide or show content by clicking a button.
            </p>
            <p>
                Key features:
            </p>
            <ul>
                <li>Accessible with ARIA attributes.</li>
                <li>Uses CSS transitions for smooth animation.</li>
                <li>Multiple instances can be used independently.</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="details2">
            Section 2: More Information
        </button>
        <div id="details2" class="details" aria-hidden="true">
            <p>
                Here you can put more detailed information, images, or even other interactive elements. 
                The content is completely flexible.
            </p>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
            </p>
            <p>
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button" aria-expanded="false" aria-controls="details3">
            Section 3: Contact Details
        </button>
        <div id="details3" class="details" aria-hidden="true">
            <p>
                Feel free to reach out if you have any questions!
            </p>
            <address>
                Email: <a href="mailto:info@example.com">info@example.com</a><br>
                Phone: <a href="tel:+1234567890">+1 (234) 567-890</a><br>
                Address: 123 Widget Street, Anytown, USA
            </address>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.toggle-button').forEach(button => {
                button.addEventListener('click', () => {
                    const details = button.nextElementSibling; // Get the next sibling, which is the .details div
                    
                    // Toggle 'active' class on the button
                    button.classList.toggle('active');
                    
                    // Toggle 'active' class on the details content
                    details.classList.toggle('active');

                    // Update ARIA attributes for accessibility
                    const isExpanded = details.classList.contains('active');
                    button.setAttribute('aria-expanded', isExpanded);
                    details.setAttribute('aria-hidden', !isExpanded);

                    // Set max-height for smooth transition
                    if (isExpanded) {
                        details.style.maxHeight = details.scrollHeight + "px";
                    } else {
                        details.style.maxHeight = null; // Reset to 0 for collapse transition
                    }
                });
            });
        });
    </script>

</body>
</html>