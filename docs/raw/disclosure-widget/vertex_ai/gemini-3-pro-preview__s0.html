<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f4f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
        }

        .example {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }

        /* Method 1: Using HTML5 <details> and <summary> (The native way) */
        details.details-native {
            width: 100%;
        }

        summary {
            padding: 15px 20px;
            cursor: pointer;
            font-weight: 600;
            color: #2c3e50;
            background-color: #fff;
            list-style: none; /* Hide default arrow in some browsers */
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s;
        }

        summary::-webkit-details-marker {
            display: none; /* Hide default arrow in Chrome/Safari */
        }

        summary:hover {
            background-color: #f9f9f9;
        }

        summary::after {
            content: '+';
            font-size: 1.2em;
            font-weight: bold;
            color: #777;
            transition: transform 0.2s;
        }

        details[open] summary::after {
            transform: rotate(45deg);
        }

        details[open] summary {
            border-bottom: 1px solid #eee;
        }

        /* Method 2: Checkbox Hack (CSS only) */
        input[type="checkbox"].toggle {
            display: none;
        }

        label.toggle-btn {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            cursor: pointer;
            font-weight: 600;
            color: #2c3e50;
            background-color: #fff;
            user-select: none;
        }

        label.toggle-btn:hover {
            background-color: #f9f9f9;
        }

        label.toggle-btn::after {
            content: '▼';
            font-size: 0.8em;
            color: #777;
            transition: transform 0.3s;
        }

        input[type="checkbox"].toggle:checked + label.toggle-btn::after {
            transform: rotate(180deg);
        }

        /* The Content Container Style shared by both */
        .details {
            padding: 0 20px;
            color: #555;
            line-height: 1.6;
            background-color: #fafafa;
        }

        /* Specific animation for details tag */
        details.details-native .details {
            padding: 20px;
        }

        /* Specific logic for checkbox hack content */
        .checkbox-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease;
            padding: 0 20px; /* Start with 0 vertical padding */
        }

        input[type="checkbox"].toggle:checked ~ .checkbox-content {
            max-height: 500px; /* Approximate max height */
            padding: 20px;
            border-top: 1px solid #eee;
        }
        
        /* Method 3: JavaScript driven */
        .js-trigger {
            width: 100%;
            border: none;
            background: none;
            text-align: left;
            padding: 15px 20px;
            font-size: 16px;
            font-weight: 600;
            font-family: inherit;
            color: #2c3e50;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .js-trigger:hover {
            background-color: #f9f9f9;
        }
        
        .js-trigger span.icon {
            transition: transform 0.3s;
        }
        
        .js-trigger.active span.icon {
            transform: rotate(180deg);
        }
        
        .js-content {
            display: none;
            padding: 20px;
            border-top: 1px solid #eee;
        }

    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <!-- Example 1: Native HTML <details> tag (Simplest, most accessible) -->
    <div class="example">
        <details class="details-native">
            <summary>
                Native HTML5 Widget
            </summary>
            <div class="details">
                <p>This widget uses the native <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> HTML tags. It requires zero JavaScript and works even if scripts are disabled. It is semantic and accessible by default.</p>
                <p>The browser handles the state management automatically.</p>
            </div>
        </details>
    </div>

    <!-- Example 2: CSS Checkbox Hack (Smooth animations without JS) -->
    <div class="example">
        <input type="checkbox" id="toggle-1" class="toggle">
        <label for="toggle-1" class="toggle-btn">CSS-Only "Checkbox Hack"</label>
        <div class="details checkbox-content">
            <p>This method links a hidden checkbox to a label. When you click the label, the checkbox state changes. We use the <code>:checked</code> pseudo-class to change the <code>max-height</code> of this content area.</p>
            <p>This allows for smooth CSS transitions on height, which the native details tag struggles with natively.</p>
        </div>
    </div>

    <!-- Example 3: JavaScript Driven (Standard approach) -->
    <div class="example">
        <button class="js-trigger" aria-expanded="false" aria-controls="content-js">
            JavaScript Controlled
            <span class="icon">▼</span>
        </button>
        <div id="content-js" class="details js-content">
            <p>This is the traditional way to build accordions using JavaScript. An event listener toggles a class on the button and changes the display property of this container.</p>
            <p><strong>Note:</strong> We manually manage ARIA attributes (like <code>aria-expanded</code>) to ensure screen readers understand the state.</p>
        </div>
    </div>

    <script>
        // Logic for Example 3
        const trigger = document.querySelector('.js-trigger');
        const content = document.querySelector('.js-content');
        
        trigger.addEventListener('click', function() {
            // Toggle visibility
            const isHidden = getComputedStyle(content).display === 'none';
            
            if (isHidden) {
                content.style.display = 'block';
                this.classList.add('active');
                this.setAttribute('aria-expanded', 'true');
            } else {
                content.style.display = 'none';
                this.classList.remove('active');
                this.setAttribute('aria-expanded', 'false');
            }
        });
    </script>

</body>
</html>