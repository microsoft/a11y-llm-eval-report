<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        .example {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ddd;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.08);
        }
        .example h2 {
            margin-top: 0;
            color: #34495e;
            margin-bottom: 15px;
        }
        .toggle-button {
            background-color: #007bff;
            color: white;
            padding: 10px 18px;
            border: none;
            cursor: pointer;
            font-size: 1em;
            border-radius: 5px;
            margin-bottom: 5px; /* Space between button and content, before transition */
            outline: none;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        .toggle-button:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
        }
        .toggle-button:active {
            transform: translateY(0);
        }

        /* Base styles for details container (initially collapsed by default via max-height and opacity) */
        .details {
            box-sizing: border-box; /* Include padding and border in the element's total width and height */
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            background-color: #fcfcfc;
            
            max-height: 0; /* Start collapsed */
            opacity: 0; /* Start invisible */
            padding: 0 15px; /* No padding when collapsed */
            margin-top: 0; /* No margin when collapsed */
            overflow: hidden; /* Hide content that goes beyond max-height */
            
            /* Smooth transition for various properties */
            transition: max-height 0.3s ease-out, 
                        opacity 0.3s ease-out, 
                        padding 0.3s ease-out, 
                        margin-top 0.3s ease-out, 
                        border-color 0.3s ease-out;
        }

        /* State for expanded content */
        .details.expanded {
            max-height: 500px; /* A value large enough to contain expected content */
            opacity: 1;
            padding: 15px; /* Restore padding when expanded */
            margin-top: 15px; /* Add margin when expanded */
            border-color: #ccc; /* Slightly darker border when expanded */
        }

        /* Fallback for users with JavaScript disabled */
        noscript .details {
            max-height: none; /* Allows content to be fully visible */
            opacity: 1;
            padding: 15px;
            margin-top: 15px;
            border-color: #ccc;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widgets Demonstration</h1>

    <div class="example">
        <h2>Basic Expand/Collapse</h2>
        <button class="toggle-button" data-label-show="Show Details" data-label-hide="Hide Details">Show Details</button>
        <div class="details">
            <p>This is the content for the first widget. It demonstrates a basic expand/collapse functionality using JavaScript and CSS transitions.</p>
            <p>You can place any HTML elements inside this <code>.details</code> container. For example, a list:</p>
            <ul>
                <li>Feature A</li>
                <li>Feature B</li>
                <li>Feature C</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <h2>Accordion Style Content</h2>
        <button class="toggle-button" data-label-show="See More Info" data-label-hide="See Less Info">See More Info</button>
        <div class="details">
            <p>Here's some additional information for the second widget.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>The transition makes the opening and closing feel smooth and user-friendly.</p>
        </div>
    </div>

    <div class="example">
        <h2>Initially Expanded Widget</h2>
        <button class="toggle-button" data-label-show="Show Content" data-label-hide="Hide Content">Hide Content</button>
        <div class="details expanded">
            <p>This widget starts in an expanded state. Notice how the button text is pre-set to "Hide Content".</p>
            <p>The <code>expanded</code> class is applied directly to the <code>.details</code> div in the HTML, and JavaScript handles the toggle.</p>
            <p>It's useful for sections that are important but can be collapsed later. You can always collapse it by clicking the button.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                const detailsContent = button.nextElementSibling; // Get the .details div
                const labelShow = button.dataset.labelShow || 'Show';
                const labelHide = button.dataset.labelHide || 'Hide';

                if (detailsContent && detailsContent.classList.contains('details')) {
                    // Initial state setup based on the 'expanded' class in HTML
                    if (detailsContent.classList.contains('expanded')) {
                        button.textContent = labelHide;
                    } else {
                        // If not initially expanded in HTML, ensure it's collapsed and button text reflects 'Show'
                        detailsContent.classList.remove('expanded'); 
                        button.textContent = labelShow;
                    }
                }

                button.addEventListener('click', function() {
                    if (detailsContent && detailsContent.classList.contains('details')) {
                        if (detailsContent.classList.contains('expanded')) {
                            // Currently expanded, so collapse
                            detailsContent.classList.remove('expanded');
                            this.textContent = labelShow;
                        } else {
                            // Currently collapsed, so expand
                            detailsContent.classList.add('expanded');
                            this.textContent = labelHide;
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>