<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f4f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px;
            gap: 20px;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
        }

        /* Widget Container */
        .example {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        /* Button Styling */
        .toggle-btn {
            width: 100%;
            background: none;
            border: none;
            padding: 15px 20px;
            text-align: left;
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s ease;
        }

        .toggle-btn:hover {
            background-color: #f8f9fa;
        }

        .toggle-btn:focus {
            outline: 2px solid #007bff;
            outline-offset: -2px;
        }

        /* Icon rotation */
        .icon {
            transition: transform 0.3s ease;
        }
        
        .toggle-btn[aria-expanded="true"] .icon {
            transform: rotate(180deg);
        }

        /* Content Container */
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
            background-color: #fff;
            border-top: 1px solid transparent;
        }

        /* State when open */
        .details.open {
            border-top: 1px solid #eee;
        }

        .details-inner {
            padding: 20px;
            line-height: 1.6;
            color: #555;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <!-- Widget 1 -->
    <div class="example">
        <button class="toggle-btn" aria-expanded="false" aria-controls="content-1">
            <span>What is this widget?</span>
            <svg class="icon" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.41 0.589996L6 5.17L10.59 0.589996L12 2L6 8L0 2L1.41 0.589996Z" fill="#333"/>
            </svg>
        </button>
        <div id="content-1" class="details">
            <div class="details-inner">
                This is a simple expand/collapse widget. It uses vanilla JavaScript to toggle the visibility of the content area. The transition is handled via CSS max-height for a smooth sliding effect.
            </div>
        </div>
    </div>

    <!-- Widget 2 -->
    <div class="example">
        <button class="toggle-btn" aria-expanded="false" aria-controls="content-2">
            <span>Why use semantic HTML?</span>
            <svg class="icon" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.41 0.589996L6 5.17L10.59 0.589996L12 2L6 8L0 2L1.41 0.589996Z" fill="#333"/>
            </svg>
        </button>
        <div id="content-2" class="details">
            <div class="details-inner">
                <p>Semantic HTML improves accessibility and SEO. In this example, we use:</p>
                <ul>
                    <li><code>button</code> elements for interaction.</li>
                    <li><code>aria-expanded</code> to indicate state to screen readers.</li>
                    <li><code>aria-controls</code> to link the button to the content.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Widget 3 -->
    <div class="example">
        <button class="toggle-btn" aria-expanded="false" aria-controls="content-3">
            <span>Can I have multiple paragraphs?</span>
            <svg class="icon" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.41 0.589996L6 5.17L10.59 0.589996L12 2L6 8L0 2L1.41 0.589996Z" fill="#333"/>
            </svg>
        </button>
        <div id="content-3" class="details">
            <div class="details-inner">
                <p>Absolutely. The container expands to fit whatever content is inside.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const buttons = document.querySelectorAll('.toggle-btn');

            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    const contentId = button.getAttribute('aria-controls');
                    const content = document.getElementById(contentId);
                    const isExpanded = button.getAttribute('aria-expanded') === 'true';

                    // Toggle Aria State
                    button.setAttribute('aria-expanded', !isExpanded);

                    // Toggle Content Visibility
                    if (!isExpanded) {
                        content.classList.add('open');
                        // Set max-height to scrollHeight to allow animation to specific height
                        content.style.maxHeight = content.scrollHeight + "px";
                    } else {
                        content.classList.remove('open');
                        content.style.maxHeight = null;
                    }
                });
            });
        });
    </script>
</body>
</html>