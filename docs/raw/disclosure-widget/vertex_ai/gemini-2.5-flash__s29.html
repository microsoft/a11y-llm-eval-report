<html>
<head>
    <title>Expand/Collapse Widget</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            overflow: hidden; /* Ensures border-radius applies to children if they extend */
        }

        .toggle-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 15px 20px;
            background-color: #e9e9e9;
            border: none;
            text-align: left;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            outline: none;
            transition: background-color 0.2s ease;
            color: #333;
        }

        .toggle-button:hover {
            background-color: #dcdcdc;
        }

        .toggle-button::after {
            content: '▼'; /* Down arrow */
            font-size: 0.9em;
            margin-left: 10px;
            transition: transform 0.2s ease;
        }

        .toggle-button.expanded::after {
            content: '▲'; /* Up arrow */
            transform: rotate(180deg); /* Visual rotate instead of just new content for better transition feel */
        }
        
        /* If toggle-button is an h3, reset its default margin */
        h3.toggle-button {
            margin: 0;
            padding: 15px 20px; /* Apply consistent padding */
        }

        .details {
            padding: 0 20px; /* Padding for content */
            max-height: 0; /* Initially hidden with max-height for smooth transition */
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            background-color: #fdfdfd;
            border-top: 1px solid #eee;
        }

        .details.active {
            max-height: 500px; /* A value larger than the max possible height of the content */
            padding: 20px; /* Apply padding when active */
            transition: max-height 0.4s ease-in, padding 0.4s ease-in;
        }

        .details p {
            margin-top: 0;
            line-height: 1.6;
        }

        .details ul {
            list-style-type: disc;
            margin-left: 20px;
            padding-left: 0;
        }

        .details li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button">
            Section 1: What is HTML?
        </button>
        <div class="details">
            <p>
                HTML (HyperText Markup Language) is the standard markup language for documents designed to be displayed in a web browser.
                It can be assisted by technologies such as Cascading Style Sheets (CSS) and scripting languages such as JavaScript.
            </p>
            <ul>
                <li>HTML provides the structure of the web page.</li>
                <li>It consists of a series of elements.</li>
                <li>Elements tell the browser how to display the content.</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <h3 class="toggle-button">
            Section 2: Why use expand/collapse?
        </h3>
        <div class="details">
            <p>
                Expand/collapse widgets are useful for managing content space and improving user experience, especially on pages with
                a lot of information. They allow users to selectively view details, reducing visual clutter.
            </p>
            <p>
                Common uses include FAQs, detailed product descriptions, settings panels, or long forms where only relevant sections
                are needed at a time.
            </p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button">
            Section 3: Example with more content
        </button>
        <div class="details">
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat
                non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
            <p>
                Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam,
                eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam
                voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione
                voluptatem sequi nesciunt.
            </p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Find the parent .example div
                    const exampleDiv = this.closest('.example');
                    if (exampleDiv) {
                        // Find the .details div within that .example
                        const detailsDiv = exampleDiv.querySelector('.details');
                        if (detailsDiv) {
                            detailsDiv.classList.toggle('active');
                            this.classList.toggle('expanded'); // Toggle class on the button itself
                        }
                    }
                });
            });
        });
    </script>

</body>
</html>