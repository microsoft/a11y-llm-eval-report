<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .example {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .toggle-button {
            display: block;
            width: 100%;
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            text-align: left;
            margin-bottom: 10px;
            transition: background-color 0.2s ease;
        }

        .toggle-button:hover {
            background-color: #0056b3;
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease-out, opacity 0.4s ease-out;
            opacity: 0;
            padding: 0 10px; /* Add padding for visual spacing */
        }

        .details.is-expanded {
            max-height: 500px; /* A value larger than the expected content height */
            opacity: 1;
            padding: 10px 10px; /* Restore padding when expanded */
        }

        .details p {
            margin-bottom: 10px;
        }

        .details p:last-child {
            margin-bottom: 0;
        }

        /* Styling for content within details */
        .details ul {
            list-style-type: disc;
            margin-left: 20px;
            margin-top: 10px;
        }

        .details h3 {
            margin-top: 15px;
            margin-bottom: 10px;
            color: #007bff;
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <div class="example">
        <button class="toggle-button">Expand Section 1</button>
        <div class="details">
            <h3>More Information About Section 1</h3>
            <p>This is the content for the first expandable section. It can include paragraphs, lists, images, or any other HTML elements you need to display. The default state is collapsed.</p>
            <ul>
                <li>Item A</li>
                <li>Item B</li>
                <li>Item C</li>
            </ul>
            <p>Feel free to click the button above to toggle its visibility.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button">Expand Section 2</button>
        <div class="details">
            <h3>Details for Section 2</h3>
            <p>Here's some different content for the second widget. Each widget operates independently.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
    </div>

    <div class="example">
        <button class="toggle-button">Expand Section 3 - Short Content</button>
        <div class="details">
            <p>This section has only a little bit of content.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButtons = document.querySelectorAll('.toggle-button');

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Find the next sibling element which should be the .details div
                    const detailsContent = button.nextElementSibling;

                    if (detailsContent && detailsContent.classList.contains('details')) {
                        detailsContent.classList.toggle('is-expanded');

                        // Optionally update button text based on state
                        if (detailsContent.classList.contains('is-expanded')) {
                            button.textContent = button.textContent.replace('Expand', 'Collapse');
                        } else {
                            button.textContent = button.textContent.replace('Collapse', 'Expand');
                        }
                    }
                });
            });
        });
    </script>

</body>
</html>