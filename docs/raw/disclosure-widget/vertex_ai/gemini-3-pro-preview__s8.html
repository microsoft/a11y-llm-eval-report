<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
            background-color: #f4f4f9;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        /* Widget Wrapper */
        .example {
            background: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .example h2 {
            margin-top: 0;
            font-size: 1.25rem;
            color: #444;
        }

        /* Toggle Button */
        .toggle-btn {
            background-color: #0056b3;
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            font-size: 1rem;
            border-radius: 4px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            transition: background-color 0.2s ease;
        }

        .toggle-btn:hover {
            background-color: #004494;
        }

        .toggle-btn:focus {
            outline: 2px solid #0056b3;
            outline-offset: 2px;
        }

        .toggle-btn::after {
            content: '+';
            margin-left: 8px;
            font-weight: bold;
        }

        .toggle-btn[aria-expanded="true"]::after {
            content: '-';
        }

        /* Controlled Content Container */
        .details {
            display: none; /* Hidden by default */
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f8f9fa;
            border-left: 4px solid #0056b3;
            border-radius: 0 4px 4px 0;
            animation: fadeIn 0.3s ease-in-out;
        }

        /* State class to show content */
        .details.is-open {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <h1>Expand/Collapse Widgets</h1>

    <!-- Widget 1 -->
    <div class="example">
        <h2>Section One</h2>
        <p>Click the button below to reveal more information about this section.</p>
        
        <button type="button" class="toggle-btn" aria-expanded="false" aria-controls="widget-content-1">
            Read More
        </button>
        
        <div id="widget-content-1" class="details">
            <p><strong>This is the hidden content for Section One.</strong></p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
    </div>

    <!-- Widget 2 -->
    <div class="example">
        <h2>Section Two</h2>
        <p>This widget operates independently from the first one.</p>
        
        <button type="button" class="toggle-btn" aria-expanded="false" aria-controls="widget-content-2">
            View Details
        </button>
        
        <div id="widget-content-2" class="details">
            <ul>
                <li>Feature A: Fully accessible</li>
                <li>Feature B: Lightweight CSS</li>
                <li>Feature C: Vanilla JavaScript</li>
            </ul>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const triggers = document.querySelectorAll('.toggle-btn');

            triggers.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Get the target ID from aria-controls
                    const targetId = btn.getAttribute('aria-controls');
                    const targetContent = document.getElementById(targetId);

                    if (targetContent) {
                        // Check current state
                        const isExpanded = btn.getAttribute('aria-expanded') === 'true';

                        // Toggle state
                        btn.setAttribute('aria-expanded', !isExpanded);
                        
                        // Toggle visibility class on the .details container
                        if (!isExpanded) {
                            targetContent.classList.add('is-open');
                        } else {
                            targetContent.classList.remove('is-open');
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>