<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expand / Collapse Widget Examples</title>
  <style>
    :root{
      --accent:#2b7cff;
      --muted:#666;
      --bg:#f8fafc;
      --card:#ffffff;
      --radius:8px;
      --shadow: 0 6px 18px rgba(28,39,56,0.08);
    }

    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, var(--bg), #ffffff);
      color:#102a43;
      margin:32px;
      line-height:1.4;
    }

    h1{
      font-size:20px;
      margin:0 0 18px 0;
    }

    p.lead{
      margin:0 0 24px 0;
      color:var(--muted);
      font-size:14px;
    }

    /* Example wrapper */
    .example{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
      margin:16px 0;
      max-width:740px;
      border:1px solid rgba(16,42,67,0.06);
    }

    /* Toggle button */
    .toggle{
      display:flex;
      align-items:center;
      gap:12px;
      background:transparent;
      border:1px solid rgba(16,42,67,0.06);
      padding:10px 12px;
      border-radius:8px;
      cursor:pointer;
      width:100%;
      text-align:left;
      font-weight:600;
      color:#0b2540;
      transition:background .15s ease, border-color .15s ease;
      box-shadow:none;
    }
    .toggle:hover{
      background:rgba(43,124,255,0.04);
      border-color:rgba(43,124,255,0.12);
    }
    .toggle:focus{
      outline:3px solid rgba(43,124,255,0.12);
      outline-offset:2px;
    }

    .toggle .label{
      flex:1 1 auto;
      font-size:15px;
    }
    .toggle .meta{
      font-size:13px;
      color:var(--muted);
      white-space:nowrap;
    }

    /* Caret / chevron */
    .toggle .chev{
      width:18px;
      height:18px;
      display:inline-block;
      transform-origin:center;
      transition:transform .18s ease;
      color:var(--accent);
      flex:0 0 18px;
    }
    /* rotate when expanded */
    .toggle[aria-expanded="true"] .chev{
      transform:rotate(90deg);
    }

    /* Controlled content area - must use class "details" */
    .details{
      overflow:hidden;
      transition:max-height .28s cubic-bezier(.2,.9,.2,1), opacity .18s ease, padding .18s ease;
      will-change: max-height, opacity;
      background:linear-gradient(180deg, rgba(43,124,255,0.02), transparent);
      margin-top:12px;
      border-radius:6px;
      padding:12px;
      max-height:1000px; /* expanded state */
      opacity:1;
    }

    .details[aria-hidden="true"]{
      max-height:0;
      padding-top:0;
      padding-bottom:0;
      opacity:0;
      pointer-events:none;
    }

    .details p{
      margin:0 0 8px 0;
      color:#123;
      font-size:14px;
    }

    .details ul{
      margin:8px 0 0 18px;
      color:var(--muted);
      font-size:14px;
    }

    /* small helper */
    .muted{
      color:var(--muted);
      font-size:13px;
    }

    footer{
      margin-top:28px;
      color:var(--muted);
      font-size:13px;
    }

    /* make sure large content animates smoothly */
    .details-inner{
      padding:6px 2px;
    }
  </style>
</head>
<body>
  <h1>Expand / Collapse Widget Examples</h1>
  <p class="lead">Each widget below demonstrates an accessible expand/collapse control. The controlled content container uses the class "details".</p>

  <!-- Example 1: Collapsed by default -->
  <div class="example" id="example-1">
    <button
      class="toggle"
      aria-expanded="false"
      aria-controls="details-1"
      id="toggle-1"
    >
      <svg class="chev" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M8 5v14l11-7z" fill="currentColor"/>
      </svg>
      <span class="label">Why enable notifications?</span>
      <span class="meta">Click to expand</span>
    </button>

    <div
      id="details-1"
      class="details"
      role="region"
      aria-labelledby="toggle-1"
      aria-hidden="true"
    >
      <div class="details-inner">
        <p>Enabling notifications keeps you up to date with the latest activity relevant to your account:</p>
        <ul>
          <li>Instant alerts for important events</li>
          <li>Customize which updates you receive</li>
          <li>Never miss a time-sensitive message</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Example 2: Expanded by default -->
  <div class="example" id="example-2">
    <button
      class="toggle"
      aria-expanded="true"
      aria-controls="details-2"
      id="toggle-2"
    >
      <svg class="chev" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M8 5v14l11-7z" fill="currentColor"/>
      </svg>
      <span class="label">Release notes â€” February</span>
      <span class="meta muted">Open</span>
    </button>

    <div
      id="details-2"
      class="details"
      role="region"
      aria-labelledby="toggle-2"
      aria-hidden="false"
    >
      <div class="details-inner">
        <p>What's new in February:</p>
        <ul>
          <li>Improved performance for large projects</li>
          <li>Added CSV export for activity logs</li>
          <li>Bug fixes and stability improvements</li>
        </ul>
        <p class="muted">Tip: Use the keyboard (Space or Enter) on the toggle button to open or close.</p>
      </div>
    </div>
  </div>

  <footer>
    Note: The interactive behavior is implemented with JavaScript. The content containers include the class "details" as required.
  </footer>

  <script>
    (function(){
      // Attach toggle behavior to all buttons with .toggle that control an element.
      document.querySelectorAll('.toggle[aria-controls]').forEach(function(btn){
        var targetId = btn.getAttribute('aria-controls');
        var target = document.getElementById(targetId);
        if(!target) return;

        // Ensure initial consistency between aria-expanded and target[aria-hidden]
        function syncState(){
          var expanded = btn.getAttribute('aria-expanded') === 'true';
          target.setAttribute('aria-hidden', expanded ? 'false' : 'true');
        }
        syncState();

        // Toggle function
        function toggle(){
          var isExpanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!isExpanded));
          target.setAttribute('aria-hidden', String(isExpanded)); // reverse
          // If expanded, move focus into region for keyboard users optionally
          if(!isExpanded){
            // nothing required; region has aria-labelledby pointing to the button
          }
        }

        btn.addEventListener('click', function(e){
          toggle();
        });

        // Allow Enter/Space default behavior is fine for button: no extra handling required.
        // However, support Ctrl+Click to expand/collapse all in same example (optional)
      });

      // Optional: support toggling with data attributes or keyboard shortcuts later.
    })();
  </script>
</body>
</html>