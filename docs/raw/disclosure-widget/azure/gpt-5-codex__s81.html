<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expand/Collapse Widget Examples</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      color-scheme: light dark;
      --bg: #f9f9fb;
      --fg: #21233a;
      --accent: #3d6df2;
      --accent-soft: rgba(61, 109, 242, 0.12);
      --border: rgba(33, 35, 58, 0.14);
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 2.5rem clamp(1.5rem, 2vw, 4rem);
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
    }

    h1 {
      margin-top: 0;
      font-size: clamp(2rem, 2.8vw, 3rem);
      line-height: 1.2;
    }

    p {
      max-width: 68ch;
    }

    .example {
      background: white;
      border-radius: 18px;
      padding: 1.75rem;
      margin-block: 2rem;
      box-shadow: 0 25px 45px -20px rgba(40, 48, 80, 0.25);
      border: 1px solid rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(10px);
    }

    .example:nth-of-type(even) {
      background: linear-gradient(145deg, white, rgba(240, 243, 255, 0.92));
    }

    .example > h2 {
      margin-top: 0;
      font-size: 1.35rem;
    }

    .details {
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 0.75rem 1rem;
      background: rgba(255, 255, 255, 0.75);
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .details[open] {
      border-color: rgba(61, 109, 242, 0.4);
      box-shadow: 0 8px 30px -15px rgba(61, 109, 242, 0.55);
      background: rgba(255, 255, 255, 0.92);
    }

    .details summary {
      cursor: pointer;
      list-style: none;
      position: relative;
      padding-inline-start: 2.2rem;
      font-weight: 600;
      font-size: 1rem;
    }

    .details summary::marker,
    .details summary::-webkit-details-marker {
      display: none;
    }

    .details summary::before {
      content: "";
      width: 14px;
      height: 14px;
      border-radius: 4px;
      background: var(--accent);
      position: absolute;
      inset-inline-start: 0.35rem;
      top: 0.5rem;
      transform: rotate(0deg);
      transition: transform 0.2s ease;
      mask: url('data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="white" d="M8 3a1 1 0 0 1 1 1v3h3a1 1 0 1 1 0 2H9v3a1 1 0 1 1-2 0V9H4a1 1 0 1 1 0-2h3V4a1 1 0 0 1 1-1z"/></svg>') center / contain no-repeat;
    }

    .details[open] summary::before {
      transform: rotate(45deg);
    }

    .details summary:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 4px;
    }

    .details .content {
      margin-top: 1rem;
      font-size: 0.97rem;
      color: rgba(33, 35, 58, 0.78);
    }

    .details .content strong {
      color: var(--fg);
    }

    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 1.25rem;
    }

    button {
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 999px;
      padding: 0.6rem 1.35rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 25px -12px rgba(61, 109, 242, 0.75);
      transition: transform 0.15s ease, box-shadow 0.2s ease, background 0.15s ease;
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 35px -15px rgba(61, 109, 242, 0.8);
    }

    button:active {
      transform: translateY(1px);
      box-shadow: 0 8px 18px -12px rgba(61, 109, 242, 0.6);
      background: #3158d1;
    }

    .status {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: rgba(33, 35, 58, 0.65);
    }

    .status span {
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
      font-weight: 600;
    }

    .details-grid {
      display: grid;
      gap: 0.85rem;
    }

    .details-grid .details summary {
      font-size: 0.95rem;
    }

    .details-grid .details .content {
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>Expand/Collapse Widget Demonstration</h1>
    <p>These examples showcase different ways to present collapsible content. Each widget is wrapped in an <code>example</code> container, and the interactive panel uses the <code>details</code> class for consistent styling.</p>
  </header>

  <section class="example">
    <h2>1. Classic Toggle With Summary</h2>
    <details class="details">
      <summary>What is an expand/collapse widget?</summary>
      <div class="content">
        <p>An expand/collapse widget allows users to reveal or hide additional information on demand. It keeps interfaces clean by displaying only the most relevant content upfront.</p>
        <ul>
          <li><strong>Compact</strong>: Reduces visual clutter.</li>
          <li><strong>Accessible</strong>: Keyboard and screen-reader friendly when built with native HTML elements.</li>
          <li><strong>Progressive</strong>: Degrades gracefully if scripting is unavailable.</li>
        </ul>
      </div>
    </details>
  </section>

  <section class="example">
    <h2>2. Default-Open FAQ Entry</h2>
    <details class="details" open>
      <summary>When should I preload content inside a collapsed panel?</summary>
      <div class="content">
        <p>Preloading is useful when:</p>
        <ol>
          <li>The content is frequently accessed and should be immediately available.</li>
          <li>You're building offline-first experiences that cache resources ahead of time.</li>
          <li>Delayed loading could interrupt an essential task.</li>
        </ol>
        <p>Otherwise, lazy-loading the content when the panel opens can improve the initial load performance.</p>
      </div>
    </details>
  </section>

  <section class="example">
    <h2>3. Programmatically Controlled Panels</h2>
    <p>The buttons below manipulate multiple expandable sections via JavaScript while retaining the native semantics of the <code>&lt;details&gt;</code> element.</p>

    <div class="cta-row">
      <button data-action="expand-all">Expand all panels</button>
      <button data-action="collapse-all">Collapse all panels</button>
      <button data-action="toggle-third">Toggle “Runtime configuration”</button>
    </div>

    <div class="status">
      Current open panels: <span id="open-count">0</span>
    </div>

    <div class="details-grid" id="controlled-details">
      <details class="details" data-index="1">
        <summary>Accessibility considerations</summary>
        <div class="content">
          <p>Ensure the summary text is descriptive, maintain keyboard operability, and avoid hiding critical information exclusively behind an interaction.</p>
        </div>
      </details>

      <details class="details" data-index="2">
        <summary>Theming a disclosure pattern</summary>
        <div class="content">
          <p>Use CSS custom properties to create light/dark modes. Apply transitions to soften state changes, but respect prefers-reduced-motion preferences where possible.</p>
        </div>
      </details>

      <details class="details" data-index="3">
        <summary>Runtime configuration</summary>
        <div class="content">
          <p>Programmatic control can be achieved by toggling the <code>open</code> attribute on the <code>details</code> element. This maintains semantic correctness while enabling more advanced UI flows.</p>
        </div>
      </details>
    </div>
  </section>

  <script>
    const controlledGroup = document.getElementById("controlled-details");
    const openCountDisplay = document.getElementById("open-count");
    const buttons = document.querySelectorAll('.cta-row button');

    function updateOpenCount() {
      const openPanels = controlledGroup.querySelectorAll('.details[open]').length;
      openCountDisplay.textContent = openPanels;
    }

    function expandAll() {
      controlledGroup.querySelectorAll('.details').forEach(details => details.setAttribute('open', ''));
      updateOpenCount();
    }

    function collapseAll() {
      controlledGroup.querySelectorAll('.details').forEach(details => details.removeAttribute('open'));
      updateOpenCount();
    }

    function toggleThird() {
      const target = controlledGroup.querySelector('.details[data-index="3"]');
      if (!target) return;
      target.toggleAttribute('open');
      updateOpenCount();
    }

    const actionMap = {
      "expand-all": expandAll,
      "collapse-all": collapseAll,
      "toggle-third": toggleThird
    };

    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const action = button.getAttribute('data-action');
        actionMap[action]?.();
      });
    });

    controlledGroup.addEventListener('toggle', updateOpenCount);

    updateOpenCount();
  </script>
</body>
</html>