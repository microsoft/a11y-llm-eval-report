<html lang="en">
<head>
<meta charset="utf-8">
<title>Expand/Collapse Widget Examples</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root {
  color-scheme: light dark;
  font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
}

body {
  margin: 0;
  padding: 2rem;
  background: linear-gradient(135deg, rgba(107, 142, 235, 0.12), rgba(255, 255, 255, 0.6));
  color: #1b1b1f;
}

h1 {
  text-align: center;
  margin-bottom: 2rem;
  font-size: clamp(2rem, 2.5vw + 1rem, 2.8rem);
}

p.lead {
  max-width: 60ch;
  margin: 0 auto 2.5rem;
  text-align: center;
  color: rgba(27, 27, 31, 0.72);
}

.example {
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(27, 27, 31, 0.08);
  border-radius: 16px;
  box-shadow: 0 15px 35px rgba(34, 34, 68, 0.12);
  padding: 1.75rem;
  margin: 0 auto 2rem;
  max-width: 800px;
  transition: transform 200ms ease, box-shadow 200ms ease;
}

.example:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 45px rgba(34, 34, 68, 0.16);
}

.example h2 {
  margin-top: 0;
  font-size: 1.4rem;
}

.details {
  margin-top: 1rem;
  border: 1px solid rgba(27, 27, 31, 0.12);
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.92);
  overflow: hidden;
}

details.details {
  padding: 0;
}

details.details > summary {
  list-style: none;
  position: relative;
  cursor: pointer;
  padding: 1rem 1.25rem;
  font-weight: 600;
  background: rgba(82, 113, 255, 0.12);
  color: #1f2a6b;
  transition: background 200ms ease, color 200ms ease;
}

details.details[open] > summary {
  background: rgba(82, 113, 255, 0.18);
  color: #172053;
}

details.details > summary::-webkit-details-marker {
  display: none;
}

details.details > summary::after {
  content: "▸";
  position: absolute;
  right: 1.25rem;
  transition: transform 200ms ease;
}

details.details[open] > summary::after {
  transform: rotate(90deg);
}

details.details > summary:focus-visible {
  outline: 2px solid rgba(82, 113, 255, 0.6);
  outline-offset: 4px;
}

details.details > *:not(summary) {
  padding: 1rem 1.25rem;
  border-top: 1px solid rgba(27, 27, 31, 0.08);
  line-height: 1.6;
}

button.toggle {
  width: 100%;
  background: rgba(82, 113, 255, 0.12);
  color: #1f2a6b;
  border: 1px solid rgba(82, 113, 255, 0.25);
  border-radius: 10px;
  padding: 0.85rem 1.1rem;
  font-size: 1rem;
  text-align: left;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: background 200ms ease, color 200ms ease, box-shadow 200ms ease;
}

button.toggle:hover,
button.toggle:focus-visible {
  background: rgba(82, 113, 255, 0.2);
  box-shadow: 0 10px 20px rgba(82, 113, 255, 0.18);
  outline: none;
}

button.toggle span.indicator {
  font-weight: 700;
  transition: transform 200ms ease;
}

button.toggle[aria-expanded="true"] span.indicator {
  transform: rotate(90deg);
}

.details[hidden] {
  display: none;
}

.details-content {
  padding: 1.25rem 1.4rem;
  line-height: 1.6;
  border-top: 1px solid rgba(27, 27, 31, 0.1);
}

.accordion {
  display: grid;
  gap: 0.8rem;
}

.accordion .details {
  border-radius: 10px;
  border: 1px solid rgba(64, 75, 169, 0.2);
  background: rgba(243, 245, 255, 0.6);
}

small.note {
  display: block;
  margin-top: 0.75rem;
  color: rgba(27, 27, 31, 0.6);
  font-size: 0.9rem;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}
</style>
</head>
<body>
<h1>Expand/Collapse Widget Gallery</h1>
<p class="lead">Explore multiple approaches for implementing accessible expand/collapse interactions on the web. Each widget wraps controlled content inside a container with the <code>details</code> class.</p>

<div class="example">
  <h2>Native &lt;details&gt; Element</h2>
  <details class="details">
    <summary>Show project summary</summary>
    <p>This widget uses the built-in <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements to create an accessible disclosure.</p>
    <ul>
      <li>No JavaScript required</li>
      <li>Keyboard accessible by default</li>
      <li>Screen readers announce the collapsed/expanded state</li>
    </ul>
  </details>
  <small class="note">Tip: Use <code>open</code> on <code>&lt;details&gt;</code> for default expanded state.</small>
</div>

<div class="example">
  <h2>Custom Toggle Button</h2>
  <button type="button" class="toggle" aria-expanded="false" aria-controls="custom-panel" data-toggle-target="custom-panel">
    View team roster
    <span class="indicator">▸</span>
  </button>
  <div id="custom-panel" class="details" hidden>
    <div class="details-content">
      <p>The product launch team is composed of cross-functional members who collaborate daily:</p>
      <ol>
        <li><strong>Elena Roberts</strong> &mdash; Product Management</li>
        <li><strong>Jamal Singh</strong> &mdash; Design Systems</li>
        <li><strong>Anaïse Laurent</strong> &mdash; Marketing Strategy</li>
        <li><strong>Tobias Chen</strong> &mdash; Customer Research</li>
      </ol>
      <p>Use this pattern when you need full control over styling or behavior but still want to keep the experience accessible.</p>
    </div>
  </div>
  <small class="note">Keyboard users can press Space/Enter on the button to toggle the content.</small>
</div>

<div class="example">
  <h2>Accordion (Single Panel Open)</h2>
  <div class="accordion">
    <button type="button" class="toggle" aria-expanded="false" aria-controls="accordion-panel-1" data-toggle-target="accordion-panel-1" data-accordion-group="product-faq">
      What problem does the product solve?
      <span class="indicator">▸</span>
    </button>
    <div id="accordion-panel-1" class="details" hidden>
      <div class="details-content">
        <p>Our platform centralizes scattered workflows into one collaborative hub, reducing the context switching that slows down distributed teams.</p>
      </div>
    </div>

    <button type="button" class="toggle" aria-expanded="false" aria-controls="accordion-panel-2" data-toggle-target="accordion-panel-2" data-accordion-group="product-faq">
      How is data secured?
      <span class="indicator">▸</span>
    </button>
    <div id="accordion-panel-2" class="details" hidden>
      <div class="details-content">
        <p>We employ end-to-end encryption, automated compliance monitoring, and role-based access controls to ensure sensitive data stays protected.</p>
      </div>
    </div>

    <button type="button" class="toggle" aria-expanded="false" aria-controls="accordion-panel-3" data-toggle-target="accordion-panel-3" data-accordion-group="product-faq">
      Can teams customize workflows?
      <span class="indicator">▸</span>
    </button>
    <div id="accordion-panel-3" class="details" hidden>
      <div class="details-content">
        <p>Yes, teams can tailor workflow templates, automate notifications, and integrate with preferred tools while maintaining governance guardrails.</p>
      </div>
    </div>
  </div>
  <small class="note">Only one section stays open at a time, providing a compact FAQ interaction.</small>
</div>

<script>
(function () {
  const buttons = Array.from(document.querySelectorAll('[data-toggle-target]'));

  function closePanel(button, target) {
    button.setAttribute('aria-expanded', 'false');
    button.querySelector('.indicator')?.setAttribute('aria-hidden', 'true');
    target.hidden = true;
  }

  function openPanel(button, target) {
    button.setAttribute('aria-expanded', 'true');
    button.querySelector('.indicator')?.setAttribute('aria-hidden', 'true');
    target.hidden = false;
  }

  buttons.forEach((button) => {
    const targetId = button.dataset.toggleTarget;
    const target = document.getElementById(targetId);

    if (!target) return;

    button.addEventListener('click', () => {
      const isExpanded = button.getAttribute('aria-expanded') === 'true';
      const groupName = button.dataset.accordionGroup;

      if (groupName) {
        const groupButtons = buttons.filter((btn) => btn.dataset.accordionGroup === groupName);
        groupButtons.forEach((btn) => {
          if (btn === button) return;
          const otherTarget = document.getElementById(btn.dataset.toggleTarget);
          if (otherTarget && !otherTarget.hidden) {
            closePanel(btn, otherTarget);
          }
        });
      }

      if (isExpanded) {
        closePanel(button, target);
      } else {
        openPanel(button, target);
      }
    });

    button.addEventListener('keydown', (event) => {
      if (!button.dataset.accordionGroup) return;

      const keys = ['ArrowUp', 'ArrowDown', 'Home', 'End'];
      if (!keys.includes(event.key)) return;

      const groupName = button.dataset.accordionGroup;
      const groupButtons = buttons
        .filter((btn) => btn.dataset.accordionGroup === groupName);

      const currentIndex = groupButtons.indexOf(button);
      let nextIndex = currentIndex;

      if (event.key === 'ArrowDown') {
        nextIndex = (currentIndex + 1) % groupButtons.length;
      } else if (event.key === 'ArrowUp') {
        nextIndex = (currentIndex - 1 + groupButtons.length) % groupButtons.length;
      } else if (event.key === 'Home') {
        nextIndex = 0;
      } else if (event.key === 'End') {
        nextIndex = groupButtons.length - 1;
      }

      groupButtons[nextIndex].focus();
      event.preventDefault();
    });
  });
})();
</script>
</body>
</html>