<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expand/Collapse Widget Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      color-scheme: light dark;
      --bg: #f9fafb;
      --fg: #111827;
      --accent: #2563eb;
      --border: #d1d5db;
      --shadow: rgba(15, 23, 42, 0.1);
    }

    body {
      margin: 0;
      font-family: "Segoe UI", Roboto, system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
      padding: 2rem;
    }

    h1 {
      margin-top: 0;
      font-size: clamp(2rem, 3vw, 2.75rem);
    }

    p.lead {
      max-width: 60ch;
      font-size: 1.05rem;
      color: #374151;
    }

    .example {
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      padding: 1.5rem;
      margin-block: 1.75rem;
      background: #fff;
      box-shadow: 0 0.75rem 2.5rem var(--shadow);
    }

    .example h2 {
      margin-top: 0;
      font-size: 1.35rem;
      color: #1f2937;
    }

    details.details {
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      padding: 1rem 1.25rem;
      background: #f3f4f6;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    details.details[open] {
      border-color: var(--accent);
      box-shadow: 0 0.65rem 1.65rem rgba(37, 99, 235, 0.18);
      background: #eef2ff;
    }

    details.details summary {
      cursor: pointer;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 0.65rem;
      font-weight: 600;
      color: #1d4ed8;
    }

    details.details summary::-webkit-details-marker {
      display: none;
    }

    details.details summary::before {
      content: "▸";
      transition: transform 0.2s ease;
    }

    details.details[open] summary::before {
      transform: rotate(90deg);
    }

    details.details summary:focus-visible {
      outline: 3px solid rgba(37, 99, 235, 0.45);
      border-radius: 0.5rem;
    }

    details.details > *:not(summary) {
      margin-top: 1rem;
      color: #1f2937;
    }

    .toggle {
      border: none;
      border-radius: 999px;
      padding: 0.6rem 1.4rem;
      font-weight: 600;
      font-size: 1rem;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .toggle:hover {
      transform: translateY(-1px);
      box-shadow: 0 1rem 2rem rgba(37, 99, 235, 0.25);
    }

    .toggle:active {
      transform: translateY(1px);
    }

    .toggle:focus-visible {
      outline: 3px solid rgba(37, 99, 235, 0.45);
      outline-offset: 4px;
    }

    .details {
      margin-top: 1rem;
      padding: 1.25rem;
      border-radius: 0.75rem;
      border: 1px dashed #cbd5f5;
      background: #eef2ff;
    }

    .details p {
      margin-top: 0;
      color: #1f2937;
    }

    .details ul {
      margin: 0.5rem 0 0;
      padding-left: 1.3rem;
    }

    .details code {
      background: rgba(15, 23, 42, 0.08);
      padding: 0.15rem 0.4rem;
      border-radius: 0.4rem;
      font-size: 0.95rem;
    }

    .details-grid {
      display: grid;
      gap: 0.75rem;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    }

    .details-card {
      background: #fff;
      border-radius: 0.65rem;
      padding: 1rem;
      border: 1px solid rgba(199, 210, 254, 0.9);
      box-shadow: inset 0 0 0 1px rgba(79, 70, 229, 0.08);
    }

    footer {
      margin-top: 3rem;
      font-size: 0.95rem;
      color: #4b5563;
    }
  </style>
</head>
<body>
  <h1>Expand and Collapse Widgets</h1>
  <p class="lead">
    Below are two variations of accessible expand/collapse patterns. The first uses the native
    <code>&lt;details&gt;</code> element, while the second demonstrates a custom toggle button that controls a collapsible region.
  </p>

  <div class="example">
    <h2>Native Details/Summary Widget</h2>
    <details class="details">
      <summary>Design Guidelines at a Glance</summary>
      <p>
        The native <code>&lt;details&gt;</code> element is a semantic way to reveal supporting information without extra JavaScript.
        Use it for lightweight disclosure widgets.
      </p>
      <ul>
        <li>Great for FAQs and inline help</li>
        <li>Keyboard accessible out of the box</li>
        <li>Supports smooth styling with CSS</li>
      </ul>
    </details>
  </div>

  <div class="example">
    <h2>Custom Toggle Button with Controlled Region</h2>
    <button class="toggle" type="button" aria-expanded="false" aria-controls="custom-details">
      Show more insights
    </button>
    <div class="details" id="custom-details" hidden>
      <p>
        This pattern separates the control (button) from the controlled content, gives them explicit relationships with
        <code>aria-expanded</code> and <code>aria-controls</code>, and uses JavaScript to manage visibility.
      </p>
      <div class="details-grid">
        <div class="details-card">
          <strong>When to use</strong>
          <p>Great for dashboards and custom components where you need full styling control.</p>
        </div>
        <div class="details-card">
          <strong>Accessibility</strong>
          <p>Maintain focus states, announce changes via ARIA, and keep hidden content out of tab order.</p>
        </div>
        <div class="details-card">
          <strong>Implementation tip</strong>
          <p>Toggle the <code>hidden</code> attribute and sync <code>aria-expanded</code> to the button state.</p>
        </div>
      </div>
    </div>
  </div>

  <footer>
    Explore both techniques to decide which aligns with your project’s accessibility and design requirements.
  </footer>

  <script>
    const toggleButton = document.querySelector(".toggle");
    const controlledRegion = document.getElementById(toggleButton.getAttribute("aria-controls"));

    toggleButton.addEventListener("click", () => {
      const isExpanded = toggleButton.getAttribute("aria-expanded") === "true";
      toggleButton.setAttribute("aria-expanded", String(!isExpanded));
      toggleButton.textContent = isExpanded ? "Show more insights" : "Hide insights";
      if (isExpanded) {
        controlledRegion.hidden = true;
      } else {
        controlledRegion.hidden = false;
        controlledRegion.focus?.();
      }
    });
  </script>
</body>
</html>