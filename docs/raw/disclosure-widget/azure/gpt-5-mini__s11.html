<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expand/Collapse Widget Examples</title>
  <style>
    :root{
      --accent:#0b74de;
      --bg:#f9f9fb;
      --muted:#6b7280;
      --border:#e5e7eb;
      --radius:8px;
      --gap:12px;
    }

    body{
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      line-height: 1.4;
      margin: 24px;
      background: linear-gradient(180deg,var(--bg),white);
      color: #111827;
    }

    h1{
      margin: 0 0 18px;
      font-size: 20px;
      color: #0f172a;
    }

    /* Example wrapper */
    .example{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 18px;
      background: white;
      box-shadow: 0 1px 2px rgba(16,24,40,0.03);
    }

    .summary{
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .toggle{
      appearance: none;
      -webkit-appearance: none;
      background: transparent;
      border: none;
      padding: 8px 10px;
      margin: -8px 0;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      text-align: left;
      cursor: pointer;
      border-radius: 8px;
      transition: background .15s, box-shadow .15s;
    }

    .toggle:focus{
      outline: none;
      box-shadow: 0 0 0 4px rgba(11,116,222,0.12);
      background: linear-gradient(90deg, rgba(11,116,222,0.03), transparent);
    }

    .toggle:hover{
      background: rgba(15,23,42,0.02);
    }

    .chev{
      width: 18px;
      height: 18px;
      display: inline-block;
      transform-origin: center;
      transition: transform .2s ease;
      flex-shrink: 0;
      color: var(--accent);
    }

    .toggle[aria-expanded="true"] .chev{
      transform: rotate(90deg);
    }

    .title{
      font-weight: 600;
      font-size: 15px;
      color: #0f172a;
    }

    .subtitle{
      font-size: 13px;
      color: var(--muted);
      margin-top: 4px;
    }

    /* Controlled content */
    .details{
      margin-top: 12px;
      padding: 12px;
      border-radius: 8px;
      border: 1px dashed var(--border);
      background: linear-gradient(180deg, rgba(11,116,222,0.02), rgba(11,116,222,0.01));
    }

    /* When hidden, the element will be removed from flow by the hidden attribute.
       We provide a simple fade-in for when it's present. */
    .details:not([hidden]){
      animation: fadeIn .18s ease;
    }

    @keyframes fadeIn{
      from{ opacity: 0; transform: translateY(-4px); }
      to{ opacity: 1; transform: translateY(0); }
    }

    /* Minor content styling */
    p{ margin: 0 0 10px; color:#111827; }
    .muted{ color: var(--muted); font-size: 13px; }

    /* Small helper for code snippets */
    code{
      background: #f3f4f6;
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 13px;
      color: #0f172a;
    }
  </style>
</head>
<body>
  <h1>Expand / Collapse Widget Examples</h1>

  <div class="example">
    <div class="summary">
      <button class="toggle" id="toggle-1" aria-expanded="false" aria-controls="details-1">
        <svg class="chev" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="currentColor" d="M9 6l6 6-6 6" />
        </svg>
        <div style="flex:1">
          <div class="title">Simple details (collapsed)</div>
          <div class="subtitle">Click to reveal a short description</div>
        </div>
      </button>
    </div>

    <div class="details" id="details-1" role="region" aria-labelledby="toggle-1" hidden>
      <p>This is a simple expand/collapse region. It is hidden initially and becomes visible when you toggle the button above. The content is wrapped with the class <code>details</code> as requested.</p>
      <p class="muted">Tip: The button uses <code>aria-expanded</code> and <code>aria-controls</code> to link it with the content for screen readers.</p>
    </div>
  </div>

  <div class="example">
    <div class="summary">
      <button class="toggle" id="toggle-2" aria-expanded="true" aria-controls="details-2">
        <svg class="chev" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="currentColor" d="M9 6l6 6-6 6" />
        </svg>
        <div style="flex:1">
          <div class="title">Preset open details</div>
          <div class="subtitle">This one starts expanded</div>
        </div>
      </button>
    </div>

    <div class="details" id="details-2" role="region" aria-labelledby="toggle-2">
      <p>Unlike the first example, this panel is initially expanded. The button above reflects that via <code>aria-expanded="true"</code>, and there is no <code>hidden</code> attribute on this container.</p>
      <p class="muted">You can still toggle it closed and reopen it. Buttons are keyboard-accessible by default (Enter/Space).</p>
    </div>
  </div>

  <div class="example">
    <div class="summary">
      <button class="toggle" id="toggle-3" aria-expanded="false" aria-controls="details-3">
        <svg class="chev" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="currentColor" d="M9 6l6 6-6 6" />
        </svg>
        <div style="flex:1">
          <div class="title">Longer content with inner items</div>
          <div class="subtitle">Useful for lists, forms, or extra controls</div>
        </div>
      </button>
    </div>

    <div class="details" id="details-3" role="region" aria-labelledby="toggle-3" hidden>
      <p>Below is a short list showing how multiple elements can live inside the controlled container:</p>
      <ul>
        <li>Point one: explanation and details.</li>
        <li>Point two: additional context or actions.</li>
        <li>Point three: final notes.</li>
      </ul>
      <p class="muted">This <code>details</code> container could hold virtually any content: images, forms, or nested widgets.</p>
    </div>
  </div>

  <script>
    (function(){
      // Find all toggle buttons that control a details container
      const toggles = document.querySelectorAll('.toggle[aria-controls]');

      toggles.forEach(btn => {
        const targetId = btn.getAttribute('aria-controls');
        const panel = document.getElementById(targetId);

        // Ensure initial ARIA/hidden state consistency
        if (!panel) return;
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        if (expanded) {
          panel.removeAttribute('hidden');
        } else {
          panel.setAttribute('hidden', '');
        }

        btn.addEventListener('click', () => {
          const isExpanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!isExpanded));
          if (isExpanded) {
            panel.setAttribute('hidden', '');
          } else {
            panel.removeAttribute('hidden');
            // Move focus into the panel for better keyboard flow (optional)
            // panel.focus(); // uncomment if you want to focus the content region
          }
        });

        // Optional: handle keyboard shortcuts for quick toggling (Space/Enter are handled by button)
        // Add Home/End to open/close quickly when focused
        btn.addEventListener('keydown', (e) => {
          if (e.key === 'Home') {
            e.preventDefault();
            btn.setAttribute('aria-expanded', 'true');
            panel.removeAttribute('hidden');
          } else if (e.key === 'End') {
            e.preventDefault();
            btn.setAttribute('aria-expanded', 'false');
            panel.setAttribute('hidden', '');
          }
        });
      });
    })();
  </script>
</body>
</html>