<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expand / Collapse Widget Examples</title>
  <style>
    :root{
      --accent: #0b76ef;
      --bg: #fff;
      --surface: #f7f9fc;
      --radius: 8px;
      --duration: 260ms;
      --easing: cubic-bezier(.2,.9,.2,1);
    }

    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#eef5ff 0%, #fff 60%);
      color:#0d1b2a;
      margin: 32px;
      line-height: 1.45;
    }

    h1{
      margin: 0 0 16px 0;
      font-size: 20px;
    }

    p.lead{
      margin: 0 0 24px 0;
      color:#294257;
    }

    .example{
      background: var(--surface);
      border-radius: var(--radius);
      padding: 12px;
      margin: 12px 0;
      box-shadow: 0 1px 0 rgba(13,27,42,.03), 0 6px 18px rgba(11,16,24,.04);
      max-width: 720px;
    }

    .widget{
      display: grid;
      gap: 8px;
    }

    .expander{
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: linear-gradient(180deg,#fff,#f3f7fb);
      border: 1px solid rgba(13,27,42,.06);
      padding: 10px 12px;
      border-radius: 8px;
      font-weight: 600;
      color: #052036;
      cursor: pointer;
      width: 100%;
      justify-content: space-between;
      text-align: left;
      transition: box-shadow var(--duration) var(--easing), transform var(--duration) var(--easing);
      box-shadow: 0 1px 0 rgba(13,27,42,.02);
    }

    .expander:hover{
      box-shadow: 0 6px 18px rgba(11,16,24,.04);
      transform: translateY(-1px);
    }

    .expander:focus{
      outline: none;
      box-shadow: 0 0 0 4px rgba(11,118,239,.12);
      border-color: var(--accent);
    }

    .expander .label{
      display:flex;
      align-items:center;
      gap:10px;
      flex:1;
    }

    .expander .title{
      font-size: 15px;
    }

    .expander .meta{
      color:#4a6576;
      font-size: 13px;
    }

    /* arrow icon */
    .expander .caret{
      width: 18px;
      height: 18px;
      display:inline-block;
      transform-origin: center;
      transition: transform var(--duration) var(--easing);
      color: var(--accent);
    }

    /* controlled content container */
    .details{
      overflow: hidden;
      will-change: max-height, opacity;
      max-height: 0;
      opacity: 0;
      transition: max-height var(--duration) var(--easing), opacity calc(var(--duration) * 1.1) var(--easing);
      border-radius: 6px;
      background: white;
      padding: 0 8px;
      box-shadow: inset 0 1px 0 rgba(13,27,42,.02);
    }

    .details.open{
      opacity: 1;
      max-height: 1200px; /* large enough for most content */
      transition: max-height var(--duration) var(--easing), opacity calc(var(--duration) * 1.1) var(--easing);
      padding: 12px 12px 16px 12px;
    }

    /* rotate caret when open by targeting details sibling via attribute or JS class */
    .expander[aria-expanded="true"] .caret{
      transform: rotate(90deg);
    }

    .details p{
      margin: 0 0 10px 0;
      color: #16324a;
    }

    /* small helper styles for demo content */
    .note{
      font-size: 13px;
      color:#34515f;
      background:#f0f7ff;
      padding:8px;
      border-radius:6px;
      border:1px solid rgba(11,118,239,.06);
    }

    /* reduced motion */
    @media (prefers-reduced-motion: reduce){
      .details, .expander, .expander .caret{
        transition: none;
      }
    }

  </style>
</head>
<body>
  <h1>Expand / Collapse Widget Examples</h1>
  <p class="lead">Two accessible expand/collapse widgets. Each widget is wrapped by a div.example and the controlled region uses the class details.</p>

  <div class="example">
    <div class="widget" role="group" aria-label="First example">
      <button class="expander" id="toggle-1" aria-controls="details-1" aria-expanded="false" type="button">
        <span class="label">
          <span class="title">Show more about the project</span>
          <span class="meta">Useful summary and quick facts</span>
        </span>
        <span class="caret" aria-hidden="true">▸</span>
      </button>

      <div class="details" id="details-1" role="region" aria-labelledby="toggle-1" aria-hidden="true">
        <p><strong>Project overview:</strong> This project demonstrates an expand/collapse widget pattern with accessible attributes (aria-expanded, aria-controls, aria-hidden) and smooth transitions.</p>
        <p>Use the button above to toggle visibility. The content area uses the class "details" per your request, and the whole widget is wrapped by a div with class "example".</p>
        <div class="note">Tip: Press Tab to focus the button, and press Enter or Space to toggle. Screen readers will announce the expanded state from the button.</div>
      </div>
    </div>
  </div>

  <div class="example">
    <div class="widget" role="group" aria-label="Second example">
      <button class="expander" id="toggle-2" aria-controls="details-2" aria-expanded="false" type="button">
        <span class="label">
          <span class="title">Release notes — version 2.1.0</span>
          <span class="meta">Click to view details</span>
        </span>
        <span class="caret" aria-hidden="true">▸</span>
      </button>

      <div class="details" id="details-2" role="region" aria-labelledby="toggle-2" aria-hidden="true">
        <p><strong>Highlights</strong></p>
        <ul>
          <li>Improved performance for list rendering.</li>
          <li>Added keyboard shortcuts and accessibility improvements.</li>
          <li>Bug fixes and documentation updates.</li>
        </ul>
        <p>See the changelog for a full list of changes. This content area also uses the class "details".</p>
      </div>
    </div>
  </div>

  <script>
    (function(){
      // Helper to toggle a single widget
      function toggle(detailsEl, buttonEl, show){
        if (show === undefined) show = !buttonEl.matches('[aria-expanded="true"]');
        if (show){
          detailsEl.classList.add('open');
          buttonEl.setAttribute('aria-expanded', 'true');
          detailsEl.setAttribute('aria-hidden', 'false');
        } else {
          detailsEl.classList.remove('open');
          buttonEl.setAttribute('aria-expanded', 'false');
          detailsEl.setAttribute('aria-hidden', 'true');
        }
      }

      // Initialize all widgets (button + controlled element with class 'details')
      document.querySelectorAll('.example').forEach(function(example){
        var button = example.querySelector('.expander');
        if (!button) return;
        var id = button.getAttribute('aria-controls');
        var details = id ? document.getElementById(id) : null;
        if (!details) return;

        // Start closed (in case someone altered attributes in markup)
        var initExpanded = button.getAttribute('aria-expanded') === 'true';
        toggle(details, button, initExpanded);

        button.addEventListener('click', function(){
          toggle(details, button);
        });

        // Support Escape to close when focus is inside the details region
        details.addEventListener('keydown', function(e){
          if (e.key === 'Escape' || e.key === 'Esc'){
            toggle(details, button, false);
            // Return focus to the toggle button
            button.focus();
          }
        });

        // Make sure clicking a link inside details doesn't unexpectedly re-toggle
        // (this is left default behavior; this listener is just illustrative)
        details.addEventListener('click', function(e){
          // example behavior: close on links with data-close attribute
          var el = e.target.closest('a[data-close]');
          if (el){
            toggle(details, button, false);
          }
        });
      });
    })();
  </script>
</body>
</html>