<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Expand/Collapse Widget Demo</title>
  <style>
    :root {
      --background: #f3f4f8;
      --panel-border: #d6d9e6;
      --panel-bg: #ffffff;
      --summary-bg: #eef2ff;
      --summary-hover: #e0e7ff;
      --accent: #3b82f6;
      --accent-dark: #1d4ed8;
      --text-primary: #111827;
      --text-secondary: #4b5563;
      --note-bg: #fef3c7;
      --note-border: #fbbf24;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(180deg, rgba(243, 244, 248, 1) 0%, rgba(229, 231, 242, 0.6) 100%);
      color: var(--text-primary);
      min-height: 100vh;
    }

    main {
      max-width: 60rem;
      margin: 3rem auto 4rem;
      padding: 0 1.5rem;
    }

    h1 {
      font-size: clamp(2.25rem, 3vw, 3rem);
      margin: 0 0 0.5rem;
      letter-spacing: -0.02em;
    }

    .lead {
      margin: 0;
      color: var(--text-secondary);
      font-size: 1.1rem;
    }

    .expander-controls {
      margin: 2.5rem 0 2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    button {
      font: inherit;
      cursor: pointer;
      border-radius: 999px;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease;
    }

    .control-button {
      padding: 0.65rem 1.4rem;
      border: 1px solid rgba(59, 130, 246, 0.3);
      background: rgba(255, 255, 255, 0.85);
      color: var(--accent);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.08);
      backdrop-filter: blur(6px);
    }

    .control-button:hover,
    .control-button:focus-visible {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 12px 28px rgba(59, 130, 246, 0.25);
      outline: none;
    }

    .control-button:active {
      transform: translateY(1px);
    }

    .example {
      margin-bottom: 2.5rem;
    }

    .example h2 {
      font-size: 1.35rem;
      margin: 0 0 1rem;
      font-weight: 600;
      letter-spacing: -0.01em;
    }

    .details {
      border: 1px solid var(--panel-border);
      border-radius: 0.85rem;
      background: var(--panel-bg);
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.12);
      overflow: hidden;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .details[open],
    .details.is-open {
      border-color: rgba(59, 130, 246, 0.55);
      box-shadow: 0 22px 55px rgba(59, 130, 246, 0.18);
    }

    .details summary {
      margin: 0;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1.05rem 1.5rem;
      background: var(--summary-bg);
      font-weight: 600;
      color: var(--text-primary);
      border-bottom: 1px solid var(--panel-border);
      user-select: none;
      transition: background-color 0.2s ease;
    }

    .details summary:hover {
      background: var(--summary-hover);
    }

    .details summary:focus-visible {
      outline: 3px solid rgba(59, 130, 246, 0.45);
      outline-offset: 4px;
    }

    .details summary::-webkit-details-marker {
      display: none;
    }

    .details summary::before {
      content: "";
      width: 0.65rem;
      height: 0.65rem;
      border-right: 2px solid var(--accent);
      border-bottom: 2px solid var(--accent);
      transform: rotate(-45deg);
      transition: transform 0.25s ease;
    }

    .details[open] > summary::before {
      transform: rotate(45deg);
    }

    .details-body {
      padding: 1.25rem 1.75rem 1.75rem;
      display: grid;
      gap: 1rem;
      background: #fff;
    }

    .steps {
      margin: 0.5rem 0 0;
      padding-left: 1.35rem;
      display: grid;
      gap: 0.75rem;
      counter-reset: step;
    }

    .steps li {
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .steps li strong {
      color: var(--text-primary);
    }

    code {
      background: rgba(59, 130, 246, 0.08);
      padding: 0.2em 0.45em;
      border-radius: 0.4em;
      font-family: "Fira Code", "SFMono-Regular", Consolas, monospace;
      font-size: 0.95em;
      color: var(--accent-dark);
    }

    .note {
      margin-top: 0.25rem;
      padding: 0.85rem 1rem;
      background: var(--note-bg);
      border-left: 4px solid var(--note-border);
      border-radius: 0.65rem;
      color: #92400e;
      font-size: 0.95rem;
    }

    .release-notes {
      margin: 0.5rem 0 0;
      display: grid;
      gap: 0.75rem;
    }

    .release-notes dt {
      font-weight: 600;
      color: var(--text-primary);
    }

    .release-notes dd {
      margin: 0.25rem 0 0;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .release-notes dd:last-child {
      margin-bottom: 0;
    }

    .toggle-button {
      padding: 0.75rem 1.5rem;
      border: none;
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
      color: #fff;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      box-shadow: 0 18px 40px rgba(59, 130, 246, 0.35);
    }

    .toggle-button:hover,
    .toggle-button:focus-visible {
      transform: translateY(-1px);
      box-shadow: 0 20px 50px rgba(29, 78, 216, 0.4);
      outline: none;
    }

    .toggle-button:active {
      transform: translateY(0);
      box-shadow: 0 16px 36px rgba(29, 78, 216, 0.3);
    }

    .details--custom {
      margin-top: 1.25rem;
      backdrop-filter: blur(6px);
    }

    .tip-list {
      margin: 0;
      padding-left: 1.2rem;
      display: grid;
      gap: 0.6rem;
      color: var(--text-secondary);
    }

    .tip-list li strong {
      color: var(--accent-dark);
    }

    @media (max-width: 640px) {
      .details summary {
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .details-body {
        padding: 1.1rem 1.35rem 1.4rem;
      }

      .toggle-button,
      .control-button {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <main>
    <h1>Expand/Collapse Widget Examples</h1>
    <p class="lead">Explore progressive disclosure patterns with consistent styling across native and custom controllers.</p>

    <div class="expander-controls" role="group" aria-label="Bulk actions for native details widgets">
      <button type="button" id="expand-all" class="control-button">Expand all native sections</button>
      <button type="button" id="collapse-all" class="control-button">Collapse all native sections</button>
    </div>

    <div class="example">
      <h2>1. Native <code>&lt;details&gt;</code> onboarding prompt</h2>
      <details class="details" open>
        <summary>Guided tour: Product onboarding</summary>
        <div class="details-body">
          <p>Get comfortable with the essentials in ten minutes or fewer.</p>
          <ol class="steps">
            <li><strong>Install the CLI:</strong> Run <code>npm install @acme/cli --global</code>.</li>
            <li><strong>Authenticate:</strong> Use <code>acme login</code> to connect your workspace.</li>
            <li><strong>Initialize:</strong> Create a project with <code>acme init</code> and answer the prompts.</li>
          </ol>
          <p class="note">Tip: You can always revisit this tour from the Help menu.</p>
        </div>
      </details>
    </div>

    <div class="example">
      <h2>2. Release notes accordion</h2>
      <details class="details">
        <summary>Changelog — April 2024</summary>
        <div class="details-body">
          <p>Highlights from this month's release cycle.</p>
          <dl class="release-notes">
            <dt>Feature spotlight</dt>
            <dd>Added workspace templates with one-click provisioning and governance guardrails.</dd>
            <dt>Performance</dt>
            <dd>Reduced cold start times by 32% thanks to smarter artifact caching.</dd>
            <dt>Fixes</dt>
            <dd>Addressed flaky webhook retries, improved audit log exports, and resolved a locale-specific sorting bug.</dd>
          </dl>
          <p class="note">Heads-up: The next milestone adds automated rollout windows with regional overrides.</p>
        </div>
      </details>
    </div>

    <div class="example">
      <h2>3. Custom controller with button</h2>
      <p class="lead" style="font-size:1rem;">Use a standard button to toggle content while preserving the shared visual language.</p>
      <button type="button"
              id="productivity-toggle"
              class="toggle-button"
              aria-expanded="false"
              aria-controls="productivity-tips"
              data-label-collapsed="Show productivity tips"
              data-label-expanded="Hide productivity tips">
        Show productivity tips
      </button>
      <div id="productivity-tips" class="details details--custom" role="region" aria-labelledby="productivity-toggle" hidden>
        <div class="details-body">
          <p>Combine small systems to produce compounding gains without burning out.</p>
          <ul class="tip-list">
            <li><strong>Timebox deep work:</strong> Block two focused sessions each day and treat them as meetings.</li>
            <li><strong>Define success upfront:</strong> Begin with a clear “definition of done” for each task.</li>
            <li><strong>Automate the routine:</strong> Offload repetitive steps with scripts or saved workflows.</li>
          </ul>
          <p class="note">Bonus: Schedule a five-minute retrospective every Friday to celebrate wins and prune your backlog.</p>
        </div>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const expandAllButton = document.getElementById('expand-all');
      const collapseAllButton = document.getElementById('collapse-all');
      const nativeDetails = Array.from(document.querySelectorAll('details.details'));

      const toggleAll = (shouldOpen) => {
        nativeDetails.forEach(detail => {
          detail.open = shouldOpen;
        });
      };

      if (expandAllButton) {
        expandAllButton.addEventListener('click', () => toggleAll(true));
      }

      if (collapseAllButton) {
        collapseAllButton.addEventListener('click', () => toggleAll(false));
      }

      document.querySelectorAll('.toggle-button').forEach(button => {
        const targetId = button.getAttribute('aria-controls');
        const target = document.getElementById(targetId);
        if (!target) {
          return;
        }

        const collapsedLabel = button.dataset.labelCollapsed || 'Show content';
        const expandedLabel = button.dataset.labelExpanded || 'Hide content';

        const setState = (expanded) => {
          button.setAttribute('aria-expanded', expanded);
          button.textContent = expanded ? expandedLabel : collapsedLabel;
          target.hidden = !expanded;
          target.classList.toggle('is-open', expanded);
        };

        button.addEventListener('click', () => {
          const isExpanded = button.getAttribute('aria-expanded') === 'true';
          setState(!isExpanded);
        });

        setState(button.getAttribute('aria-expanded') === 'true');
      });
    });
  </script>
</body>
</html>