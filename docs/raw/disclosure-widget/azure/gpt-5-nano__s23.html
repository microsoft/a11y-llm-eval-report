<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/Collapse Widgets Demo</title>
  <style>
    :root {
      --bg: #fff;
      --fg: #1f2937;
      --accent: #2563eb;
      --panel: #f8fafc;
      --border: #e5e7eb;
    }
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: #f7f7fb;
      color: var(--fg);
      padding: 2rem;
    }
    h1 {
      font-size: 1.75rem;
      margin-bottom: 1rem;
    }

    /* Each widget container must have class "example" */
    .example {
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0.75rem;
      margin-bottom: 1.25rem;
      background: #ffffff;
      box-shadow: 0 1px 2px rgba(0,0,0,.04);
    }

    /* Common styling for the content that is controlled (must have class "details") */
    .details {
      padding: 0.75rem 1rem;
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 6px;
      margin-top: 0.5rem;
    }

    /* Widget 1: Native details/summary styling (for nicer look) */
    details {
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 0;
    }
    summary {
      padding: 0.6rem 1rem;
      cursor: pointer;
      font-weight: 600;
      list-style: none;
      outline: none;
    }
    summary::-webkit-details-marker { display: none; } /* hide default marker */
    details[open] summary { color: var(--accent); }

    /* Widget 2: Custom toggle styling */
    #customToggle {
      display: inline-block;
      padding: 0.6rem 0.9rem;
      border-radius: 6px;
      background: #e0e7ff;
      color: #1e3a8a;
      cursor: pointer;
      border: 1px solid #c7d2fe;
      user-select: none;
    }
    #customToggle:focus {
      outline: 2px solid #93c5fd;
      outline-offset: 2px;
    }
    .panel {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.25s ease-out;
    }
    .panel.open {
      max-height: 200px;
      transition: max-height 0.25s ease-in;
    }
    .panel-content {
      padding: 0.75rem 0;
    }

    /* Widget 3: Simple checkbox-based accordion (CSS-only) */
    .accordion { border: 1px solid var(--border); border-radius: 6px; overflow: hidden; }
    .acc-item { border-bottom: 1px solid var(--border); }
    .acc-trigger {
      display: block;
      width: 100%;
      text-align: left;
      padding: 0.75rem 1rem;
      background: #f3f4f6;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      line-height: 1.15;
    }
    .acc-content {
      padding: 0.75rem 1rem;
      display: none;
      background: #fff;
    }
    input.acc-control { display: none; }
    /* When the checkbox is checked, show the panel */
    input.acc-control:checked + .acc-trigger + .acc-content {
      display: block;
    }
  </style>
</head>
<body>
  <h1>Expand/Collapse Widgets Demo</h1>

  <!-- Widget 1: Native details/summary -->
  <div class="example">
    <details>
      <summary>Native details/summary widget</summary>
      <div class="details">
        <p>This widget uses the native HTML details/summary elements. Click the title to expand or collapse the content.</p>
        <ul>
          <li>Accessible by default with built-in keyboard support</li>
          <li>Content is wrapped in a div with class "details"</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Widget 2: Custom toggle with ARIA -->
  <div class="example">
    <div id="customToggle" class="toggle" role="button" tabindex="0" aria-expanded="false" aria-controls="customPanel">
      Custom Toggle Widget (aria-expanded)
    </div>
    <div id="customPanel" class="panel" hidden>
      <div class="details panel-content" aria-labelledby="customToggle">
        <p>This widget uses a button-like div with ARIA attributes to expand/collapse the content via JavaScript.</p>
        <p>Content is placed inside a div with class "details" to mark the controlled region.</p>
      </div>
    </div>
  </div>

  <!-- Widget 3: Checkbox-based accordion (CSS-only) -->
  <div class="example">
    <div class="accordion" aria-label="Simple accordion with checkboxes">
      <div class="acc-item">
        <input class="acc-control" type="checkbox" id="acc1" />
        <label class="acc-trigger" for="acc1" aria-controls="acc1-panel">Accordion Item 1</label>
        <div id="acc1-panel" class="acc-content details">
          <p>Content for item 1. This panel is shown when the checkbox is checked.</p>
        </div>
      </div>
      <div class="acc-item">
        <input class="acc-control" type="checkbox" id="acc2" />
        <label class="acc-trigger" for="acc2" aria-controls="acc2-panel">Accordion Item 2</label>
        <div id="acc2-panel" class="acc-content details">
          <p>Content for item 2. This demonstrates a simple CSS-only approach using checkboxes.</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Widget 2: Enable toggle behavior for custom widget
    (function() {
      const toggle = document.getElementById('customToggle');
      const panel = document.getElementById('customPanel');
      function setOpen(open) {
        panel.hidden = !open;
        toggle.setAttribute('aria-expanded', String(open));
        if (open) {
          panel.classList.add('open');
        } else {
          panel.classList.remove('open');
        }
      }
      // Initialize state as collapsed
      setOpen(false);

      toggle.addEventListener('click', function() {
        const currentlyOpen = !panel.hidden;
        setOpen(!currentlyOpen);
      });
      toggle.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          const currentlyOpen = !panel.hidden;
          setOpen(!currentlyOpen);
        }
      });
    })();
  </script>
</body>
</html>