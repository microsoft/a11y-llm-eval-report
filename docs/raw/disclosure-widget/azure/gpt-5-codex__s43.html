<html lang="en">
<head>
<meta charset="UTF-8">
<title>Expand/Collapse Widget Demo</title>
<style>
    :root {
        font-family: "Segoe UI", Roboto, sans-serif;
        color-scheme: light dark;
    }
    body {
        margin: 0;
        padding: 2rem;
        background: #f5f7fa;
        color: #1e2330;
    }
    h1 {
        margin-bottom: 1.5rem;
        font-size: 2rem;
    }
    .examples {
        display: grid;
        gap: 1.5rem;
        max-width: 900px;
        margin: 0 auto;
    }
    .example {
        background: white;
        border-radius: 12px;
        border: 1px solid rgba(30,35,48,0.08);
        box-shadow: 0 12px 24px rgba(15,23,42,0.08);
        padding: 1.5rem;
    }
    .example h2 {
        margin: 0 0 1rem;
        font-size: 1.25rem;
    }
    .toggle {
        appearance: none;
        border: none;
        border-radius: 8px;
        padding: 0.65rem 1.1rem;
        font-size: 1rem;
        font-weight: 600;
        color: #1e2330;
        background: #e0f2ff;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: background 0.2s, transform 0.2s;
    }
    .toggle:focus-visible {
        outline: 3px solid #2563eb;
        outline-offset: 2px;
    }
    .toggle:hover {
        background: #cfe7ff;
        transform: translateY(-1px);
    }
    .toggle .icon {
        font-size: 1.1rem;
        transition: transform 0.2s;
    }
    .toggle[aria-expanded="true"] .icon {
        transform: rotate(90deg);
    }
    .details {
        margin-top: 1rem;
        padding: 1rem;
        border-radius: 10px;
        border: 1px dashed rgba(30,35,48,0.2);
        background: #f9fbff;
        display: none;
    }
    .details.open {
        display: block;
    }
    .details p {
        margin: 0 0 0.75rem;
        line-height: 1.6;
    }
    .details p:last-child {
        margin-bottom: 0;
    }
    dl {
        margin: 0;
    }
    dt {
        font-weight: 600;
        margin-top: 0.5rem;
    }
    dd {
        margin-left: 1.25rem;
    }
    @media (prefers-color-scheme: dark) {
        body {
            background: #0f172a;
            color: #e2e8f0;
        }
        .example {
            background: #111c33;
            border: 1px solid rgba(148,163,184,0.15);
            box-shadow: 0 12px 28px rgba(2,6,23,0.65);
        }
        .toggle {
            color: #e2e8f0;
            background: #1e3a8a;
        }
        .toggle:hover {
            background: #2745a2;
        }
        .details {
            background: #101b31;
            border-color: rgba(148,163,184,0.35);
        }
    }
</style>
</head>
<body>
<h1>Expand &amp; Collapse Widgets</h1>
<div class="examples">
    <div class="example">
        <h2>Travel Packing Checklist</h2>
        <button type="button" class="toggle" aria-expanded="false" aria-controls="details-1">
            <span class="icon">➤</span>
            Show essentials
        </button>
        <div class="details" id="details-1">
            <p>Keep your travel essentials ready so you are never caught off guard.</p>
            <dl>
                <dt>Documents</dt>
                <dd>Passport, boarding pass, travel insurance, accommodation confirmation.</dd>
                <dt>Health &amp; Safety</dt>
                <dd>Medication, hand sanitizer, reusable water bottle, first aid kit.</dd>
                <dt>Electronics</dt>
                <dd>Phone charger, power bank, universal adapter, noise-cancelling headphones.</dd>
            </dl>
        </div>
    </div>

    <div class="example">
        <h2>Daily Planning Routine</h2>
        <button type="button" class="toggle" aria-expanded="true" aria-controls="details-2" data-initial="open">
            <span class="icon">➤</span>
            Hide routine
        </button>
        <div class="details open" id="details-2">
            <p>Structure your day with intentional checkpoints to stay focused and balanced.</p>
            <ol>
                <li><strong>Morning focus:</strong> Set three priorities and identify potential blockers.</li>
                <li><strong>Midday reset:</strong> Take a mindful break, hydrate, and review progress.</li>
                <li><strong>Evening reflection:</strong> Log wins, lessons, and plan top tasks for tomorrow.</li>
            </ol>
        </div>
    </div>

    <div class="example">
        <h2>FAQ: Remote Work Fundamentals</h2>
        <button type="button" class="toggle" aria-expanded="false" aria-controls="details-3">
            <span class="icon">➤</span>
            View answers
        </button>
        <div class="details" id="details-3">
            <p><strong>How do I stay connected with my team?</strong><br>Schedule regular stand-ups, use async status updates, and keep communication in shared channels.</p>
            <p><strong>What helps with productivity at home?</strong><br>Define a dedicated workspace, use intention-setting rituals, and block time for deep work.</p>
            <p><strong>How can I set boundaries?</strong><br>Establish clear working hours, communicate availability, and create shutdown routines to prevent burnout.</p>
        </div>
    </div>
</div>

<script>
const widgets = document.querySelectorAll('.example');

widgets.forEach((widget, index) => {
    const button = widget.querySelector('.toggle');
    const details = widget.querySelector('.details');

    if (!button || !details) {
        return;
    }

    if (!button.id) {
        button.id = `toggle-${index + 1}`;
    }

    if (!details.id) {
        details.id = `details-${index + 1}`;
        button.setAttribute('aria-controls', details.id);
    }

    const startOpen = button.dataset.initial === 'open' || button.getAttribute('aria-expanded') === 'true';

    const setState = (isOpen) => {
        button.setAttribute('aria-expanded', String(isOpen));
        details.classList.toggle('open', isOpen);
        details.hidden = !isOpen;
        button.querySelector('.icon').textContent = isOpen ? '▼' : '➤';
        button.textContent = isOpen ? button.textContent.replace(/^Show/, 'Hide') : button.textContent.replace(/^Hide/, 'Show');
        button.prepend(button.querySelector('.icon'));
    };

    setState(startOpen);

    button.addEventListener('click', () => {
        const expanded = button.getAttribute('aria-expanded') === 'true';
        setState(!expanded);
    });
});
</script>
</body>
</html>