<html lang="en">
<head>
<meta charset="UTF-8">
<title>Expand/Collapse Widget Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    :root {
        color-scheme: light dark;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    body {
        margin: 0;
        padding: 2.5rem;
        background: linear-gradient(145deg, #f7f7fb, #e4f0ff);
        min-height: 100vh;
    }
    h1 {
        text-align: center;
        margin-bottom: 2rem;
        color: #1f3356;
    }
    .example {
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        box-shadow: 0 15px 35px rgba(31, 51, 86, 0.15);
        padding: 1.75rem;
        margin: 0 auto 2rem;
        max-width: 720px;
        border: 1px solid rgba(31, 51, 86, 0.1);
    }
    .example h2 {
        margin-top: 0;
        color: #243a5e;
        font-size: 1.4rem;
    }
    .toggle-button {
        appearance: none;
        border: none;
        background: #305bcf;
        color: white;
        font-weight: 600;
        padding: 0.7rem 1.2rem;
        border-radius: 999px;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }
    .toggle-button:hover,
    .toggle-button:focus-visible {
        background: #234bb3;
        box-shadow: 0 8px 20px rgba(48, 91, 207, 0.35);
        transform: translateY(-1px);
        outline: none;
    }
    .toggle-button:active {
        transform: translateY(1px);
        box-shadow: 0 4px 12px rgba(48, 91, 207, 0.25);
    }
    .toggle-button .indicator {
        display: inline-block;
        width: 0.75rem;
        height: 0.75rem;
        border-radius: 50%;
        background: white;
        color: #305bcf;
        font-size: 0.65rem;
        text-align: center;
        line-height: 0.75rem;
        font-weight: 700;
        transition: transform 0.2s ease, color 0.2s ease, background 0.2s ease;
    }
    .toggle-button[aria-expanded="true"] .indicator {
        transform: rotate(90deg);
        background: #fff;
        color: #234bb3;
    }
    .details {
        border-left: 4px solid #305bcf;
        margin-top: 1rem;
        padding: 1rem 1.25rem;
        background: rgba(48, 91, 207, 0.07);
        border-radius: 12px;
        display: block;
    }
    .details p,
    .details ul,
    .details li {
        color: #1f3356;
    }
    .details ul {
        padding-left: 1.25rem;
    }
    .details[data-collapsed="true"] {
        animation: collapse 0.2s ease forwards;
    }
    .details[data-collapsed="false"] {
        animation: expand 0.25s ease forwards;
    }
    @keyframes expand {
        from { opacity: 0; transform: translateY(-6px); }
        to { opacity: 1; transform: translateY(0); }
    }
    @keyframes collapse {
        from { opacity: 1; transform: translateY(0); }
        to { opacity: 0; transform: translateY(-6px); }
    }
    @media (max-width: 640px) {
        body {
            padding: 1.5rem;
        }
        .example {
            padding: 1.25rem;
        }
    }
</style>
</head>
<body>
<h1>Expand &amp; Collapse Widget Showcase</h1>

<div class="example">
    <h2>Simple Content Reveal</h2>
    <button class="toggle-button" type="button"
            aria-expanded="false"
            aria-controls="details-basic"
            data-toggle="details-basic"
            data-label-show="Show more"
            data-label-hide="Show less">
        <span class="indicator">+</span>
        <span class="label">Show more</span>
    </button>
    <div id="details-basic" class="details" hidden data-collapsed="true">
        <p>This basic example toggles a short block of text. The button updates its label and the content is hidden using the <code>hidden</code> attribute when collapsed.</p>
        <p>The container for the controlled content uses the <strong>details</strong> class as requested.</p>
    </div>
</div>

<div class="example">
    <h2>Expandable Checklist</h2>
    <button class="toggle-button" type="button"
            aria-expanded="false"
            aria-controls="details-checklist"
            data-toggle="details-checklist"
            data-label-show="View preparation list"
            data-label-hide="Hide preparation list">
        <span class="indicator">+</span>
        <span class="label">View preparation list</span>
    </button>
    <div id="details-checklist" class="details" hidden data-collapsed="true">
        <p>Use this widget to keep track of your progress:</p>
        <ul>
            <li>Review the project brief thoroughly.</li>
            <li>Outline key milestones and dependencies.</li>
            <li>Gather necessary assets and credentials.</li>
            <li>Communicate timelines to all stakeholders.</li>
        </ul>
    </div>
</div>

<div class="example">
    <h2>Multiple Sections with Independent Controls</h2>
    <p>This example demonstrates how multiple buttons can control separate content regions without interfering with one another.</p>
    <div class="sub-section">
        <button class="toggle-button" type="button"
                aria-expanded="false"
                aria-controls="details-design"
                data-toggle="details-design"
                data-label-show="Show design notes"
                data-label-hide="Hide design notes">
            <span class="indicator">+</span>
            <span class="label">Show design notes</span>
        </button>
        <div id="details-design" class="details" hidden data-collapsed="true">
            <p>Design considerations:</p>
            <ul>
                <li>Maintain consistent spacing and typography across sections.</li>
                <li>Provide visual feedback when toggling sections.</li>
                <li>Ensure the widget remains accessible with keyboard navigation.</li>
            </ul>
        </div>
    </div>
    <div class="sub-section" style="margin-top: 1rem;">
        <button class="toggle-button" type="button"
                aria-expanded="false"
                aria-controls="details-development"
                data-toggle="details-development"
                data-label-show="Show development notes"
                data-label-hide="Hide development notes">
            <span class="indicator">+</span>
            <span class="label">Show development notes</span>
        </button>
        <div id="details-development" class="details" hidden data-collapsed="true">
            <p>Development considerations:</p>
            <ul>
                <li>Use ARIA attributes (<code>aria-expanded</code>, <code>aria-controls</code>) to communicate state.</li>
                <li>Keep JavaScript unobtrusive by attaching listeners after the DOM loads.</li>
                <li>Respect user preferences such as reduced motion when adding animations.</li>
            </ul>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const toggleButtons = document.querySelectorAll('.toggle-button[data-toggle]');

        toggleButtons.forEach(button => {
            const targetId = button.getAttribute('data-toggle');
            const target = document.getElementById(targetId);

            if (!target) {
                return;
            }

            const showLabel = button.getAttribute('data-label-show') || 'Expand';
            const hideLabel = button.getAttribute('data-label-hide') || 'Collapse';
            const labelSpan = button.querySelector('.label');
            const indicator = button.querySelector('.indicator');

            const setState = (expanded) => {
                button.setAttribute('aria-expanded', expanded ? 'true' : 'false');
                target.hidden = !expanded;
                target.setAttribute('data-collapsed', expanded ? 'false' : 'true');
                if (labelSpan) {
                    labelSpan.textContent = expanded ? hideLabel : showLabel;
                }
                if (indicator) {
                    indicator.textContent = expanded ? 'â€“' : '+';
                }
            };

            button.addEventListener('click', () => {
                const isExpanded = button.getAttribute('aria-expanded') === 'true';
                setState(!isExpanded);
            });

            setState(false);
        });
    });
</script>
</body>
</html>