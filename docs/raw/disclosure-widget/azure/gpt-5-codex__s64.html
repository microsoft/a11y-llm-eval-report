<html lang="en">
<head>
<meta charset="utf-8">
<title>Expand/Collapse Widget Demo</title>
<style>
    body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: #f5f5f5;
        color: #2d2d2d;
        margin: 0;
        padding: 2rem;
        line-height: 1.6;
    }
    h1 {
        margin-bottom: 1.5rem;
    }
    .example {
        background: #ffffff;
        border-radius: 10px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border: 1px solid #e3e3e6;
    }
    .toggle {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.6rem 1.1rem;
        font-size: 1rem;
        border-radius: 999px;
        border: 1px solid transparent;
        background: linear-gradient(135deg, #4f46e5, #3b82f6);
        color: #fff;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .toggle:focus-visible {
        outline: 3px solid rgba(79, 70, 229, 0.45);
        outline-offset: 4px;
    }
    .toggle:hover {
        transform: translateY(-1px);
        box-shadow: 0 12px 22px rgba(59, 130, 246, 0.25);
    }
    .toggle span.icon {
        font-size: 1.2rem;
        transition: transform 0.2s ease;
    }
    .toggle[aria-expanded="true"] span.icon {
        transform: rotate(45deg);
    }
    .details {
        margin-top: 1rem;
        padding: 1rem 1.2rem;
        border-radius: 10px;
        background: #f0f4ff;
        border: 1px solid #d6e0ff;
        animation: fadeIn 0.25s ease;
    }
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(-6px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    ul {
        margin: 0.5rem 0 0;
        padding-left: 1.3rem;
    }
    code {
        background: rgba(15, 118, 110, 0.12);
        padding: 0.15rem 0.35rem;
        border-radius: 5px;
        font-size: 0.95rem;
    }
</style>
</head>
<body>
<h1>Expand/Collapse Widgets</h1>

<div class="example">
    <button type="button"
            class="toggle"
            aria-expanded="false"
            aria-controls="details-1"
            data-open-label="Hide Overview"
            data-closed-label="Show Overview">
        <span class="icon">＋</span>
        <span class="label">Show Overview</span>
    </button>
    <div class="details" id="details-1" hidden>
        <p>This widget displays a concise overview of the project timeline, milestones, and current status.</p>
        <ul>
            <li><strong>Current phase:</strong> User research &amp; testing</li>
            <li><strong>Upcoming milestone:</strong> Prototype iteration on April 2</li>
            <li><strong>Team members:</strong> Ava, Noor, Liam</li>
        </ul>
    </div>
</div>

<div class="example">
    <button type="button"
            class="toggle"
            aria-expanded="false"
            aria-controls="details-2"
            data-open-label="Hide Instructions"
            data-closed-label="Show Instructions">
        <span class="icon">＋</span>
        <span class="label">Show Instructions</span>
    </button>
    <div class="details" id="details-2" hidden>
        <p>Follow these steps to integrate collapse behavior into your components:</p>
        <ol>
            <li>Create a trigger element like a <code>&lt;button&gt;</code> with an accessible label.</li>
            <li>Associate the trigger with the content container using <code>aria-controls</code> and matching IDs.</li>
            <li>Toggle both the <code>hidden</code> attribute and the <code>aria-expanded</code> state to keep the interaction accessible.</li>
            <li>Optionally, provide visual feedback (like rotating icons) to reinforce the state change.</li>
        </ol>
    </div>
</div>

<script>
    const toggles = document.querySelectorAll('.toggle');

    toggles.forEach((button) => {
        const icon = button.querySelector('.icon');
        const label = button.querySelector('.label');
        const controlledId = button.getAttribute('aria-controls');
        const content = document.getElementById(controlledId);

        button.addEventListener('click', () => {
            const isExpanded = button.getAttribute('aria-expanded') === 'true';
            const newState = !isExpanded;

            button.setAttribute('aria-expanded', String(newState));
            content.hidden = !newState;

            const openLabel = button.dataset.openLabel || 'Hide';
            const closedLabel = button.dataset.closedLabel || 'Show';

            label.textContent = newState ? openLabel : closedLabel;
            icon.textContent = newState ? '－' : '＋';
        });
    });
</script>
</body>
</html>