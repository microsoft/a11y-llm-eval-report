<html lang="en">
<head>
<meta charset="UTF-8">
<title>Modal Dialog Example</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    :root {
        color-scheme: light dark;
        font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
        margin: 0;
        display: grid;
        place-items: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #9ab3f5, #e7eaf6);
    }

    .trigger {
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
        border: none;
        border-radius: 0.5rem;
        background: #275efe;
        color: #fff;
        cursor: pointer;
        box-shadow: 0 10px 20px rgba(39, 94, 254, 0.3);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .trigger:hover {
        transform: translateY(-2px);
        box-shadow: 0 14px 24px rgba(39, 94, 254, 0.35);
    }

    .trigger:active {
        transform: translateY(0);
        box-shadow: 0 8px 16px rgba(39, 94, 254, 0.3);
    }

    .modal-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.45);
        display: none;
        align-items: center;
        justify-content: center;
        padding: clamp(1rem, 3vw, 2rem);
        backdrop-filter: blur(3px);
        z-index: 999;
    }

    .modal-backdrop[data-open="true"] {
        display: flex;
        animation: fadeIn 0.3s ease forwards;
    }

    .modal {
        background: #fff;
        color: #1f2933;
        max-width: 28rem;
        width: min(100%, 28rem);
        border-radius: 1rem;
        box-shadow: 0 20px 60px rgba(15, 23, 42, 0.2);
        overflow: hidden;
        transform: translateY(10px);
        opacity: 0;
        animation: slideUp 0.35s ease forwards;
    }

    @media (prefers-color-scheme: dark) {
        .modal {
            background: #101828;
            color: #e0e7ff;
        }
    }

    .modal-header {
        padding: 1.25rem 1.5rem 1rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        border-bottom: 1px solid rgba(148, 163, 184, 0.3);
    }

    .modal-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin: 0;
    }

    .modal-close {
        border: none;
        background: none;
        font-size: 1.5rem;
        line-height: 1;
        cursor: pointer;
        color: inherit;
        padding: 0.25rem;
    }

    .modal-body {
        padding: 1.5rem;
        font-size: 1rem;
        line-height: 1.5;
    }

    .modal-footer {
        padding: 1rem 1.5rem 1.5rem;
        display: flex;
        justify-content: flex-end;
        gap: 0.75rem;
        border-top: 1px solid rgba(148, 163, 184, 0.2);
    }

    .modal-footer button {
        padding: 0.6rem 1.1rem;
        border-radius: 0.5rem;
        border: none;
        cursor: pointer;
        font-size: 0.95rem;
    }

    .btn-secondary {
        background: rgba(148, 163, 184, 0.2);
        color: inherit;
    }

    .btn-primary {
        background: #275efe;
        color: #fff;
        box-shadow: 0 10px 20px rgba(39, 94, 254, 0.3);
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    @keyframes slideUp {
        from {
            transform: translateY(25px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }
</style>
</head>
<body>
<button class="trigger" type="button" aria-haspopup="dialog" aria-controls="example-modal">Open Modal</button>

<div class="modal-backdrop" role="presentation" aria-hidden="true" data-open="false" id="modal-backdrop">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-description" id="example-modal">
        <header class="modal-header">
            <h2 class="modal-title" id="modal-title">Modal Dialog Title</h2>
            <button class="modal-close" type="button" aria-label="Close modal" data-close="true">&times;</button>
        </header>
        <section class="modal-body" id="modal-description">
            <p>This is an example modal dialog component. It is closed by default and can be opened with the button labelled “Open Modal”. It includes keyboard and overlay interactions for improved accessibility.</p>
        </section>
        <footer class="modal-footer">
            <button class="btn-secondary" type="button" data-close="true">Cancel</button>
            <button class="btn-primary" type="button">Confirm</button>
        </footer>
    </div>
</div>

<script>
    (function () {
        const trigger = document.querySelector('.trigger');
        const backdrop = document.querySelector('.modal-backdrop');
        const modal = document.getElementById('example-modal');
        const focusableSelectors = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
        let previouslyFocused;

        function openModal() {
            if (!backdrop || !modal) return;
            previouslyFocused = document.activeElement;
            backdrop.dataset.open = 'true';
            backdrop.setAttribute('aria-hidden', 'false');
            const focusable = modal.querySelectorAll(focusableSelectors);
            if (focusable.length) {
                focusable[0].focus();
            }
            document.addEventListener('keydown', handleKeydown);
        }

        function closeModal() {
            if (!backdrop || !modal) return;
            backdrop.dataset.open = 'false';
            backdrop.setAttribute('aria-hidden', 'true');
            document.removeEventListener('keydown', handleKeydown);
            if (previouslyFocused && previouslyFocused.focus) {
                previouslyFocused.focus();
            }
        }

        function handleKeydown(event) {
            if (event.key === 'Escape') {
                closeModal();
            } else if (event.key === 'Tab') {
                const focusable = Array.from(modal.querySelectorAll(focusableSelectors)).filter(el => !el.hasAttribute('disabled'));
                if (!focusable.length) {
                    event.preventDefault();
                    return;
                }
                const first = focusable[0];
                const last = focusable[focusable.length - 1];

                if (event.shiftKey && document.activeElement === first) {
                    event.preventDefault();
                    last.focus();
                } else if (!event.shiftKey && document.activeElement === last) {
                    event.preventDefault();
                    first.focus();
                }
            }
        }

        trigger?.addEventListener('click', openModal);

        backdrop?.addEventListener('click', (event) => {
            if (event.target === backdrop || event.target.dataset.close === 'true') {
                closeModal();
            }
        });

        modal?.addEventListener('click', (event) => {
            if (event.target.dataset.close === 'true') {
                closeModal();
            }
        });
    })();
</script>
</body>
</html>