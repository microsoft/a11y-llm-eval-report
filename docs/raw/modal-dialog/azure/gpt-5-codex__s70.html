<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Modal Dialog Example</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      color-scheme: light dark;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: linear-gradient(135deg, #f3f4f6 0%, #d9e4ff 100%);
    }
    .trigger {
      font-size: 1rem;
      padding: 0.75rem 1.5rem;
      border-radius: 999px;
      border: none;
      background: #365df0;
      color: #fff;
      cursor: pointer;
      box-shadow: 0 10px 20px rgba(36, 66, 236, 0.25);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .trigger:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 24px rgba(36, 66, 236, 0.3);
    }
    .trigger:active {
      transform: translateY(0);
      box-shadow: 0 6px 12px rgba(36, 66, 236, 0.25);
    }
    .modal {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      visibility: hidden;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s ease;
      z-index: 1000;
    }
    .modal.is-open {
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
    .modal__overlay {
      position: absolute;
      inset: 0;
      background: rgba(21, 23, 30, 0.55);
      backdrop-filter: blur(2px);
    }
    .modal__dialog {
      position: relative;
      z-index: 1;
      width: min(90vw, 420px);
      max-height: min(80vh, 540px);
      overflow: hidden;
      background: #fff;
      color: #1c1d21;
      border-radius: 18px;
      box-shadow: 0 24px 60px rgba(21, 23, 30, 0.3);
      display: flex;
      flex-direction: column;
      transform: translateY(32px);
      transition: transform 0.25s ease;
    }
    .modal.is-open .modal__dialog {
      transform: translateY(0);
    }
    .modal__header {
      padding: 1.5rem 1.75rem 1rem;
      border-bottom: 1px solid rgba(28, 29, 33, 0.08);
    }
    .modal__title {
      margin: 0;
      font-size: 1.35rem;
      font-weight: 650;
      line-height: 1.25;
    }
    .modal__body {
      padding: 1rem 1.75rem 1.75rem;
      overflow-y: auto;
    }
    .modal__footer {
      padding: 1rem 1.75rem 1.5rem;
      border-top: 1px solid rgba(28, 29, 33, 0.08);
      display: flex;
      gap: 0.75rem;
      justify-content: flex-end;
      flex-wrap: wrap;
    }
    .modal__button {
      padding: 0.65rem 1.35rem;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-size: 0.95rem;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }
    .modal__button--primary {
      background: linear-gradient(135deg, #4057f4, #7a40f4);
      color: #fff;
      box-shadow: 0 12px 18px rgba(64, 87, 244, 0.28);
    }
    .modal__button--primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 24px rgba(64, 87, 244, 0.35);
    }
    .modal__button--ghost {
      background: rgba(64, 87, 244, 0.08);
      color: #4057f4;
    }
    .modal__button--ghost:hover {
      background: rgba(64, 87, 244, 0.16);
    }
    @media (prefers-color-scheme: dark) {
      body {
        background: radial-gradient(circle at top, #141726 0%, #080912 100%);
        color: #e8ecff;
      }
      .modal__dialog {
        background: #121421;
        color: #e8ecff;
        box-shadow: 0 28px 60px rgba(0, 0, 0, 0.6);
      }
      .modal__header,
      .modal__footer {
        border-color: rgba(255, 255, 255, 0.08);
      }
      .modal__button--ghost {
        background: rgba(131, 144, 255, 0.12);
        color: #d4daff;
      }
      .modal__button--ghost:hover {
        background: rgba(131, 144, 255, 0.2);
      }
    }
  </style>
</head>
<body>
  <button class="trigger" type="button" aria-haspopup="dialog" aria-controls="sample-modal">
    Launch Modal
  </button>

  <div class="modal" id="sample-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modal-title" aria-describedby="modal-description">
    <div class="modal__overlay" data-close-modal></div>
    <div class="modal__dialog" role="document">
      <header class="modal__header">
        <h2 class="modal__title" id="modal-title">Weekly Sync Invitation</h2>
      </header>
      <section class="modal__body" id="modal-description">
        <p>Join the product team for our weekly check-in to review sprint progress, share updates, and unblock any issues. Please take a moment to confirm whether you can attend at the scheduled time.</p>
        <ul>
          <li><strong>Date:</strong> Thursday, 10:30 AM</li>
          <li><strong>Duration:</strong> 45 minutes</li>
          <li><strong>Location:</strong> Teams Meeting (link in calendar invite)</li>
        </ul>
        <p>If you have agenda items to add, drop them in the shared doc before Wednesday evening.</p>
      </section>
      <footer class="modal__footer">
        <button class="modal__button modal__button--ghost" type="button" data-close-modal>Maybe Later</button>
        <button class="modal__button modal__button--primary" type="button" data-close-modal>Confirm Attendance</button>
      </footer>
    </div>
  </div>

  <script>
    (function () {
      const modal = document.getElementById('sample-modal');
      const trigger = document.querySelector('.trigger');
      const closeTargets = modal.querySelectorAll('[data-close-modal]');
      let lastFocusedElement = null;

      function openModal() {
        if (modal.classList.contains('is-open')) return;
        lastFocusedElement = document.activeElement;
        modal.classList.add('is-open');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        const focusable = modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        if (focusable) {
          focusable.focus();
        }
        document.addEventListener('keydown', handleKeydown);
      }

      function closeModal() {
        if (!modal.classList.contains('is-open')) return;
        modal.classList.remove('is-open');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
        if (lastFocusedElement) {
          lastFocusedElement.focus();
        }
        document.removeEventListener('keydown', handleKeydown);
      }

      function handleKeydown(event) {
        if (event.key === 'Escape') {
          closeModal();
        }
        if (event.key === 'Tab') {
          trapFocus(event);
        }
      }

      function trapFocus(event) {
        const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        if (!focusableElements.length) return;
        const first = focusableElements[0];
        const last = focusableElements[focusableElements.length - 1];

        if (event.shiftKey && document.activeElement === first) {
          event.preventDefault();
          last.focus();
        } else if (!event.shiftKey && document.activeElement === last) {
          event.preventDefault();
          first.focus();
        }
      }

      trigger.addEventListener('click', openModal);
      closeTargets.forEach((el) => el.addEventListener('click', closeModal));
    })();
  </script>
</body>
</html>