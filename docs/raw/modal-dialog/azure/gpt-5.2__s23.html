<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modal Dialog Example</title>
  <style>
    :root {
      --bg: #0b1220;
      --panel: #121a2b;
      --text: #e7eefc;
      --muted: #a7b3cc;
      --border: #26324a;
      --shadow: 0 20px 60px rgba(0,0,0,.55);
      --focus: 0 0 0 3px rgba(90, 140, 255, .45);
      --btn: #2a67ff;
      --btnText: #ffffff;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1000px 600px at 20% 10%, rgba(42,103,255,.25), transparent 60%),
                  radial-gradient(1000px 600px at 80% 30%, rgba(99, 226, 180, .18), transparent 55%),
                  var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 32px;
    }

    .card {
      width: min(720px, 100%);
      background: rgba(18, 26, 43, .75);
      border: 1px solid rgba(38, 50, 74, .8);
      border-radius: 16px;
      padding: 24px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
    }

    h1 {
      font-size: 20px;
      margin: 0 0 12px;
      letter-spacing: .2px;
    }
    p { margin: 0 0 16px; color: var(--muted); line-height: 1.5; }

    button {
      appearance: none;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.04);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
    }
    button:hover { background: rgba(255,255,255,.07); }
    button:focus-visible { outline: none; box-shadow: var(--focus); }

    .trigger {
      border-color: rgba(42, 103, 255, .7);
      background: linear-gradient(180deg, rgba(42,103,255,.95), rgba(42,103,255,.78));
      color: var(--btnText);
    }
    .trigger:hover {
      background: linear-gradient(180deg, rgba(42,103,255,1), rgba(42,103,255,.85));
    }

    dialog {
      width: min(560px, calc(100% - 28px));
      border: 1px solid rgba(38, 50, 74, .9);
      border-radius: 14px;
      padding: 0;
      background: rgba(18, 26, 43, .92);
      color: var(--text);
      box-shadow: var(--shadow);
    }
    dialog::backdrop {
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(2px);
    }

    .modal {
      display: grid;
      gap: 14px;
      padding: 18px;
    }

    .modal__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(38, 50, 74, .8);
    }
    .modal__title {
      font-size: 16px;
      margin: 0;
    }
    .modal__close {
      border-radius: 10px;
      width: 40px;
      height: 36px;
      padding: 0;
      line-height: 1;
      font-size: 18px;
    }

    .modal__body { color: var(--muted); line-height: 1.55; }
    .modal__footer {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(38, 50, 74, .8);
    }

    .primary {
      background: linear-gradient(180deg, rgba(42,103,255,.95), rgba(42,103,255,.78));
      border-color: rgba(42, 103, 255, .7);
      color: var(--btnText);
    }
    .primary:hover {
      background: linear-gradient(180deg, rgba(42,103,255,1), rgba(42,103,255,.85));
    }
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Modal dialog example</h1>
    <p>
      The dialog is closed by default. Click the button with class <code>trigger</code> to open it.
      Press <kbd>Esc</kbd> or click “Cancel” to close.
    </p>

    <button class="trigger" type="button" data-modal-open="exampleModal">
      Open modal
    </button>
  </main>

  <dialog id="exampleModal" aria-labelledby="exampleModalTitle">
    <div class="modal">
      <header class="modal__header">
        <h2 class="modal__title" id="exampleModalTitle">Example modal</h2>
        <button class="modal__close" type="button" aria-label="Close dialog" data-modal-close>×</button>
      </header>

      <div class="modal__body">
        <p style="margin:0 0 10px;">
          This is a simple modal dialog built with the native <code>&lt;dialog&gt;</code> element.
        </p>
        <p style="margin:0;">
          It traps focus while open (in supporting browsers) and can be dismissed with the Escape key.
        </p>
      </div>

      <footer class="modal__footer">
        <button type="button" data-modal-close>Cancel</button>
        <button type="button" class="primary" data-modal-close>Confirm</button>
      </footer>
    </div>
  </dialog>

  <script>
    (function () {
      const openers = document.querySelectorAll('.trigger[data-modal-open]');
      let lastFocused = null;

      function openModal(dialog) {
        if (!dialog) return;
        lastFocused = document.activeElement;
        if (typeof dialog.showModal === 'function') dialog.showModal();
        else dialog.setAttribute('open', '');
        const focusTarget = dialog.querySelector('[data-autofocus], button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        if (focusTarget) focusTarget.focus();
      }

      function closeModal(dialog) {
        if (!dialog) return;
        if (typeof dialog.close === 'function') dialog.close();
        else dialog.removeAttribute('open');
        if (lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
      }

      openers.forEach(btn => {
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('data-modal-open');
          const dialog = document.getElementById(id);
          openModal(dialog);
        });
      });

      document.addEventListener('click', (e) => {
        const closeBtn = e.target.closest('[data-modal-close]');
        if (!closeBtn) return;
        const dialog = closeBtn.closest('dialog');
        closeModal(dialog);
      });

      document.querySelectorAll('dialog').forEach(dialog => {
        dialog.addEventListener('click', (e) => {
          const rect = dialog.getBoundingClientRect();
          const inDialog =
            e.clientX >= rect.left && e.clientX <= rect.right &&
            e.clientY >= rect.top && e.clientY <= rect.bottom;
          if (!inDialog) closeModal(dialog);
        });

        dialog.addEventListener('cancel', (e) => {
          e.preventDefault();
          closeModal(dialog);
        });
      });
    })();
  </script>
</body>
</html>