<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopEase — Home</title>
  <meta name="description" content="ShopEase — Popular items, daily deals, and shopping tips. Discover great prices and curated products." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0ea5a4;
      --accent-2:#0b7285;
      --danger:#ef4444;
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 6px 18px rgba(15,23,42,0.08);
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: light;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#eef3f8 60%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      color:#0f1724;
      line-height:1.35;
      font-size:15px;
    }
    header{
      position:sticky;
      top:0;
      z-index:50;
      backdrop-filter: blur(6px);
      background:rgba(255,255,255,0.7);
      border-bottom:1px solid rgba(15,23,42,0.04);
    }
    .container{
      width:100%;
      max-width:1200px;
      margin:0 auto;
      padding:18px;
      display:flex;
      gap:18px;
      align-items:center;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      font-weight:700;
      font-size:18px;
      text-decoration:none;
      color:inherit;
    }
    .logo{
      width:44px;
      height:44px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:inline-grid;
      place-items:center;
      color:white;
      font-weight:800;
      box-shadow:var(--shadow);
      flex-shrink:0;
    }
    nav{margin-left:12px; display:flex; gap:12px; align-items:center; flex:1}
    .nav-links{display:flex; gap:8px; align-items:center; color:var(--muted)}
    .nav-links a{padding:8px 10px; border-radius:8px; text-decoration:none; font-weight:500; color:var(--muted)}
    .nav-links a:hover{background:rgba(14,165,164,0.06); color:var(--accent-2)}
    .search{
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      padding:8px;
      border-radius:12px;
      box-shadow:var(--shadow);
      flex:1;
      max-width:520px;
    }
    .search input{
      border:0;
      outline:none;
      font-size:14px;
      padding:8px;
      background:transparent;
      width:100%;
    }
    .actions{display:flex; gap:8px; align-items:center}
    .icon-btn{
      border:0;
      background:transparent;
      padding:8px;
      border-radius:10px;
      display:inline-grid;
      place-items:center;
      cursor:pointer;
      color:var(--muted);
    }
    .icon-btn:hover{background:rgba(15,23,42,0.03); color:var(--accent-2)}
    .cart-bubble{
      background:var(--danger);
      color:white;
      font-size:12px;
      padding:3px 6px;
      border-radius:999px;
      margin-left:6px;
      display:inline-block;
      min-width:24px;
      text-align:center;
    }

    main{max-width:1200px;margin:18px auto;padding:0 18px 80px}

    .hero{
      display:grid;
      grid-template-columns:1fr 420px;
      gap:22px;
      align-items:stretch;
      margin-top:8px;
    }
    .hero-card{
      background:linear-gradient(180deg,white, #f8fdfe);
      border-radius:14px;
      padding:28px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    .hero h1{margin:0;font-size:28px;line-height:1.05}
    .hero p{margin:0;color:var(--muted)}
    .cta-row{display:flex; gap:12px; align-items:center}
    .btn{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:white;
      border:0;
      padding:10px 16px;
      border-radius:12px;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 8px 20px rgba(14,165,164,0.18);
    }
    .btn.secondary{
      background:transparent;
      color:var(--accent-2);
      border:1px solid rgba(11,114,133,0.08);
      box-shadow:none;
    }
    .hero-aside{
      position:relative;
      background:linear-gradient(180deg,#fff,#f6fffe);
      border-radius:14px;
      padding:18px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:12px;
      justify-content:center;
      align-items:center;
    }
    .hero-aside img{width:100%;height:220px;object-fit:cover;border-radius:10px}

    /* Sections */
    section{margin-top:22px}
    section header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    section header h2{margin:0;font-size:18px}
    section header a{color:var(--accent-2); text-decoration:none; font-weight:600}

    .grid{
      display:grid;
      gap:14px;
    }
    .products.grid{grid-template-columns:repeat(4,1fr)}
    .deals.grid{grid-template-columns:repeat(3,1fr)}
    .blogs.grid{grid-template-columns:repeat(3,1fr)}

    .card{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:10px;
      overflow:hidden;
    }
    .product-image{
      width:100%;
      height:160px;
      border-radius:8px;
      object-fit:cover;
      background:linear-gradient(180deg,#eef9f9,#f6f9fb);
    }
    .price-row{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
    .price{font-weight:800}
    .old{color:var(--muted); text-decoration:line-through; font-size:13px}
    .rating{color:#f59e0b; font-weight:700}
    .card-footer{display:flex;gap:8px}
    .ghost-btn{flex:1;padding:8px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);background:transparent;cursor:pointer}
    .wishlist{background:transparent;border:0;color:var(--muted);cursor:pointer;padding:8px;border-radius:8px}
    .wishlist.active{color:#ef4444}
    .tag{display:inline-block;background:linear-gradient(90deg,#fef3c7,#fee2e2);padding:6px 8px;border-radius:999px;font-size:12px;font-weight:700;color:#92400e}

    /* Deal special */
    .deal-large{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .deal-large img{width:160px;height:120px;border-radius:10px;object-fit:cover}
    .countdown{font-weight:800;color:var(--accent-2);font-size:18px}

    /* Blog */
    .blog-excerpt{color:var(--muted);font-size:14px;line-height:1.4}
    .readmore{color:var(--accent-2);font-weight:700;text-decoration:none}

    /* Toast */
    .toast{
      position:fixed;
      right:18px;
      bottom:18px;
      background:linear-gradient(90deg,#0ea5a4,#0b7285);
      color:white;
      padding:12px 16px;
      border-radius:12px;
      box-shadow:0 10px 30px rgba(11,114,133,0.14);
      display:none;
      z-index:9999;
    }

    /* Responsive */
    @media (max-width:1000px){
      .products.grid{grid-template-columns:repeat(3,1fr)}
      .deals.grid{grid-template-columns:repeat(2,1fr)}
      .blogs.grid{grid-template-columns:repeat(2,1fr)}
      .hero{grid-template-columns:1fr}
      .hero-aside{order:2}
    }
    @media (max-width:700px){
      .container{padding:12px}
      nav{display:none}
      .search{max-width:unset;flex:1}
      .products.grid{grid-template-columns:repeat(2,1fr)}
      .deals.grid{grid-template-columns:repeat(1,1fr)}
      .blogs.grid{grid-template-columns:repeat(1,1fr)}
      .hero-card{padding:18px}
      header .brand{gap:8px}
      .logo{width:38px;height:38px}
    }
  </style>
</head>
<body>
  <header role="banner" aria-label="Main header">
    <div class="container" role="navigation" aria-label="Top navigation">
      <a class="brand" href="#" aria-label="ShopEase home">
        <div class="logo" aria-hidden="true">SE</div>
        <span>ShopEase</span>
      </a>

      <nav aria-label="Primary">
        <div class="nav-links" role="menubar" aria-label="Main menu">
          <a href="#" role="menuitem">Home</a>
          <a href="#" role="menuitem">Shop</a>
          <a href="#" role="menuitem">Deals</a>
          <a href="#" role="menuitem">Blog</a>
        </div>
      </nav>

      <div class="search" role="search" aria-label="Site search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 21l-4.35-4.35" stroke="#94a3b8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="11" cy="11" r="6" stroke="#94a3b8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input id="searchInput" type="search" placeholder="Search products, categories..." aria-label="Search products" />
        <button class="btn secondary" id="searchBtn" aria-label="Search button">Search</button>
      </div>

      <div class="actions">
        <button class="icon-btn" aria-label="Account" title="Account">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <button class="icon-btn" id="cartBtn" aria-label="Cart" title="Cart">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6h15l-1.5 9h-12L6 6z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round"/>
            <circle cx="9" cy="20" r="1" fill="currentColor"/>
            <circle cx="19" cy="20" r="1" fill="currentColor"/>
          </svg>
          <span class="cart-bubble" id="cartCount" aria-live="polite">0</span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-card" aria-labelledby="hero-title">
        <div>
          <h1 id="hero-title">Find everything you love — great prices, fast delivery.</h1>
          <p>Curated picks, daily deals, and guides to help you shop smarter. Free shipping on orders over $49.</p>
        </div>
        <div class="cta-row" role="group" aria-label="Hero actions">
          <button class="btn" id="shopNow">Shop Now</button>
          <button class="btn secondary" id="exploreDeals">Explore Deals</button>
          <div style="margin-left:auto;color:var(--muted)">Trusted by thousands</div>
        </div>

        <div style="display:flex;gap:12px;margin-top:8px;flex-wrap:wrap">
          <div class="tag" aria-hidden="true">Free returns</div>
          <div class="tag" aria-hidden="true">Secure payments</div>
          <div class="tag" aria-hidden="true">24/7 support</div>
        </div>
      </div>

      <aside class="hero-aside" aria-label="Featured">
        <img src="https://images.unsplash.com/photo-1612448152809-2b8f9d1e8b0b?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=3a92e7f8203d7b1e2b2f8838f0c6e8ad" alt="Featured gadget on sale" loading="lazy">
        <div style="text-align:center">
          <div style="font-weight:800;font-size:16px">Weekend Gadget Drop</div>
          <div style="color:var(--muted)">Up to 30% off selected tech — limited stock</div>
        </div>
      </aside>
    </section>

    <section aria-labelledby="popular-title" id="popular">
      <header>
        <h2 id="popular-title">Popular Items</h2>
        <a href="#" aria-label="View all popular items">View all</a>
      </header>

      <div style="display:flex;gap:12px;margin-bottom:12px;align-items:center">
        <div style="color:var(--muted)">Filter:</div>
        <button class="ghost-btn" onclick="filterCategory('all')">All</button>
        <button class="ghost-btn" onclick="filterCategory('electronics')">Electronics</button>
        <button class="ghost-btn" onclick="filterCategory('home')">Home</button>
        <button class="ghost-btn" onclick="filterCategory('fashion')">Fashion</button>
      </div>

      <div class="grid products" id="productGrid" role="list" aria-live="polite">
        <!-- product cards populated by JS -->
      </div>
    </section>

    <section aria-labelledby="deals-title" id="deals">
      <header>
        <h2 id="deals-title">Deals of the Day</h2>
        <a href="#" aria-label="See all deals">See all</a>
      </header>

      <div class="grid deals" id="dealsGrid" role="list">
        <!-- deals populated by JS -->
      </div>
    </section>

    <section aria-labelledby="blog-title" id="blog">
      <header>
        <h2 id="blog-title">From the Blog</h2>
        <a href="#" aria-label="Visit blog">Read more</a>
      </header>

      <div class="grid blogs" id="blogGrid" role="list">
        <!-- blogs populated by JS -->
      </div>
    </section>

    <div style="display:flex;gap:18px;margin-top:24px;align-items:center;flex-wrap:wrap;background:linear-gradient(90deg,#fff,#f7fffe);padding:18px;border-radius:12px;box-shadow:var(--shadow)">
      <div style="flex:1">
        <strong>Newsletter</strong>
        <div style="color:var(--muted)">Get exclusive offers and shopping tips delivered weekly.</div>
      </div>
      <form id="newsletter" style="display:flex;gap:8px;align-items:center" aria-label="Newsletter sign up">
        <input type="email" id="emailInput" placeholder="Your email address" required style="padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);width:280px">
        <button class="btn" type="submit">Subscribe</button>
      </form>
    </div>

  </main>

  <footer style="background:#071627;color:white;padding:28px 18px">
    <div class="container" style="align-items:flex-start;gap:24px;flex-wrap:wrap">
      <div style="flex:1;min-width:220px">
        <div style="display:flex;gap:12px;align-items:center;margin-bottom:8px">
          <div class="logo" style="width:44px;height:44px;font-size:16px">SE</div>
          <div>
            <strong>ShopEase</strong>
            <div style="color:rgba(255,255,255,0.7);font-size:13px">Smart shopping made simple.</div>
          </div>
        </div>
        <div style="color:rgba(255,255,255,0.7);font-size:13px">© <span id="year"></span> ShopEase Inc.</div>
      </div>

      <div style="display:flex;gap:36px;flex-wrap:wrap">
        <div>
          <strong>Company</strong>
          <ul style="list-style:none;padding:0;margin:8px 0 0;color:rgba(255,255,255,0.7)">
            <li><a href="#" style="color:inherit;text-decoration:none">About</a></li>
            <li><a href="#" style="color:inherit;text-decoration:none">Careers</a></li>
            <li><a href="#" style="color:inherit;text-decoration:none">Press</a></li>
          </ul>
        </div>

        <div>
          <strong>Help</strong>
          <ul style="list-style:none;padding:0;margin:8px 0 0;color:rgba(255,255,255,0.7)">
            <li><a href="#" style="color:inherit;text-decoration:none">Support</a></li>
            <li><a href="#" style="color:inherit;text-decoration:none">Shipping</a></li>
            <li><a href="#" style="color:inherit;text-decoration:none">Returns</a></li>
          </ul>
        </div>
      </div>

      <div style="margin-left:auto;min-width:200px">
        <strong>Follow us</strong>
        <div style="display:flex;gap:8px;margin-top:8px">
          <a href="#" aria-label="Twitter" style="color:inherit">Twitter</a>
          <a href="#" aria-label="Facebook" style="color:inherit">Facebook</a>
          <a href="#" aria-label="Instagram" style="color:inherit">Instagram</a>
        </div>
      </div>
    </div>
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite">Added to cart</div>

  <script>
    // Sample data
    const products = [
      {id:1,name:'Wireless Noise-Canceling Headphones',category:'electronics',price:129.99,old:199.00,rate:4.7,img:'https://images.unsplash.com/photo-1518444021914-cd20a7a91f6f?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=6bf358e99cf6acdf38820d4fa1d4d6ab'},
      {id:2,name:'Compact Espresso Machine',category:'home',price:89.99,old:149.99,rate:4.5,img:'https://images.unsplash.com/photo-1511920170033-f8396924c348?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=4b6efe8b9fb2f8b0e467d83f4a6cfc0b'},
      {id:3,name:'Smartwatch with Health Tracking',category:'electronics',price:149.00,old:199.00,rate:4.6,img:'https://images.unsplash.com/photo-1525441790828-6e7a3f858c27?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=3b1c1e2f44367b11dfc42d9d7cbc1c5a'},
      {id:4,name:'Sleek Leather Wallet',category:'fashion',price:29.99,old:49.99,rate:4.3,img:'https://images.unsplash.com/photo-1520975910095-8d6b9b3fa9f8?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=756c4e3b1ecc5f77f9f62a4bb0f1b538'},
      {id:5,name:'Air Purifier for Home',category:'home',price:79.00,old:129.00,rate:4.4,img:'https://images.unsplash.com/photo-1582719478250-1b37b12b8a5a?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=5f0627f28c10dfd7fd6e55bb03baf1d5'},
      {id:6,name:'Performance Running Shoes',category:'fashion',price:59.99,old:89.99,rate:4.6,img:'https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=8e6d1d9b2f8ec2a3a4ed9f6b9b1c4f0a'},
      {id:7,name:'4K Smart TV 43"',category:'electronics',price:299.00,old:399.00,rate:4.5,img:'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=c8bdb8c2dfec3f9f5a2d1f6e8b4b6c53'},
      {id:8,name:'Bamboo Cutting Board Set',category:'home',price:19.99,old:29.99,rate:4.2,img:'https://images.unsplash.com/photo-1544025162-d76694265947?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=2ac8da8a2c6a9f6f3d8b5b6d9d3f5e4b'}
    ];

    const deals = [
      {id:'d1',title:'Robot Vacuum — Flash Sale',price:159.99,old:249.99,img:'https://images.unsplash.com/photo-1560347876-aeef00ee58a1?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1b5b4b8f96a8d2b4e5f9a2d3c5b3a0f2',endsInHours:24},
      {id:'d2',title:'Convertible Laptop Stand',price:29.99,old:49.99,img:'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=c8bdb8c2dfec3f9f5a2d1f6e8b4b6c53',endsInHours:40},
      {id:'d3',title:'Noise-Isolating Earbuds',price:39.99,old:79.99,img:'https://images.unsplash.com/photo-1523473827532-8b36b5ca3e0c?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=3ad85ad2cf6bb9f8cc5a3f2f7d1b6dde',endsInHours:10}
    ];

    const blogs = [
      {id:'b1',title:'10 Ways to Save on Tech',excerpt:'From refurbished picks to seasonal deals, learn how to cut costs when buying electronics.',img:'https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=2f8d8b4b2e9d0c3d4f6b7c9a1d3e2f4a'},
      {id:'b2',title:'How to Style Minimalist Outfits',excerpt:'Capsule wardrobes and versatile pieces that mix and match effortlessly.',img:'https://images.unsplash.com/photo-1503342452485-86f7f9b9aa9b?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=6f5f2c4b3a1d8e9b0c2a6f4e1d7c8b9a'},
      {id:'b3',title:'Kitchen Tools Every Home Needs',excerpt:'Top essentials for efficient meal prep and long-lasting performance.',img:'https://images.unsplash.com/photo-1517685352821-92cf88aee5a5?q=60&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=9ad3e2b4c1b5a7c8d6e3f4b2a1c0d9f8'}
    ];

    // Utilities
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

    // Populate products
    const productGrid = $('#productGrid');
    function renderProducts(list){
      productGrid.innerHTML = '';
      list.forEach(p=>{
        const card = document.createElement('article');
        card.className='card';
        card.setAttribute('role','listitem');
        card.innerHTML = `
          <img class="product-image" src="${p.img}" alt="${p.name}" loading="lazy">
          <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:8px">
            <div style="flex:1">
              <div style="font-weight:700">${p.name}</div>
              <div style="color:var(--muted);font-size:13px;margin-top:6px">Category: ${p.category}</div>
            </div>
            <button class="wishlist" aria-label="Add to wishlist" data-id="${p.id}" title="Wishlist">♡</button>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="price">$${p.price.toFixed(2)} <span class="old">$${p.old.toFixed(2)}</span></div>
              <div class="rating" aria-label="${p.rate} out of 5">${'★'.repeat(Math.round(p.rate))} <span style="color:var(--muted);font-weight:600;color:var(--muted);font-size:13px">(${p.rate})</span></div>
            </div>
          </div>
          <div class="card-footer" role="group" aria-label="Product actions">
            <button class="btn" onclick="addToCart(${p.id})">Add to cart</button>
            <button class="ghost-btn" onclick="quickView(${p.id})">Quick view</button>
          </div>
        `;
        productGrid.appendChild(card);
      });
      // attach wishlist handlers
      $$('.wishlist', productGrid).forEach(btn=>{
        btn.addEventListener('click', e=>{
          btn.classList.toggle('active');
          btn.textContent = btn.classList.contains('active') ? '♥' : '♡';
          btn.setAttribute('aria-pressed', btn.classList.contains('active'));
        });
      });
    }

    // Initial render
    renderProducts(products);

    // Cart logic
    let cartCount = 0;
    const cartCountEl = $('#cartCount');
    const toast = $('#toast');
    function addToCart(id){
      cartCount++;
      cartCountEl.textContent = cartCount;
      showToast('Added to cart');
    }
    function showToast(text){
      toast.textContent = text;
      toast.style.display='block';
      toast.style.opacity=1;
      setTimeout(()=> {
        toast.style.opacity=0;
        setTimeout(()=> toast.style.display='none',300);
      },1800);
    }

    // Quick view (simple)
    function quickView(id){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      showToast(p.name + ' — Quick view opened');
    }

    // Deals
    const dealsGrid = $('#dealsGrid');
    function renderDeals(){
      dealsGrid.innerHTML = '';
      deals.forEach(d=>{
        const card = document.createElement('article');
        card.className='card';
        card.setAttribute('role','listitem');
        const endsAt = Date.now() + d.endsInHours * 3600000;
        card.innerHTML = `
          <div style="display:flex;gap:12px;align-items:center">
            <img src="${d.img}" alt="${d.title}" loading="lazy" style="width:110px;height:80px;border-radius:8px;object-fit:cover">
            <div style="flex:1">
              <div style="font-weight:800">${d.title}</div>
              <div style="color:var(--muted);font-size:13px">Hurry — ends soon</div>
            </div>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div class="price">$${d.price.toFixed(2)} <span class="old">$${d.old.toFixed(2)}</span></div>
            </div>
            <div style="text-align:right">
              <div class="countdown" data-ends="${endsAt}">--:--:--</div>
              <button class="btn" style="margin-top:8px" onclick="addToCartDeal('${d.id}')">Buy now</button>
            </div>
          </div>
        `;
        dealsGrid.appendChild(card);
      });
      startCountdowns();
    }
    function addToCartDeal(id){
      const d = deals.find(x=>x.id===id);
      addToCart(0);
      showToast(d.title + ' added to cart');
    }

    // Countdown
    function startCountdowns(){
      function format(ms){ // ms remaining
        if(ms<=0) return '00:00:00';
        const s = Math.floor(ms/1000)%60;
        const m = Math.floor(ms/60000)%60;
        const h = Math.floor(ms/3600000);
        return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
      }
      clearInterval(window.__dealInterval);
      window.__dealInterval = setInterval(()=>{
        $$('.countdown').forEach(el=>{
          const ends = Number(el.dataset.ends);
          const now = Date.now();
          el.textContent = format(ends-now);
        });
      },1000);
    }

    // Blog render
    const blogGrid = $('#blogGrid');
    function renderBlogs(){
      blogGrid.innerHTML='';
      blogs.forEach(b=>{
        const card = document.createElement('article');
        card.className='card';
        card.setAttribute('role','listitem');
        card.innerHTML = `
          <img src="${b.img}" alt="${b.title}" loading="lazy" style="height:140px;border-radius:8px;object-fit:cover">
          <div style="font-weight:800">${b.title}</div>
          <div class="blog-excerpt">${b.excerpt}</div>
          <a href="#" class="readmore" aria-label="Read article ${b.title}">Read article →</a>
        `;
        blogGrid.appendChild(card);
      });
    }

    // Filters & search
    function filterCategory(cat){
      if(cat==='all') renderProducts(products);
      else renderProducts(products.filter(p=>p.category===cat));
    }

    $('#searchBtn').addEventListener('click', ()=>{
      const q = $('#searchInput').value.trim().toLowerCase();
      if(!q){ renderProducts(products); return; }
      const res = products.filter(p=> p.name.toLowerCase().includes(q) || p.category.toLowerCase().includes(q));
      renderProducts(res);
    });
    $('#searchInput').addEventListener('keydown', (e)=>{
      if(e.key==='Enter'){ $('#searchBtn').click(); }
    });

    // Newsletter
    $('#newsletter').addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = $('#emailInput').value.trim();
      if(!email){ showToast('Please enter a valid email'); return; }
      showToast('Subscribed — check your inbox!');
      $('#emailInput').value='';
    });

    // CTA actions
    $('#shopNow').addEventListener('click', ()=>{ window.location='#popular'; });
    $('#exploreDeals').addEventListener('click', ()=>{ window.location='#deals'; });

    // Set year
    $('#year').textContent = new Date().getFullYear();

    // Initialize
    renderDeals();
    renderBlogs();

    // Accessibility: reduce motion respects
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if(prefersReduced){
      document.querySelectorAll('*').forEach(el=> el.style.transition='none');
    }

    // Keyboard shortcut: press "f" to focus search
    window.addEventListener('keydown', e=>{
      if(e.key.toLowerCase()==='f' && document.activeElement.tagName!=='INPUT' && document.activeElement.tagName!=='TEXTAREA'){
        e.preventDefault();
        $('#searchInput').focus();
      }
    });

    // Simple lazy load fallback (images already use loading=lazy)
    if('loading' in HTMLImageElement.prototype === false){
      // Could polyfill if needed - skipped for brevity
    }
  </script>
</body>
</html>