<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>MarketLane — Home</title>
  <meta name="description" content="Discover top products, limited-time deals, and insightful blog posts on MarketLane — your destination for smart shopping.">
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0ea5a4;
      --accent-2:#064e3b;
      --danger:#ef4444;
      --glass: rgba(255,255,255,0.8);
      --max-width:1100px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#eef2f7);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      padding-bottom:60px;
    }
    .container{max-width:var(--max-width);margin-inline:auto;padding:20px}
    header.site-header{display:flex;align-items:center;gap:18px;padding:18px 0}
    .logo{display:flex;align-items:center;gap:12px;font-weight:700;font-size:1.15rem;color:var(--accent-2)}
    .logo .mark{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,#06b6d4,#064e3b);display:inline-grid;place-items:center;color:white;font-weight:800}
    nav.main-nav{margin-left:auto;display:flex;gap:12px;align-items:center}
    nav.main-nav a{color:var(--muted);text-decoration:none;font-size:0.95rem;padding:8px 10px;border-radius:8px}
    nav.main-nav a:hover{background:var(--glass)}
    .search-bar{display:flex;align-items:center;gap:8px;padding:8px;background:var(--card);border-radius:10px;box-shadow:0 1px 4px rgba(16,24,40,0.05);border:1px solid rgba(16,24,40,0.03)}
    .search-bar input{border:0;outline:0;padding:8px 6px;background:transparent;width:260px}
    .icon-btn{background:transparent;border:0;padding:8px;border-radius:8px;cursor:pointer}
    .cart{position:relative}
    .cart .count{position:absolute;right:4px;top:4px;background:var(--danger);color:white;font-size:0.75rem;padding:2px 6px;border-radius:999px}
    .hero{display:flex;gap:20px;align-items:stretch;margin:18px 0;padding:22px;border-radius:14px;background:linear-gradient(90deg,#ffffff,#f8fdff);box-shadow:0 6px 18px rgba(2,6,23,0.06);overflow:hidden}
    .hero-left{flex:1;min-width:220px;padding:6px 10px}
    .hero h1{margin:6px 0 8px;font-size:1.6rem}
    .hero p{margin:0;color:var(--muted)}
    .hero-cta{margin-top:14px;display:flex;gap:10px}
    .btn{background:var(--accent);color:white;padding:10px 14px;border-radius:10px;border:0;cursor:pointer}
    .btn.ghost{background:transparent;color:var(--accent-2);border:1px solid rgba(6,78,59,0.08)}
    .hero-right{width:320px;display:grid;place-items:center}
    .banner-card{width:260px;height:140px;border-radius:12px;background:linear-gradient(135deg,#0ea5a4,#064e3b);color:#fff;padding:14px;box-shadow:0 10px 30px rgba(6,46,40,0.15)}
    .section{margin-top:28px}
    .section h2{margin:0 0 12px;font-size:1.15rem}
    .grid{display:grid;gap:14px}
    .grid.products{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}
    .product{background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(2,6,23,0.04);display:flex;flex-direction:column;gap:8px}
    .product img{width:100%;height:140px;object-fit:cover;border-radius:8px}
    .price-row{display:flex;justify-content:space-between;align-items:center;font-weight:700}
    .muted{color:var(--muted);font-size:0.9rem}
    .tags{display:flex;gap:8px;flex-wrap:wrap}
    .tag{background:#eef2f7;padding:6px 8px;border-radius:999px;font-size:0.78rem;color:var(--accent-2)}
    .product .meta{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .product button{padding:8px;border-radius:8px;border:0;background:linear-gradient(90deg,#06b6d4,#0ea5a4);color:white;cursor:pointer}
    .deals-row{display:flex;gap:12px;overflow:auto;padding-bottom:6px}
    .deal{min-width:220px;background:linear-gradient(180deg,#fff7ed,#fff);padding:12px;border-radius:12px;border:1px solid rgba(16,24,40,0.03)}
    .deal .price{font-weight:800;color:var(--accent-2);font-size:1.05rem}
    .countdown{background:#fff1f2;color:var(--danger);padding:6px;border-radius:8px;font-weight:600;display:inline-block}
    .blog-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:14px}
    .post{background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(16,24,40,0.03);display:flex;flex-direction:column;gap:8px}
    .post img{width:100%;height:130px;object-fit:cover;border-radius:8px}
    footer{margin-top:40px;padding:24px 0;border-top:1px solid rgba(2,6,23,0.04);color:var(--muted)}
    .footer-grid{display:flex;gap:18px;flex-wrap:wrap;align-items:center}
    .newsletter{display:flex;gap:8px}
    .newsletter input{padding:10px;border-radius:10px;border:1px solid rgba(2,6,23,0.06)}
    .mini{font-size:0.85rem;color:var(--muted)}
    /* responsive */
    @media (max-width:880px){
      .hero{flex-direction:column}
      .hero-right{width:100%}
      .search-bar input{width:140px}
    }
    @media (max-width:520px){
      .grid.products{grid-template-columns:repeat(2,1fr)}
      nav.main-nav{display:none}
    }
    /* simple focus styles */
    a:focus,button:focus,input:focus{outline:3px solid rgba(6,78,59,0.08);outline-offset:2px}
    /* scroll snap for deals */
    .deals-row{scroll-snap-type:x mandatory}
    .deal{scroll-snap-align:center}
    .no-results{padding:18px;background:#fff4f2;border-radius:10px;color:var(--muted);text-align:center}
    /* product rating */
    .rating{color:#f59e0b;font-weight:700;font-size:0.9rem}
    /* modal */
    .modal{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;padding:20px}
    .modal.show{display:flex}
    .modal-card{width:100%;max-width:760px;background:var(--card);border-radius:12px;padding:18px;display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .modal-card img{width:100%;height:320px;object-fit:cover;border-radius:10px}
    .close-btn{background:transparent;border:0;font-size:1.1rem;padding:6px 10px;cursor:pointer;color:var(--muted)}
    @media (max-width:720px){
      .modal-card{grid-template-columns:1fr}
      .modal-card img{height:220px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="site-header" role="banner">
      <div class="logo" aria-label="MarketLane">
        <div class="mark">ML</div>
        <div>
          MarketLane
          <div style="font-size:0.8rem;color:var(--muted);font-weight:500">Shop smarter</div>
        </div>
      </div>

      <div class="search-bar" role="search" aria-label="Product search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="#6b7280" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#6b7280" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <input id="searchInput" type="search" placeholder="Search products, brands..." aria-label="Search products">
        <button class="icon-btn" id="clearSearch" title="Clear search" aria-hidden>✕</button>
      </div>

      <nav class="main-nav" role="navigation" aria-label="Main navigation">
        <a href="#popular">Popular</a>
        <a href="#deals">Deals</a>
        <a href="#blog">Blog</a>
        <a href="#support">Support</a>
      </nav>

      <div style="display:flex;align-items:center;gap:8px;margin-left:12px">
        <button class="icon-btn" title="Account" aria-label="Account">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="#0f172a" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke="#0f172a" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <div class="cart" aria-live="polite" aria-atomic="true">
          <button id="cartBtn" class="icon-btn" title="View cart" aria-label="Cart">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M6 6h15l-1.5 9h-11z" stroke="#0f172a" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 6L4 2H2" stroke="#0f172a" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <div id="cartCount" class="count" style="display:none">0</div>
        </div>
      </div>
    </header>

    <section class="hero" role="region" aria-label="Hero">
      <div class="hero-left">
        <h1>Welcome to MarketLane — Find the items you love</h1>
        <p>Curated picks, exclusive deals, and helpful guides — all in one place. Shop with confidence and save more every day.</p>
        <div class="hero-cta">
          <button class="btn" id="shopNow">Shop Now</button>
          <button class="btn ghost" onclick="document.getElementById('deals').scrollIntoView({behavior:'smooth'})">View Deals</button>
        </div>
        <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
          <div class="tag">Free shipping over $50</div>
          <div class="tag">30-day returns</div>
        </div>
      </div>
      <div class="hero-right" aria-hidden="false">
        <div class="banner-card" role="img" aria-label="Spring collection banner">
          <div style="display:flex;justify-content:space-between;align-items:flex-start">
            <div>
              <div style="font-size:0.9rem;opacity:0.95">Spring picks</div>
              <div style="font-size:1.25rem;font-weight:800;margin-top:8px">Up to 45% off</div>
            </div>
            <div style="text-align:right;font-size:0.9rem;opacity:0.9">Limited time</div>
          </div>
          <div style="margin-top:14px;color:rgba(255,255,255,0.95)">Trending now: eco-friendly and everyday essentials.</div>
        </div>
      </div>
    </section>

    <main>
      <section id="popular" class="section" aria-labelledby="popular-heading">
        <h2 id="popular-heading">Popular items</h2>
        <div class="grid products" id="productsGrid">
          <article class="product" data-name="Wireless Headphones" data-tags="audio,electronics,headphones" data-price="89" data-desc="Comfortable over-ear wireless headphones with active noise cancellation." tabindex="0">
            <img loading="lazy" src="https://images.unsplash.com/photo-1518444028551-3d9a2d2b3a5a?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=6d2d04f6f6a9f8b2a2d9f1f0a7c3e0d4" alt="Wireless headphones on table">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:700">Wireless Headphones</div>
              <div class="rating" aria-hidden>4.6★</div>
            </div>
            <div class="muted">Brand: Soundly</div>
            <div class="meta">
              <div class="price-row"><div style="font-size:1rem;color:var(--accent-2)">$89</div><div class="muted">Free ship</div></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:auto">
              <button class="detail-btn" aria-label="View Wireless Headphones">View</button>
              <button class="add-btn" aria-label="Add Wireless Headphones to cart">Add to cart</button>
            </div>
          </article>

          <article class="product" data-name="Smart Thermostat" data-tags="home,smart,thermostat" data-price="129" data-desc="Smart thermostat that learns your schedule and helps reduce energy costs." tabindex="0">
            <img loading="lazy" src="https://images.unsplash.com/photo-1600185366343-8572b4d51f17?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=1f2e7c9b9f8a1a4d2e4b6e9f7a1c3b5e" alt="Smart thermostat on wall">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:700">Smart Thermostat</div>
              <div class="rating">4.4★</div>
            </div>
            <div class="muted">Brand: HomeIQ</div>
            <div class="meta">
              <div class="price-row"><div style="font-size:1rem;color:var(--accent-2)">$129</div><div class="muted">Save $20</div></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:auto">
              <button class="detail-btn">View</button>
              <button class="add-btn">Add to cart</button>
            </div>
          </article>

          <article class="product" data-name="Ceramic Mug Set" data-tags="kitchen,home,mugs" data-price="24" data-desc="Set of four handcrafted ceramic mugs — dishwasher safe." tabindex="0">
            <img loading="lazy" src="https://images.unsplash.com/photo-1524594154900-8c5e8b3a1f9d?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=92aa7fbf3f2a1df3f2d9c8b1f1a3b4c5" alt="Ceramic mug set">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:700">Ceramic Mug Set</div>
              <div class="rating">4.8★</div>
            </div>
            <div class="muted">Brand: Hearth</div>
            <div class="meta">
              <div class="price-row"><div style="font-size:1rem;color:var(--accent-2)">$24</div><div class="muted">Bestseller</div></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:auto">
              <button class="detail-btn">View</button>
              <button class="add-btn">Add to cart</button>
            </div>
          </article>

          <article class="product" data-name="Running Sneakers" data-tags="shoes,fitness,running" data-price="75" data-desc="Lightweight running shoes with breathable mesh and responsive cushioning." tabindex="0">
            <img loading="lazy" src="https://images.unsplash.com/photo-1528701800489-4767d7c4fd0d?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=9b3b9e2f9f4d6a1f7b8c3d4f6a2e8b5c" alt="Pair of running sneakers">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:700">Running Sneakers</div>
              <div class="rating">4.5★</div>
            </div>
            <div class="muted">Brand: PacePro</div>
            <div class="meta">
              <div class="price-row"><div style="font-size:1rem;color:var(--accent-2)">$75</div><div class="muted">Limited</div></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:auto">
              <button class="detail-btn">View</button>
              <button class="add-btn">Add to cart</button>
            </div>
          </article>

          <article class="product" data-name="Bluetooth Speaker" data-tags="audio,portable,speaker" data-price="49" data-desc="Compact waterproof speaker with 12-hour battery life." tabindex="0">
            <img loading="lazy" src="https://images.unsplash.com/photo-1516728778615-2d590ea1856f?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=3f6f7b4a9b1d6e4a2b8f9a3c4d5e6f7a" alt="Portable Bluetooth speaker">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:700">Bluetooth Speaker</div>
              <div class="rating">4.3★</div>
            </div>
            <div class="muted">Brand: Roam</div>
            <div class="meta">
              <div class="price-row"><div style="font-size:1rem;color:var(--accent-2)">$49</div><div class="muted">New</div></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:auto">
              <button class="detail-btn">View</button>
              <button class="add-btn">Add to cart</button>
            </div>
          </article>

          <article class="product" data-name="Yoga Mat" data-tags="fitness,yoga,exercise" data-price="29" data-desc="Eco-friendly non-slip yoga mat, 6mm cushion for comfort." tabindex="0">
            <img loading="lazy" src="https://images.unsplash.com/photo-1599058917219-4ad4e072b0b6?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=c828b96f0d2f0a5b1f7e3d9a6c9b0d7a" alt="Rolled yoga mat">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:700">Yoga Mat</div>
              <div class="rating">4.7★</div>
            </div>
            <div class="muted">Brand: Align</div>
            <div class="meta">
              <div class="price-row"><div style="font-size:1rem;color:var(--accent-2)">$29</div><div class="muted">In stock</div></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:auto">
              <button class="detail-btn">View</button>
              <button class="add-btn">Add to cart</button>
            </div>
          </article>

          <article class="product" data-name="Desk Lamp" data-tags="home,lighting,desk" data-price="39" data-desc="Adjustable LED desk lamp with warm and cool light modes." tabindex="0">
            <img loading="lazy" src="https://images.unsplash.com/photo-1582719478250-1216b5a0aeb7?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=5b6e3d4f7a8c9d1e2f3a4b5c6d7e8f9a" alt="Modern desk lamp">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:700">Desk Lamp</div>
              <div class="rating">4.2★</div>
            </div>
            <div class="muted">Brand: Lumen</div>
            <div class="meta">
              <div class="price-row"><div style="font-size:1rem;color:var(--accent-2)">$39</div><div class="muted">Energy star</div></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:auto">
              <button class="detail-btn">View</button>
              <button class="add-btn">Add to cart</button>
            </div>
          </article>
        </div>

        <div id="noResults" class="no-results" style="display:none;margin-top:12px">No products match your search.</div>
      </section>

      <section id="deals" class="section" aria-labelledby="deals-heading">
        <h2 id="deals-heading">Hot deals — limited time</h2>
        <div class="deals-row" id="dealsRow" role="list">
          <div class="deal" role="listitem" data-deal-end="">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">4K Action Camera</div>
              <div class="countdown" data-countdown>--:--:--</div>
            </div>
            <div class="muted">Capture life in stunning detail</div>
            <div style="margin-top:8px" class="price">
              <span style="text-decoration:line-through;color:var(--muted)">$199</span>
              <span style="font-weight:800;color:var(--accent-2);margin-left:8px">$129</span>
            </div>
            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn small-deal" style="padding:8px 10px">Grab deal</button>
              <button class="btn ghost" style="padding:8px 10px;color:var(--muted)">Learn</button>
            </div>
          </div>

          <div class="deal" role="listitem" data-deal-end="">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">Smartwatch Pro</div>
              <div class="countdown" data-countdown>--:--:--</div>
            </div>
            <div class="muted">Heart rate, GPS, and long battery life</div>
            <div style="margin-top:8px" class="price">
              <span style="text-decoration:line-through;color:var(--muted)">$249</span>
              <span style="font-weight:800;color:var(--accent-2);margin-left:8px">$149</span>
            </div>
            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn">Grab deal</button>
              <button class="btn ghost" style="color:var(--muted)">Learn</button>
            </div>
          </div>

          <div class="deal" role="listitem" data-deal-end="">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">Premium Blender</div>
              <div class="countdown" data-countdown>--:--:--</div>
            </div>
            <div class="muted">High-speed motor, easy clean</div>
            <div style="margin-top:8px" class="price">
              <span style="text-decoration:line-through;color:var(--muted)">$179</span>
              <span style="font-weight:800;color:var(--accent-2);margin-left:8px">$99</span>
            </div>
            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn">Grab deal</button>
              <button class="btn ghost" style="color:var(--muted)">Learn</button>
            </div>
          </div>
        </div>
      </section>

      <section id="blog" class="section" aria-labelledby="blog-heading">
        <h2 id="blog-heading">From the blog</h2>
        <div class="blog-list">
          <article class="post">
            <img loading="lazy" src="https://images.unsplash.com/photo-1507679799987-c73779587ccf?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=832b7d6b3c2b5f9dd1a2e9f4c6a7d8b2" alt="Flat lay of shopping items">
            <div style="font-weight:800">How to choose the right headphones</div>
            <div class="muted">A quick guide to know what matters: drivers, ANC, fit, and battery life.</div>
            <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
              <div class="mini">May 4, 2026</div>
              <button class="btn ghost" style="border:1px solid rgba(6,78,59,0.06)">Read</button>
            </div>
          </article>

          <article class="post">
            <img loading="lazy" src="https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=3a7b2d9f6f4e8a1b2c3d4e5f6a7b8c9d" alt="Healthy smoothie being prepared">
            <div style="font-weight:800">5 kitchen gadgets worth the hype</div>
            <div class="muted">From blenders to sous-vide — what makes a gadget truly useful.</div>
            <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
              <div class="mini">Apr 22, 2026</div>
              <button class="btn ghost" style="border:1px solid rgba(6,78,59,0.06)">Read</button>
            </div>
          </article>

          <article class="post">
            <img loading="lazy" src="https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=6f4b3d2c1a7b9f8e2d3c4b5a6e7f8d9a" alt="Person using smartwatch">
            <div style="font-weight:800">Get the most from your smartwatch</div>
            <div class="muted">Tips to track sleep, workouts, and extend battery life.</div>
            <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
              <div class="mini">Mar 11, 2026</div>
              <button class="btn ghost" style="border:1px solid rgba(6,78,59,0.06)">Read</button>
            </div>
          </article>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-grid">
        <div style="flex:1;min-width:220px">
          <div style="font-weight:800">MarketLane</div>
          <div class="mini" style="margin-top:6px">Your everyday shopping destination. Secure checkout & fast delivery.</div>
        </div>
        <div style="display:flex;gap:18px;align-items:center;flex-wrap:wrap">
          <div>
            <div style="font-weight:700">Get updates</div>
            <div class="newsletter" style="margin-top:8px">
              <input id="newsletterEmail" type="email" placeholder="Your email" aria-label="Newsletter email">
              <button class="btn" id="subscribeBtn">Subscribe</button>
            </div>
          </div>
          <div class="mini">© 2026 MarketLane • Terms • Privacy</div>
        </div>
      </div>
    </footer>
  </div>

  <div id="productModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-card" role="document">
      <div>
        <img id="modalImg" src="" alt="">
      </div>
      <div style="display:flex;flex-direction:column;gap:10px">
        <div style="display:flex;justify-content:space-between;align-items:start">
          <div>
            <div id="modalTitle" style="font-weight:800;font-size:1.15rem"></div>
            <div id="modalBrand" class="muted" style="margin-top:6px"></div>
          </div>
          <button class="close-btn" id="closeModal" aria-label="Close modal">✕</button>
        </div>
        <div id="modalDesc" class="muted"></div>
        <div style="font-weight:900;font-size:1.2rem;color:var(--accent-2)" id="modalPrice"></div>
        <div style="display:flex;gap:8px;margin-top:auto">
          <button class="btn" id="modalAdd">Add to cart</button>
          <button class="btn ghost" id="modalClose" style="border:1px solid rgba(6,78,59,0.06)">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      // Utilities
      const qs = sel => document.querySelector(sel);
      const qsa = sel => Array.from(document.querySelectorAll(sel));

      // Cart state (persist)
      const cartCountEl = qs('#cartCount');
      const CART_KEY = 'ml_cart_count';
      let cartCount = parseInt(localStorage.getItem(CART_KEY) || '0', 10) || 0;
      function updateCartDisplay(){
        if(cartCount > 0){
          cartCountEl.textContent = cartCount;
          cartCountEl.style.display = 'inline-block';
        } else {
          cartCountEl.style.display = 'none';
        }
      }
      updateCartDisplay();

      // Add to cart handlers
      qsa('.add-btn').forEach(btn=>{
        btn.addEventListener('click', e=>{
          const card = e.target.closest('.product');
          const name = card?.dataset?.name || 'item';
          cartCount++;
          localStorage.setItem(CART_KEY, String(cartCount));
          updateCartDisplay();
          // small feedback
          btn.textContent = 'Added';
          btn.disabled = true;
          setTimeout(()=>{ btn.textContent='Add to cart'; btn.disabled=false }, 900);
        });
      });

      // Detail view modal
      const modal = qs('#productModal');
      const modalImg = qs('#modalImg');
      const modalTitle = qs('#modalTitle');
      const modalDesc = qs('#modalDesc');
      const modalPrice = qs('#modalPrice');
      const modalBrand = qs('#modalBrand');
      const modalAdd = qs('#modalAdd');
      function openModalFromCard(card){
        modalImg.src = card.querySelector('img').src;
        modalImg.alt = card.querySelector('img').alt || card.dataset.name;
        modalTitle.textContent = card.dataset.name;
        modalDesc.textContent = card.dataset.desc || '';
        modalPrice.textContent = '$' + (card.dataset.price || '0');
        modalBrand.textContent = 'Brand: ' + (card.dataset.brand || card.querySelector('.muted')?.textContent || '—');
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');
        modalAdd.dataset.price = card.dataset.price || '0';
        modalAdd.dataset.name = card.dataset.name || '';
      }
      qsa('.detail-btn').forEach(btn=>{
        btn.addEventListener('click', e=>{
          const card = e.target.closest('.product');
          openModalFromCard(card);
        });
      });
      qsa('.product').forEach(card=>{
        card.addEventListener('dblclick', ()=> openModalFromCard(card));
      });

      qs('#closeModal').addEventListener('click', ()=>{ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true') });
      qs('#modalClose').addEventListener('click', ()=>{ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true') });

      modalAdd.addEventListener('click', ()=>{
        cartCount++;
        localStorage.setItem(CART_KEY, String(cartCount));
        updateCartDisplay();
        modalAdd.textContent = 'Added';
        modalAdd.disabled = true;
        setTimeout(()=>{ modalAdd.textContent='Add to cart'; modalAdd.disabled=false }, 900);
      });

      // Close modal with Escape
      window.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape' && modal.classList.contains('show')){
          modal.classList.remove('show');
          modal.setAttribute('aria-hidden','true');
        }
      });

      // Simple search/filter
      const searchInput = qs('#searchInput');
      const clearSearch = qs('#clearSearch');
      const productsGrid = qs('#productsGrid');
      const productCards = qsa('.product');
      const noResults = qs('#noResults');

      function filterProducts(term){
        term = (term || '').trim().toLowerCase();
        let visible = 0;
        productCards.forEach(card=>{
          const name = card.dataset.name?.toLowerCase() || '';
          const tags = card.dataset.tags?.toLowerCase() || '';
          const desc = card.dataset.desc?.toLowerCase() || '';
          const match = !term || name.includes(term) || tags.includes(term) || desc.includes(term);
          card.style.display = match ? '' : 'none';
          if(match) visible++;
        });
        noResults.style.display = visible ? 'none' : '';
      }

      searchInput.addEventListener('input', e=>{
        filterProducts(e.target.value);
      });
      clearSearch.addEventListener('click', ()=>{
        searchInput.value = '';
        filterProducts('');
        searchInput.focus();
      });

      // Deals countdown initialization
      const deals = qsa('.deal');
      // set relative end times (for demo)
      const now = Date.now();
      deals.forEach((deal, i)=>{
        // some deals end in next few hours
        const end = now + (1 + i*2) * 60*60*1000 + (i*10)*60*1000;
        deal.dataset.dealEnd = new Date(end).toISOString();
      });

      function updateCountdowns(){
        qsa('[data-countdown]').forEach(el=>{
          const parent = el.closest('.deal');
          const endStr = parent?.dataset?.dealEnd;
          if(!endStr){ el.textContent = '--:--:--'; return; }
          const end = new Date(endStr).getTime();
          const diff = end - Date.now();
          if(diff <= 0){
            el.textContent = 'Expired';
            parent.querySelectorAll('.btn').forEach(b=>b.disabled=true);
            return;
          }
          const hrs = Math.floor(diff/3600000);
          const mins = Math.floor((diff%3600000)/60000);
          const secs = Math.floor((diff%60000)/1000);
          el.textContent = `${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
        });
      }
      updateCountdowns();
      setInterval(updateCountdowns,1000);

      // Shop now scroll
      qs('#shopNow').addEventListener('click', ()=>qs('#popular').scrollIntoView({behavior:'smooth'}));

      // Subscribe simple
      qs('#subscribeBtn').addEventListener('click', ()=>{
        const em = qs('#newsletterEmail').value.trim();
        if(!em || !em.includes('@')) { alert('Please enter a valid email.'); return; }
        qs('#newsletterEmail').value = '';
        alert('Thanks! You are subscribed.');
      });

      // Keyboard accessibility for product cards
      productCards.forEach(card=>{
        card.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter') {
            openModalFromCard(card);
          }
        });
      });

      // Sample: clicking cart shows quick summary (simple)
      qs('#cartBtn').addEventListener('click', ()=>{
        alert('Cart: ' + cartCount + ' item(s).');
      });

      // initial filter (none)
      filterProducts('');
    })();
  </script>
</body>
</html>