<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopEase — Home</title>
  <meta name="description" content="ShopEase — curated popular items, limited-time deals, and lifestyle blog posts to inspire your next purchase." />
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0d6efd;
      --accent-2:#ff6b6b;
      --glass: rgba(255,255,255,0.6);
      --radius:12px;
      --shadow: 0 6px 18px rgba(15,23,42,0.08);
      --max-width:1180px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,#fbfdff 0%, #f6f7fb 100%);
      color:#0f1724;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      padding:28px 18px;
      display:flex;
      justify-content:center;
    }
    .page{
      width:100%;
      max-width:var(--max-width);
    }

    header{
      display:flex;
      gap:16px;
      align-items:center;
      margin-bottom:22px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:inherit;
    }
    .logo{
      width:52px;
      height:52px;
      background:linear-gradient(135deg,var(--accent),#7c5cff);
      border-radius:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:20px;
      box-shadow:var(--shadow);
    }
    nav{
      margin-left:12px;
      display:flex;
      gap:14px;
      align-items:center;
      flex:1;
      flex-wrap:wrap;
    }
    nav a{
      color:var(--muted);
      text-decoration:none;
      font-weight:600;
      padding:8px 10px;
      border-radius:8px;
    }
    nav a:hover{background:rgba(13,110,253,0.06); color:var(--accent)}

    .controls{
      margin-left:auto;
      display:flex;
      gap:12px;
      align-items:center;
    }
    .search{
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      border-radius:14px;
      padding:8px 10px;
      box-shadow:var(--shadow);
      min-width:220px;
    }
    .search input{
      border:0;
      outline:none;
      font-size:14px;
      background:transparent;
    }
    .cart{
      background:var(--card);
      padding:8px 12px;
      border-radius:10px;
      display:flex;
      gap:8px;
      align-items:center;
      box-shadow:var(--shadow);
      cursor:pointer;
    }
    .cart .count{
      background:var(--accent);
      color:white;
      font-weight:700;
      font-size:13px;
      padding:6px 8px;
      border-radius:999px;
    }

    main{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:22px;
      align-items:start;
    }

    /* Left column */
    .hero{
      grid-column:1 / -1;
      display:flex;
      justify-content:space-between;
      gap:18px;
      align-items:center;
      margin-bottom:10px;
    }
    .hero .text{
      flex:1;
      background:linear-gradient(180deg, rgba(13,110,253,0.06), rgba(124,92,255,0.02));
      padding:20px;
      border-radius:14px;
      box-shadow:var(--shadow);
    }
    .hero h1{
      margin:0 0 8px 0;
      font-size:22px;
    }
    .hero p{margin:0;color:var(--muted)}
    .hero .cta{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .cta .btn{
      background:var(--accent);
      color:white;
      border:0;
      padding:12px 16px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 8px 20px rgba(13,110,253,0.12);
    }
    .cta .ghost{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(15,23,42,0.06);
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
    }

    section{
      background:transparent;
    }
    .section-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
    }
    .section-head h2{margin:0;font-size:18px}
    .section-head p{margin:0;color:var(--muted);font-size:13px}

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width:980px){
      main{grid-template-columns:1fr; padding-bottom:40px}
      .grid{grid-template-columns:repeat(2,1fr)}
      .page{padding:18px}
    }
    @media (max-width:560px){
      .grid{grid-template-columns:1fr}
      header{flex-direction:column; align-items:flex-start; gap:12px}
      .controls{width:100%; justify-content:space-between}
    }

    .card{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:10px;
      transition:transform .18s ease, box-shadow .18s ease;
    }
    .card:hover{transform:translateY(-6px); box-shadow:0 18px 40px rgba(15,23,42,0.08)}

    .product-image{
      height:132px;
      border-radius:10px;
      background:linear-gradient(135deg,#f8fafc,#eef2ff);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      position:relative;
    }
    .product-image svg{width:100%; height:100%; object-fit:cover}
    .badge{
      position:absolute;
      top:8px;
      left:8px;
      background:rgba(13,110,253,0.92);
      color:white;
      padding:6px 8px;
      font-size:12px;
      border-radius:8px;
      font-weight:700;
    }
    .product-title{font-weight:700;font-size:15px;margin:0}
    .product-meta{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .price{font-weight:800;font-size:16px}
    .old{color:var(--muted);text-decoration:line-through;font-size:13px}
    .rating{color:#f59e0b;font-size:13px}
    .actions{display:flex;gap:8px;align-items:center}
    .btn-small{
      border:0;padding:8px 10px;border-radius:10px;cursor:pointer;font-weight:700;
    }
    .add{
      background:var(--accent);color:white;
      box-shadow:0 8px 18px rgba(13,110,253,0.12);
    }
    .fav{
      background:#fff3f2;color:var(--accent-2);
      border:1px solid rgba(255,107,107,0.08);
    }

    /* Deals */
    .deal{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .deal .info{flex:1}
    .deal .timer{
      background:linear-gradient(180deg, #fff2f2, #fff);
      border-radius:10px;
      padding:8px 10px;
      font-weight:700;
      color:var(--accent-2);
      min-width:110px;
      text-align:center;
    }
    .strike{color:var(--muted); font-size:13px}

    /* Sidebar */
    aside{
      position:relative;
    }
    .sticky{
      position:sticky;
      top:18px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .sidebar-card{
      background:var(--card);
      padding:14px;
      border-radius:12px;
      box-shadow:var(--shadow);
    }
    .trending-list{display:flex;flex-direction:column;gap:10px}
    .trend{
      display:flex;gap:10px;align-items:center;
    }
    .trend .mini{
      width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,#fff5f0,#fff2f2);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent-2)
    }
    .newsletter input{
      width:100%;
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(15,23,42,0.06);
      margin-top:10px;
      outline:none;
    }
    .newsletter button{
      margin-top:8px;
      width:100%;
      background:var(--accent);
      color:white;padding:10px;border-radius:8px;border:0;cursor:pointer;font-weight:700;
    }

    /* Blog posts */
    .blog-list{display:flex;flex-direction:column;gap:12px}
    .post{display:flex;gap:12px;align-items:flex-start}
    .post .thumb{
      width:86px;height:64px;border-radius:8px;background:linear-gradient(135deg,#eef2ff,#f8fafc);flex-shrink:0;display:flex;align-items:center;justify-content:center;font-weight:700;color:#5b21b6
    }
    .post h3{margin:0;font-size:15px}
    .post p{margin:4px 0 0 0;color:var(--muted);font-size:13px}

    footer{
      margin-top:28px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      color:var(--muted);
      font-size:13px;
      flex-wrap:wrap;
    }
    .socials{display:flex;gap:8px;align-items:center}
    .chip{background:#fff;border-radius:999px;padding:6px 10px;border:1px solid rgba(15,23,42,0.04)}
    .small{font-size:12px;color:var(--muted)}
    /* utilities */
    .muted{color:var(--muted);font-size:13px}
    .hidden{display:none}
  </style>
</head>
<body>
  <div class="page" id="app">
    <header>
      <a class="brand" href="#" aria-label="ShopEase home">
        <div class="logo" aria-hidden="true">Se</div>
        <div style="display:flex;flex-direction:column;line-height:1">
          <strong style="font-size:16px">ShopEase</strong>
          <span class="small muted" style="margin-top:2px">Find what you love</span>
        </div>
      </a>

      <nav aria-label="Main navigation">
        <a href="#" aria-current="page">Home</a>
        <a href="#">Shop</a>
        <a href="#">Deals</a>
        <a href="#">Blog</a>
        <a href="#">About</a>
      </nav>

      <div class="controls" role="search" aria-label="Site search">
        <div class="search" title="Search products">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 21l-4.35-4.35" stroke="#9AA4B2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="11" cy="11" r="6" stroke="#9AA4B2" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <input id="search" type="search" placeholder="Search popular items..." aria-label="Search popular items" />
        </div>

        <div class="cart" id="cartBtn" role="button" aria-label="Open cart" tabindex="0">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M3 3h2l1 7h12l1-5H6" stroke="#233043" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="10" cy="20" r="1" fill="#233043"/>
            <circle cx="18" cy="20" r="1" fill="#233043"/>
          </svg>
          <div style="display:flex;flex-direction:column;align-items:flex-end">
            <span style="font-weight:700">Cart</span>
            <span class="small muted">Ready to checkout</span>
          </div>
          <div class="count" id="cartCount" aria-live="polite" style="margin-left:8px">0</div>
        </div>
      </div>
    </header>

    <main>
      <section class="hero" aria-labelledby="hero-heading">
        <div class="text">
          <h1 id="hero-heading">Curated picks for your day — handpicked and delivered fast</h1>
          <p>Discover trending gadgets, home finds, and seasonal style. Free returns and express shipping on eligible items.</p>
          <div style="margin-top:12px" class="cta">
            <button class="btn" id="shopNow">Shop featured</button>
            <button class="ghost" id="learnMore">How it works</button>
          </div>
        </div>
        <div style="min-width:260px; display:flex;flex-direction:column;gap:10px;">
          <div class="card" style="padding:12px">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">Daily Deal</div>
              <div class="muted small">Limited stock</div>
            </div>
            <div style="display:flex;gap:12px;align-items:center;margin-top:10px">
              <div style="width:88px">
                <div class="product-image" style="height:72px;border-radius:10px">
                  <svg viewBox="0 0 200 120" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
                    <defs>
                      <linearGradient id="g1" x1="0" x2="1">
                        <stop offset="0" stop-color="#FF7A7A"/>
                        <stop offset="1" stop-color="#FFB86B"/>
                      </linearGradient>
                    </defs>
                    <rect x="0" y="0" width="200" height="120" fill="url(#g1)"/>
                    <circle cx="150" cy="30" r="25" fill="rgba(255,255,255,0.18)"/>
                  </svg>
                </div>
              </div>
              <div style="flex:1">
                <div style="font-weight:800">Noise-Block Earbuds</div>
                <div class="strike">$89</div>
                <div style="display:flex;align-items:center;justify-content:space-between;margin-top:6px">
                  <div style="font-weight:800">$49 <span class="small muted">/ set</span></div>
                  <div class="timer" data-end="" id="miniTimer">00:00:00</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card" style="padding:12px;display:flex;gap:12px;align-items:center">
            <div style="width:64px;height:64px;border-radius:10px;background:linear-gradient(135deg,#f0f9ff,#e6f3ff);display:flex;align-items:center;justify-content:center;font-weight:800;color:#0d6efd">20% off</div>
            <div>
              <div style="font-weight:800">Home Diffuser</div>
              <div class="muted small" style="margin-top:6px">A gentle scent for every room</div>
            </div>
          </div>
        </div>
      </section>

      <section aria-labelledby="popular-heading">
        <div class="section-head">
          <div>
            <h2 id="popular-heading">Popular items</h2>
            <p class="muted">Customers love these — top-rated and trending</p>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <label for="sort" class="muted" style="font-weight:700">Sort</label>
            <select id="sort" style="padding:8px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)">
              <option value="popular">Most popular</option>
              <option value="price-asc">Price: low to high</option>
              <option value="price-desc">Price: high to low</option>
              <option value="rating">Top rated</option>
            </select>
          </div>
        </div>

        <div class="grid" id="products">
          <!-- Product cards will be injected by JS for accessibility and search -->
        </div>
      </section>

      <section aria-labelledby="deals-heading" style="margin-top:18px">
        <div class="section-head">
          <div>
            <h2 id="deals-heading">Limited-time deals</h2>
            <p class="muted">Flash offers — grab them before they're gone</p>
          </div>
          <div class="muted small">Ends in <strong id="dealsEnds">--:--:--</strong></div>
        </div>

        <div style="display:flex;flex-direction:column;gap:10px">
          <div class="deal card">
            <div style="width:86px;height:86px;border-radius:10px;background:linear-gradient(135deg,#fff7e6,#fff1db);display:flex;align-items:center;justify-content:center;font-weight:800;color:#f59e0b">Hot</div>
            <div class="info">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div>
                  <div style="font-weight:800">4K Mini Projector</div>
                  <div class="muted small">Portable cinema, big picture</div>
                </div>
                <div style="text-align:right">
                  <div style="font-weight:800">$129</div>
                  <div class="strike">$199</div>
                </div>
              </div>
              <div style="display:flex;gap:8px;margin-top:10px;align-items:center">
                <div class="timer" data-end="" data-dealid="1">00:00:00</div>
                <button class="btn-small add" data-id="p-deal-1">Add to cart</button>
                <div class="muted small">Only 12 left</div>
              </div>
            </div>
          </div>

          <div class="deal card">
            <div style="width:86px;height:86px;border-radius:10px;background:linear-gradient(135deg,#f0fbff,#e8f7ff);display:flex;align-items:center;justify-content:center;font-weight:800;color:#0ea5e9">New</div>
            <div class="info">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div>
                  <div style="font-weight:800">Smart Mug</div>
                  <div class="muted small">Keeps drinks perfectly warm</div>
                </div>
                <div style="text-align:right">
                  <div style="font-weight:800">$64</div>
                  <div class="strike">$89</div>
                </div>
              </div>
              <div style="display:flex;gap:8px;margin-top:10px;align-items:center">
                <div class="timer" data-end="" data-dealid="2">00:00:00</div>
                <button class="btn-small add" data-id="p-deal-2">Add to cart</button>
                <div class="muted small">Ships today</div>
              </div>
            </div>
          </div>

          <div class="deal card">
            <div style="width:86px;height:86px;border-radius:10px;background:linear-gradient(135deg,#f5f7ff,#eef2ff);display:flex;align-items:center;justify-content:center;font-weight:800;color:#7c5cff">Top</div>
            <div class="info">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div>
                  <div style="font-weight:800">Ergonomic Chair</div>
                  <div class="muted small">Comfort for long workdays</div>
                </div>
                <div style="text-align:right">
                  <div style="font-weight:800">$189</div>
                  <div class="strike">$249</div>
                </div>
              </div>
              <div style="display:flex;gap:8px;margin-top:10px;align-items:center">
                <div class="timer" data-end="" data-dealid="3">00:00:00</div>
                <button class="btn-small add" data-id="p-deal-3">Add to cart</button>
                <div class="muted small">Limited units</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <aside>
        <div class="sticky">
          <div class="sidebar-card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <div style="font-weight:800">Trending now</div>
              <div class="muted small">Updated hourly</div>
            </div>
            <div class="trending-list" id="trending">
              <div class="trend">
                <div class="mini">S</div>
                <div>
                  <div style="font-weight:700">SmartWatch 3</div>
                  <div class="muted small">Fitness & style</div>
                </div>
              </div>
              <div class="trend">
                <div class="mini">H</div>
                <div>
                  <div style="font-weight:700">Noise Headphones</div>
                  <div class="muted small">Active noise canceling</div>
                </div>
              </div>
              <div class="trend">
                <div class="mini">C</div>
                <div>
                  <div style="font-weight:700">Ceramic Mugs</div>
                  <div class="muted small">Handcrafted</div>
                </div>
              </div>
            </div>
          </div>

          <div class="sidebar-card newsletter" aria-labelledby="newsletter-title">
            <div id="newsletter-title" style="font-weight:800">Join our newsletter</div>
            <div class="muted small">Get 10% off your first order</div>
            <label class="hidden" for="email">Email address</label>
            <input id="email" type="email" placeholder="you@example.com" aria-label="Email address for newsletter" />
            <button id="subscribe">Subscribe & get 10% off</button>
          </div>

          <div class="sidebar-card">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">From the blog</div>
              <div class="muted small">Latest</div>
            </div>
            <div class="blog-list" style="margin-top:10px">
              <a class="post" href="#" style="text-decoration:none;color:inherit">
                <div class="thumb">DIY</div>
                <div>
                  <h3>10 Home Upgrades Under $50</h3>
                  <p>Budget-friendly ideas to refresh your space.</p>
                </div>
              </a>

              <a class="post" href="#" style="text-decoration:none;color:inherit">
                <div class="thumb">G</div>
                <div>
                  <h3>Guide to Smart Home Setup</h3>
                  <p>Start automating with minimal fuss.</p>
                </div>
              </a>

              <a class="post" href="#" style="text-decoration:none;color:inherit">
                <div class="thumb">S</div>
                <div>
                  <h3>Styling Tips for Small Apartments</h3>
                  <p>Maximize comfort and storage without clutter.</p>
                </div>
              </a>
            </div>
          </div>
        </div>
      </aside>

      <section style="grid-column:1 / -1; margin-top:18px" aria-labelledby="blog-heading">
        <div class="section-head">
          <div>
            <h2 id="blog-heading">Latest from the blog</h2>
            <p class="muted">Inspiration, guides, and product stories</p>
          </div>
          <a href="#" class="muted">See all posts</a>
        </div>

        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px">
          <article class="card" style="display:flex;flex-direction:column">
            <div style="height:120px;border-radius:10px;overflow:hidden;margin-bottom:10px">
              <svg viewBox="0 0 400 200" style="width:100%;height:100%" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
                <defs>
                  <linearGradient id="bgA" x1="0" x2="1"><stop offset="0" stop-color="#e6f3ff"/><stop offset="1" stop-color="#eef2ff"/></linearGradient>
                </defs>
                <rect width="400" height="200" fill="url(#bgA)"/>
              </svg>
            </div>
            <h3 style="margin:0 0 6px 0">How to Choose the Right Headphones</h3>
            <p class="muted" style="margin:0">A simple checklist for sound, fit, and battery life.</p>
            <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center;margin-top:12px">
              <div class="small muted">Reading 4 min</div>
              <a href="#" class="chip" style="text-decoration:none;color:inherit">Read</a>
            </div>
          </article>

          <article class="card" style="display:flex;flex-direction:column">
            <div style="height:120px;border-radius:10px;overflow:hidden;margin-bottom:10px">
              <svg viewBox="0 0 400 200" style="width:100%;height:100%" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
                <defs>
                  <linearGradient id="bgB" x1="0" x2="1"><stop offset="0" stop-color="#fff7ed"/><stop offset="1" stop-color="#fff2e6"/></linearGradient>
                </defs>
                <rect width="400" height="200" fill="url(#bgB)"/>
              </svg>
            </div>
            <h3 style="margin:0 0 6px 0">Top 7 Work-from-Home Essentials</h3>
            <p class="muted" style="margin:0">Ergonomics, tech, and a few creature comforts.</p>
            <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center;margin-top:12px">
              <div class="small muted">Reading 6 min</div>
              <a href="#" class="chip" style="text-decoration:none;color:inherit">Read</a>
            </div>
          </article>

          <article class="card" style="display:flex;flex-direction:column">
            <div style="height:120px;border-radius:10px;overflow:hidden;margin-bottom:10px">
              <svg viewBox="0 0 400 200" style="width:100%;height:100%" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
                <defs>
                  <linearGradient id="bgC" x1="0" x2="1"><stop offset="0" stop-color="#f0fff4"/><stop offset="1" stop-color="#e6ffef"/></linearGradient>
                </defs>
                <rect width="400" height="200" fill="url(#bgC)"/>
              </svg>
            </div>
            <h3 style="margin:0 0 6px 0">Sustainable Gifts for Every Budget</h3>
            <p class="muted" style="margin:0">Thoughtful options that reduce waste.</p>
            <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center;margin-top:12px">
              <div class="small muted">Reading 5 min</div>
              <a href="#" class="chip" style="text-decoration:none;color:inherit">Read</a>
            </div>
          </article>
        </div>
      </section>

    </main>

    <footer>
      <div>
        <strong>ShopEase</strong> — Trusted by thousands of shoppers.
        <div class="small muted" style="margin-top:6px">Free returns • 24/7 support • Secure checkout</div>
      </div>
      <div class="socials">
        <div class="chip">Help Center</div>
        <div class="chip">Track order</div>
        <div class="chip">Privacy</div>
      </div>
    </footer>
  </div>

  <script>
    (function(){
      // Sample products data
      const PRODUCTS = [
        { id: 'p1', name: 'Noise-Block Earbuds', price: 49, old: 89, rating: 4.7, tag: 'Hot' },
        { id: 'p2', name: '4K Mini Projector', price: 129, old: 199, rating: 4.5, tag: 'Deal' },
        { id: 'p3', name: 'Smart Mug', price: 64, old: 89, rating: 4.6, tag: 'New' },
        { id: 'p4', name: 'Ergonomic Chair', price: 189, old: 249, rating: 4.4, tag: 'Top' },
        { id: 'p5', name: 'Home Diffuser', price: 29, old: null, rating: 4.8, tag: '' },
        { id: 'p6', name: 'Wireless Charger Stand', price: 34, old: 49, rating: 4.3, tag: '' },
        { id: 'p7', name: 'SmartWatch 3', price: 199, old: 249, rating: 4.5, tag: '' },
        { id: 'p8', name: 'Ceramic Mug Set', price: 22, old: 29, rating: 4.9, tag: '' },
        { id: 'p9', name: 'Noise Headphones', price: 129, old: 179, rating: 4.6, tag: '' }
      ];

      const productsEl = document.getElementById('products');
      const searchEl = document.getElementById('search');
      const sortEl = document.getElementById('sort');
      const cartCountEl = document.getElementById('cartCount');
      const cartBtn = document.getElementById('cartBtn');
      const subscribeBtn = document.getElementById('subscribe');
      const emailInput = document.getElementById('email');
      const shopNow = document.getElementById('shopNow');
      const learnMore = document.getElementById('learnMore');

      // Set up initial timers for deals
      const dealTimers = [];
      const now = Date.now();
      // deals end times: + 6h, + 3h30m, + 12h
      const dealEnds = [
        new Date(now + 6 * 3600 * 1000),
        new Date(now + 3.5 * 3600 * 1000),
        new Date(now + 12 * 3600 * 1000)
      ];
      // small hero mini timer end (1.5h)
      const miniTimerEnd = new Date(now + 1.5 * 3600 * 1000);

      // Populate products
      function renderProducts(list){
        productsEl.innerHTML = '';
        list.forEach(p => {
          const card = document.createElement('article');
          card.className = 'card';
          card.setAttribute('data-name', p.name.toLowerCase());
          card.innerHTML = `
            <div class="product-image" role="img" aria-label="${escapeHtml(p.name)} image">
              ${renderSVGPlaceholder(p)}
              ${p.tag ? `<div class="badge">${escapeHtml(p.tag)}</div>` : ''}
            </div>
            <div>
              <div class="product-title">${escapeHtml(p.name)}</div>
              <div class="product-meta" style="margin-top:6px">
                <div>
                  <div class="price">$${p.price}${p.old ? '' : ''}</div>
                  ${p.old ? `<div class="old">$${p.old}</div>` : ''}
                </div>
                <div style="text-align:right">
                  <div class="rating">${'★'.repeat(Math.round(p.rating))} <span class="muted">(${p.rating.toFixed(1)})</span></div>
                </div>
              </div>
            </div>
            <div style="display:flex;gap:8px;justify-content:space-between;align-items:center;margin-top:6px">
              <div class="actions">
                <button class="btn-small add" data-id="${escapeHtml(p.id)}">Add</button>
                <button class="btn-small fav" aria-label="Add ${escapeHtml(p.name)} to wishlist">❤</button>
              </div>
              <div class="muted small">Ships in 1–3 days</div>
            </div>
          `;
          productsEl.appendChild(card);
        });
      }

      function renderSVGPlaceholder(p){
        // simple colored svg based on product id to give visual variety
        const colors = ['#ff7a7a','#7c5cff','#0ea5e9','#f59e0b','#10b981','#f97316','#6366f1','#06b6d4','#ef4444'];
        const idx = Math.abs(hashCode(p.id)) % colors.length;
        const color = colors[idx];
        // inline SVG markup (kept simple)
        const svg = `<svg viewBox="0 0 200 120" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
          <rect x="0" y="0" width="200" height="120" fill="${color}"/>
          <g fill="rgba(255,255,255,0.12)"><circle cx="160" cy="20" r="26"/><circle cx="30" cy="100" r="18"/></g>
          <text x="12" y="72" font-size="16" font-family="sans-serif" fill="#fff">${escapeHtml(p.name.slice(0,20))}</text>
        </svg>`;
        return svg;
      }

      // Helpers
      function hashCode(str){
        let h=0;
        for(let i=0;i<str.length;i++){h=(h<<5)-h+str.charCodeAt(i);h|=0}
        return h;
      }
      function escapeHtml(s){return String(s).replace(/[&<>"']/g, function(m){return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]})}

      // Search & sort
      function applyFilters(){
        const q = searchEl.value.trim().toLowerCase();
        let list = PRODUCTS.slice();
        if(q){
          list = list.filter(p => p.name.toLowerCase().includes(q));
        }
        switch(sortEl.value){
          case 'price-asc': list.sort((a,b)=>a.price-b.price); break;
          case 'price-desc': list.sort((a,b)=>b.price-a.price); break;
          case 'rating': list.sort((a,b)=>b.rating-a.rating); break;
          default: list.sort((a,b)=>b.rating*10 - a.rating*10); break;
        }
        renderProducts(list);
      }

      searchEl.addEventListener('input', debounce(applyFilters, 180));
      sortEl.addEventListener('change', applyFilters);

      // Add to cart action
      function addToCart(id){
        const count = Number(localStorage.getItem('se:cart') || 0) + 1;
        localStorage.setItem('se:cart', String(count));
        updateCartCount();
        // brief pulse animation
        cartBtn.animate([{transform:'scale(1)'},{transform:'scale(1.06)'},{transform:'scale(1)'}], {duration:220});
      }
      function updateCartCount(){
        const count = Number(localStorage.getItem('se:cart') || 0);
        cartCountEl.textContent = String(count);
      }

      // Delegate add buttons
      document.addEventListener('click', function(e){
        const addBtn = e.target.closest('.add');
        if(addBtn){
          const id = addBtn.getAttribute('data-id') || addBtn.getAttribute('data-dealid');
          addToCart(id || 'unknown');
        }
      });

      // Subscribe
      subscribeBtn.addEventListener('click', function(){
        const email = emailInput.value.trim();
        if(!email || !email.includes('@')) {
          alert('Please enter a valid email address.');
          emailInput.focus();
          return;
        }
        // Simulate subscription
        subscribeBtn.textContent = 'Subscribed ✓';
        subscribeBtn.disabled = true;
        emailInput.value = '';
      });

      // Simple accessible interactions
      cartBtn.addEventListener('keypress', function(e){ if(e.key==='Enter') cartBtn.click(); });
      cartBtn.addEventListener('click', function(){ alert('Cart is a demo — items stored locally.'); });

      shopNow.addEventListener('click', function(){ window.scrollTo({top:document.getElementById('popular-heading').offsetTop - 20, behavior:'smooth'}); });
      learnMore.addEventListener('click', function(){ alert('ShopEase helps you discover curated items, fast shipping, and easy returns.'); });

      // Debounce helper
      function debounce(fn, ms){
        let t;
        return function(...a){ clearTimeout(t); t=setTimeout(()=>fn.apply(this,a), ms); };
      }

      // Initialize products and cart
      applyFilters();
      updateCartCount();

      // Setup timers for deals
      const timers = Array.from(document.querySelectorAll('.timer'));
      // assign end times from dealEnds to timers with data-dealid
      timers.forEach((el, idx)=>{
        const dealId = el.getAttribute('data-dealid');
        if(dealId){
          // map data-dealid 1,2,3 to dealEnds indices 0..2
          const i = Math.max(0, Math.min(2, Number(dealId) - 1));
          el.dataset.end = new Date(dealEnds[i]).toISOString();
        } else {
          // mini hero not in these timers, set if element has id miniTimer
          if(el.id === 'miniTimer') el.dataset.end = miniTimerEnd.toISOString();
          else {
            // default fallback
            el.dataset.end = new Date(now + 2*3600*1000).toISOString();
          }
        }
      });

      // Update global dealsEnds display (the top-right small)
      const dealsEndsDisplay = document.getElementById('dealsEnds');
      function updateGlobalDealsEnds(){
        // show the shortest remaining deal across timers
        const ends = timers.map(t => new Date(t.dataset.end).getTime()).filter(Boolean);
        if(ends.length===0) return;
        const nearest = Math.min(...ends);
        const diff = Math.max(0, nearest - Date.now());
        dealsEndsDisplay.textContent = formatRemaining(diff);
      }

      // Countdown loop
      function formatRemaining(ms){
        const s = Math.floor(ms/1000);
        const h = Math.floor(s/3600);
        const m = Math.floor((s%3600)/60);
        const sec = s%60;
        return [h,m,sec].map(n => String(n).padStart(2,'0')).join(':');
      }
      function tickTimers(){
        const now = Date.now();
        timers.forEach(el=>{
          const end = new Date(el.dataset.end).getTime() || now;
          const remaining = Math.max(0, end - now);
          el.textContent = formatRemaining(remaining);
          if(remaining <= 0){
            el.textContent = '00:00:00';
            el.classList.add('muted');
          }
        });
        updateGlobalDealsEnds();
      }
      tickTimers();
      setInterval(tickTimers, 1000);

      // Keyboard accessibility: focus first add button on load
      window.addEventListener('load', function(){
        const firstAdd = document.querySelector('.add[data-id]');
        if(firstAdd) firstAdd.setAttribute('aria-label', 'Add first popular item to cart');
      });

      // Small client-side analytics: record clicks on product names
      productsEl.addEventListener('click', function(e){
        const card = e.target.closest('.card');
        if(!card) return;
        const name = card.querySelector('.product-title')?.textContent || '';
        // in real app, send to analytics endpoint; here we console.log
        // keep minimal
        console.log('product.clicked:', name);
      });

      // Demo: persist cart count between reloads (already using localStorage)
      // Also animate add buttons briefly when clicked
      document.addEventListener('click', function(e){
        const b = e.target.closest('.btn-small.add, .btn-small.add');
        if(b){
          b.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}],{duration:220});
        }
      });

      // For browsers without JS images: ensure minimal content
      // No-op: already populated.

    })();
  </script>
</body>
</html>