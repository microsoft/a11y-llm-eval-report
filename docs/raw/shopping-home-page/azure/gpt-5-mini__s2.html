<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopEasy ‚Äî Home</title>
  <meta name="description" content="ShopEasy ‚Äî Popular items, hot deals, and latest blog posts. Find curated products and limited-time offers." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6f7fb;
      --surface:#ffffff;
      --muted:#6b7280;
      --accent:#ff6b6b;
      --accent-2:#06b6d4;
      --shadow: 0 6px 18px rgba(17,24,39,0.08);
      --radius:12px;
      --container:1200px;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: #0f172a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,#f8fafc 0,#eef2ff 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    header{
      background:transparent;
      position:sticky;
      top:0;
      z-index:40;
      backdrop-filter: blur(6px);
    }
    .nav-inner{
      max-width:var(--container);
      margin:0 auto;
      display:flex;
      align-items:center;
      gap:18px;
      padding:18px;
    }
    .brand{
      display:flex;
      gap:10px;
      align-items:center;
      text-decoration:none;
      color:inherit;
    }
    .logo{
      width:44px;
      height:44px;
      display:grid;
      place-items:center;
      background:linear-gradient(135deg,var(--accent),#ff9b9b);
      color:white;
      font-weight:700;
      border-radius:10px;
      box-shadow:var(--shadow);
    }
    nav{display:flex;gap:14px;margin-left:8px;align-items:center;}
    nav a{color:var(--muted);text-decoration:none;padding:8px;border-radius:8px;font-weight:500}
    nav a:hover{color:var(--accent-2)}
    .search{
      margin-left:auto;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .search input{
      width:360px;
      max-width:44vw;
      padding:10px 14px;
      border-radius:10px;
      border:1px solid rgba(15,23,42,0.06);
      background:var(--surface);
      box-shadow:var(--shadow);
      outline:none;
    }
    .icon-btn{
      display:inline-grid;
      place-items:center;
      width:44px;
      height:44px;
      border-radius:12px;
      background:var(--surface);
      box-shadow:var(--shadow);
      border:none;
      cursor:pointer;
    }
    main{max-width:var(--container);margin:22px auto;padding:0 18px 60px}
    .hero{
      display:flex;
      gap:22px;
      align-items:center;
      background:linear-gradient(90deg,#ffffff, #fbfdff);
      padding:26px;
      border-radius:18px;
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .hero-left{flex:1;min-width:260px}
    .hero h1{margin:0;font-size:28px;line-height:1.05}
    .hero p{color:var(--muted);margin:10px 0 18px}
    .cta{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .btn-primary{
      background:linear-gradient(90deg,var(--accent),#ff9b9b);
      color:white;padding:12px 16px;border-radius:12px;border:none;font-weight:600;cursor:pointer;
      box-shadow:0 8px 20px rgba(255,107,107,0.12);
    }
    .btn-ghost{
      background:transparent;color:var(--muted);padding:10px;border-radius:12px;border:1px solid rgba(15,23,42,0.06);
      cursor:pointer;
    }
    .hero-right{width:320px;display:flex;justify-content:center;align-items:center}
    .hero-card{
      width:320px;height:200px;border-radius:16px;overflow:hidden;position:relative;box-shadow:var(--shadow);
      background:linear-gradient(180deg,#fff3f3,#fff);
      display:flex;flex-direction:column;justify-content:center;align-items:center;padding:14px;
    }
    .hero-card img{width:180px;height:120px;object-fit:cover;border-radius:10px}
    .section{
      margin-top:24px;
    }
    .section h2{margin:0 0 14px;font-size:18px}
    .grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:16px;
    }
    @media (max-width:1100px){ .grid{grid-template-columns:repeat(3,1fr);} .search input{width:240px}}
    @media (max-width:820px){ .hero{flex-direction:column} .hero-right{width:100%} .grid{grid-template-columns:repeat(2,1fr)} .search{display:none}}
    @media (max-width:520px){ .grid{grid-template-columns:1fr} .nav-inner{padding:12px} .search input{display:none} .hero h1{font-size:20px}}
    .product{
      background:var(--surface);
      border-radius:14px;
      padding:12px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .product .img-wrap{
      height:160px;
      border-radius:10px;
      overflow:hidden;
      position:relative;
      background:linear-gradient(180deg,#f6fbff,#eef6ff);
    }
    .product img{width:100%;height:100%;object-fit:cover;display:block}
    .badge{
      position:absolute;top:10px;left:10px;background:var(--accent);color:#fff;padding:6px 8px;border-radius:9px;font-weight:700;font-size:12px;
    }
    .product .title{font-weight:600;font-size:15px;margin-top:6px}
    .meta{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--muted)}
    .price{font-weight:700;color:#08122d}
    .old{font-size:13px;color:var(--muted);text-decoration:line-through}
    .product .actions{display:flex;gap:8px;margin-top:8px}
    .add-btn{
      flex:1;padding:10px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent-2),#3dd5ff);color:white;font-weight:600;cursor:pointer;
    }
    .quick{
      width:44px;height:44px;border-radius:10px;border:none;background:rgba(15,23,42,0.04);cursor:pointer;
    }
    .deals{
      display:flex;
      gap:12px;
      align-items:center;
      position:relative;
    }
    .carousel{
      display:flex;gap:14px;overflow:hidden;padding:4px;
    }
    .deal-card{
      min-width:260px;background:linear-gradient(180deg,#fffefc,#fff);border-radius:14px;padding:14px;box-shadow:var(--shadow);
      position:relative;display:flex;flex-direction:column;gap:10px;
    }
    .deal-card img{width:100%;height:140px;object-fit:cover;border-radius:10px}
    .deal-top{display:flex;justify-content:space-between;align-items:center}
    .countdown{background:#08122d;color:white;padding:6px 10px;border-radius:10px;font-weight:700}
    .carousel-controls{
      display:flex;flex-direction:column;gap:8px;margin-left:8px;
    }
    .control-btn{width:44px;height:44px;border-radius:10px;border:none;background:var(--surface);box-shadow:var(--shadow);cursor:pointer}
    .blogs{
      display:grid;grid-template-columns:repeat(3,1fr);gap:16px;
    }
    @media (max-width:900px){ .blogs{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:600px){ .blogs{grid-template-columns:1fr} }
    .post{background:var(--surface);padding:14px;border-radius:12px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px;}
    .post img{width:100%;height:140px;object-fit:cover;border-radius:10px}
    .tags{display:flex;gap:8px;flex-wrap:wrap}
    .tag{background:#eef2ff;color:#064e3b;padding:6px 8px;border-radius:999px;font-weight:600;font-size:12px}
    footer{margin-top:28px;padding:30px 18px;background:transparent}
    .footer-inner{max-width:var(--container);margin:0 auto;display:flex;justify-content:space-between;gap:18px;align-items:flex-start}
    .newsletter{background:linear-gradient(180deg,#fff,#f8fafc);padding:18px;border-radius:12px;box-shadow:var(--shadow);display:flex;gap:12px;align-items:center}
    .newsletter input{padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);outline:none}
    .cart-panel{
      position:fixed;right:18px;bottom:18px;width:340px;max-width:90vw;background:var(--surface);border-radius:14px;box-shadow:0 18px 60px rgba(2,6,23,0.15);
      padding:12px;display:none;flex-direction:column;gap:8px;z-index:60;
    }
    .cart-open{display:flex}
    .cart-item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:10px;background:rgba(2,6,23,0.02)}
    .cart-item img{width:60px;height:60px;object-fit:cover;border-radius:8px}
    .empty{color:var(--muted);text-align:center;padding:14px}
    .pill{background:var(--accent);color:white;padding:6px 10px;border-radius:999px;font-weight:700}
    small{color:var(--muted)}
    /* Simple star rating */
    .stars{color:#fbbf24}
    /* helper */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <header>
    <div class="nav-inner" role="navigation" aria-label="Main">
      <a href="#" class="brand" aria-label="ShopEasy Home">
        <div class="logo">SE</div>
        <div>
          <div style="font-weight:700">ShopEasy</div>
          <small style="color:var(--muted);font-size:12px">Curated deals everyday</small>
        </div>
      </a>

      <nav aria-label="Primary">
        <a href="#" aria-current="page">Home</a>
        <a href="#">Shop</a>
        <a href="#">Deals</a>
        <a href="#">Blog</a>
        <a href="#">About</a>
      </nav>

      <div class="search" role="search" aria-label="Site search">
        <input id="search" type="search" placeholder="Search for products, brands..." aria-label="Search products">
        <button class="icon-btn" id="wishBtn" title="Wishlist" aria-label="Wishlist">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M12 21s-7-4.35-9.5-8.2C-0.66 6.88 4.66 3 8.5 6.2 10 7.8 12 9.5 12 9.5s2-1.7 3.5-3.3C19.34 3 24.66 6.88 21.5 12.8 19 16.65 12 21 12 21z" stroke="#ff6b6b" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </button>
        <button class="icon-btn" id="cartToggle" aria-expanded="false" aria-controls="cartPanel" title="Cart" aria-label="Open cart">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M3 3h2l.4 2M7 13h10l4-8H5.4" stroke="#0f172a" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <div id="cartCount" style="position:relative;margin-left:-28px;margin-top:-28px;background:var(--accent);color:white;width:22px;height:22px;border-radius:999px;display:grid;place-items:center;font-size:12px;border:2px solid white;box-shadow:0 4px 14px rgba(255,107,107,0.18);">0</div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-left">
        <h1 id="hero-title">Refresh your lifestyle with curated picks ‚Äî up to 60% off.</h1>
        <p>Handpicked gadgets, home essentials, and fashion ‚Äî free returns, fast shipping. Discover limited-time deals updated daily.</p>
        <div class="cta">
          <button class="btn-primary" id="shopNow">Shop Bestsellers</button>
          <button class="btn-ghost" id="learnMore">Learn More</button>
        </div>
        <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
          <div class="pill">Free shipping over $50</div>
          <small style="color:var(--muted)">‚Ä¢ 30-day returns ‚Ä¢ 24/7 support</small>
        </div>
      </div>
      <div class="hero-right" aria-hidden="true">
        <div class="hero-card">
          <span style="font-size:13px;color:var(--muted);position:absolute;top:12px;left:14px">Editor's pick</span>
          <img src="https://picsum.photos/seed/hero/420/260" alt="Featured product" />
          <div style="display:flex;justify-content:space-between;width:100%;margin-top:10px;align-items:center">
            <div>
              <div style="font-weight:700">Smart Home Speaker</div>
              <small style="color:var(--muted)">Now $79.00 <span style="text-decoration:line-through;color:var(--muted);font-weight:600"> $129</span></small>
            </div>
            <button class="btn-primary" style="padding:8px 12px">Buy</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Popular items -->
    <section class="section" aria-labelledby="popular-title">
      <h2 id="popular-title">Popular Items</h2>
      <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px">
        <small style="color:var(--muted)">Curated just for you</small>
        <div style="margin-left:auto;display:flex;gap:8px">
          <label style="color:var(--muted);font-size:13px">Sort:</label>
          <select id="sort" style="padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.06)">
            <option value="popular">Most Popular</option>
            <option value="price-asc">Price ‚Äî Low to High</option>
            <option value="price-desc">Price ‚Äî High to Low</option>
            <option value="new">Newest</option>
          </select>
        </div>
      </div>

      <div class="grid" id="productGrid">
        <!-- product cards will be rendered by JS for demo -->
      </div>
    </section>

    <!-- Deals -->
    <section class="section" aria-labelledby="deals-title">
      <h2 id="deals-title">Hot Deals (Limited Time)</h2>
      <div class="deals">
        <div class="carousel" id="dealCarousel" aria-live="polite">
          <!-- deal cards -->
        </div>
        <div class="carousel-controls" aria-hidden="false">
          <button class="control-btn" id="dealPrev" title="Previous deal" aria-label="Previous deal">‚Äπ</button>
          <button class="control-btn" id="dealNext" title="Next deal" aria-label="Next deal">‚Ä∫</button>
        </div>
      </div>
    </section>

    <!-- Blog posts -->
    <section class="section" aria-labelledby="blog-title">
      <h2 id="blog-title">From the Blog</h2>
      <p style="color:var(--muted);margin-top:6px">Tips, stories, and inspiration to make smarter purchases.</p>
      <div class="blogs" id="blogList" style="margin-top:12px">
        <!-- posts -->
      </div>
    </section>

    <section style="margin-top:20px;display:flex;gap:12px;align-items:center;justify-content:space-between">
      <div class="newsletter" aria-label="Newsletter signup">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="width:44px;height:44px;background:linear-gradient(90deg,var(--accent),#ff9b9b);border-radius:10px;display:grid;place-items:center;color:#fff;font-weight:700">N</div>
          <div>
            <div style="font-weight:700">Stay in-the-know</div>
            <small style="color:var(--muted)">Exclusive offers & early access</small>
          </div>
        </div>
        <div style="margin-left:auto;display:flex;gap:8px">
          <input id="newsletterEmail" type="email" placeholder="Your email" aria-label="Newsletter email">
          <button class="btn-primary" id="subscribeBtn">Subscribe</button>
        </div>
      </div>

      <div style="display:flex;gap:12px;align-items:center">
        <small style="color:var(--muted)">Need help?</small>
        <button class="btn-ghost" onclick="location.href='#'">Contact support</button>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-inner" role="contentinfo">
      <div style="display:flex;flex-direction:column;gap:8px">
        <div style="display:flex;gap:10px;align-items:center">
          <div class="logo" aria-hidden style="width:44px;height:44px;border-radius:10px">SE</div>
          <div>
            <div style="font-weight:700">ShopEasy</div>
            <small style="color:var(--muted)">¬© <span id="year"></span> ShopEasy, Inc.</small>
          </div>
        </div>
        <small style="color:var(--muted);max-width:320px">Built for shoppers who care about quality and value. Free returns and instant refunds.</small>
      </div>

      <div style="display:flex;gap:28px">
        <div>
          <div style="font-weight:700">Company</div>
          <nav style="display:flex;flex-direction:column;margin-top:8px">
            <a href="#" style="text-decoration:none;color:var(--muted);margin-bottom:6px">About</a>
            <a href="#" style="text-decoration:none;color:var(--muted);margin-bottom:6px">Careers</a>
            <a href="#" style="text-decoration:none;color:var(--muted)">Press</a>
          </nav>
        </div>
        <div>
          <div style="font-weight:700">Support</div>
          <nav style="display:flex;flex-direction:column;margin-top:8px">
            <a href="#" style="text-decoration:none;color:var(--muted);margin-bottom:6px">Help Center</a>
            <a href="#" style="text-decoration:none;color:var(--muted);margin-bottom:6px">Shipping</a>
            <a href="#" style="text-decoration:none;color:var(--muted)">Returns</a>
          </nav>
        </div>
      </div>
    </div>
  </footer>

  <!-- Cart panel -->
  <aside id="cartPanel" class="cart-panel" role="dialog" aria-label="Shopping cart" aria-hidden="true">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:700">Your Cart</div>
      <button class="icon-btn" id="closeCart" aria-label="Close cart">‚úï</button>
    </div>
    <div id="cartItems" style="display:flex;flex-direction:column;gap:8px;max-height:300px;overflow:auto;padding-top:6px">
      <div class="empty">Your cart is empty. Add items to get started.</div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;padding-top:6px">
      <div>
        <small style="color:var(--muted)">Subtotal</small>
        <div id="cartSubtotal" style="font-weight:700">$0.00</div>
      </div>
      <div style="display:flex;flex-direction:column;gap:8px">
        <button class="btn-primary" id="checkoutBtn">Checkout</button>
        <button class="btn-ghost" id="clearCart">Clear</button>
      </div>
    </div>
  </aside>

  <script>
    // Demo data
    const products = [
      { id:1, title:"Wireless Earbuds Pro", price:59, old:99, rating:4.6, img:"https://picsum.photos/seed/p1/600/400", badge:"Bestseller"},
      { id:2, title:"Compact Espresso Maker", price:129, old:199, rating:4.8, img:"https://picsum.photos/seed/p2/600/400"},
      { id:3, title:"Eco Leather Backpack", price:79, old:129, rating:4.5, img:"https://picsum.photos/seed/p3/600/400", badge:"New"},
      { id:4, title:"Smart Air Purifier", price:99, old:159, rating:4.7, img:"https://picsum.photos/seed/p4/600/400"},
      { id:5, title:"Noise-Cancelling Headphones", price:149, old:249, rating:4.9, img:"https://picsum.photos/seed/p5/600/400", badge:"Hot"},
      { id:6, title:"Minimal Wristwatch", price:49, old:79, rating:4.3, img:"https://picsum.photos/seed/p6/600/400"},
      { id:7, title:"Portable Projector", price:199, old:279, rating:4.4, img:"https://picsum.photos/seed/p7/600/400"},
      { id:8, title:"Organic Bedding Set", price:119, old:179, rating:4.6, img:"https://picsum.photos/seed/p8/600/400"}
    ];

    const deals = [
      { id:101, title:"Smartwatch Flash Deal", price:89, old:179, img:"https://picsum.photos/seed/d1/600/400", endsIn: 1000*60*60*6 }, // 6 hours
      { id:102, title:"Wireless Charger Pack", price:29, old:59, img:"https://picsum.photos/seed/d2/600/400", endsIn: 1000*60*30 }, // 30 mins
      { id:103, title:"4K Action Camera", price:149, old:299, img:"https://picsum.photos/seed/d3/600/400", endsIn: 1000*60*60*24 }, // 24 hours
      { id:104, title:"Bamboo Cutting Board Set", price:39, old:69, img:"https://picsum.photos/seed/d4/600/400", endsIn: 1000*60*60*12 } // 12 hours
    ];

    const posts = [
      { id:201, title:"How to Choose the Right Headphones", excerpt:"Buying headphones? Learn about drivers, noise-canceling, battery life and what matters for your lifestyle.", img:"https://picsum.photos/seed/b1/800/500", tag:"Guides"},
      { id:202, title:"5 Home Gadgets That Make Life Easier", excerpt:"From smart plugs to robot vacuums ‚Äî small upgrades that save time and energy.", img:"https://picsum.photos/seed/b2/800/500", tag:"Lifestyle"},
      { id:203, title:"Sustainable Materials to Look For", excerpt:"Spot eco-friendly products by recognizing materials and certifications.", img:"https://picsum.photos/seed/b3/800/500", tag:"Sustainability"}
    ];

    // Utilities
    function formatPrice(v){ return "$" + v.toFixed(2) }

    // Render products
    const productGrid = document.getElementById('productGrid');
    function renderProducts(list){
      productGrid.innerHTML = '';
      list.forEach(p=>{
        const el = document.createElement('article');
        el.className = 'product';
        el.setAttribute('data-id', p.id);
        el.innerHTML = `
          <div class="img-wrap">
            ${p.badge ? `<div class="badge">${p.badge}</div>` : ''}
            <img src="${p.img}" alt="${p.title}">
          </div>
          <div>
            <div class="title">${p.title}</div>
            <div class="meta">
              <div><span class="stars" aria-hidden>${renderStars(p.rating)}</span> <small style="color:var(--muted)"> ${p.rating}</small></div>
              <div style="text-align:right"><div class="price">${formatPrice(p.price)}</div><div class="old">${p.old ? formatPrice(p.old) : ''}</div></div>
            </div>
          </div>
          <div class="actions">
            <button class="add-btn" data-id="${p.id}">Add to cart</button>
            <button class="quick" data-id="${p.id}" title="Quick view" aria-label="Quick view">üîç</button>
          </div>
        `;
        productGrid.appendChild(el);
      });
    }

    function renderStars(r){
      const full = Math.floor(r);
      const half = r - full >= 0.5;
      let s = '';
      for(let i=0;i<full;i++) s += '‚òÖ';
      if(half) s += '¬Ω';
      while(s.replace('¬Ω','').length < 5) s += '‚òÜ';
      return s;
    }

    // Sorting
    document.getElementById('sort').addEventListener('change', (e)=>{
      const v = e.target.value;
      let sorted = [...products];
      if(v === 'price-asc') sorted.sort((a,b)=>a.price-b.price);
      else if(v === 'price-desc') sorted.sort((a,b)=>b.price-a.price);
      else if(v === 'new') sorted.sort((a,b)=>b.id-a.id);
      else sorted = [...products];
      renderProducts(sorted);
      attachProductEvents();
    });

    // Deals carousel
    const dealCarousel = document.getElementById('dealCarousel');
    function renderDeals(){
      dealCarousel.innerHTML = '';
      deals.forEach((d, idx)=>{
        const card = document.createElement('div');
        card.className = 'deal-card';
        card.setAttribute('data-index', idx);
        card.innerHTML = `
          <div class="deal-top">
            <div style="font-weight:700">${d.title}</div>
            <div class="countdown" data-ends="${Date.now()+d.endsIn}">00:00:00</div>
          </div>
          <img src="${d.img}" alt="${d.title}">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:700">${formatPrice(d.price)}</div>
              <small style="color:var(--muted);text-decoration:line-through">${formatPrice(d.old)}</small>
            </div>
            <button class="btn-primary" data-dealid="${d.id}">Grab Deal</button>
          </div>
        `;
        dealCarousel.appendChild(card);
      });
    }

    function updateCountdowns(){
      document.querySelectorAll('.countdown').forEach(el=>{
        const ends = Number(el.getAttribute('data-ends'));
        const diff = ends - Date.now();
        if(diff <= 0){ el.textContent = 'Ended'; return; }
        const h = Math.floor(diff/1000/60/60);
        const m = Math.floor(diff/1000/60)%60;
        const s = Math.floor(diff/1000)%60;
        el.textContent = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
      });
    }

    // Carousel controls
    let carouselIndex = 0;
    function showDealIndex(i){
      const cards = Array.from(dealCarousel.children);
      if(cards.length === 0) return;
      carouselIndex = (i + cards.length) % cards.length;
      cards.forEach((c, idx)=>{
        c.style.transform = `translateX(${(idx - carouselIndex) * (c.getBoundingClientRect().width + 14)}px)`;
        c.style.transition = 'transform 400ms';
      });
    }

    document.getElementById('dealPrev').addEventListener('click', ()=>showDealIndex(carouselIndex - 1));
    document.getElementById('dealNext').addEventListener('click', ()=>showDealIndex(carouselIndex + 1));

    // Blogs
    const blogList = document.getElementById('blogList');
    function renderBlogs(){
      blogList.innerHTML = '';
      posts.forEach(p=>{
        const el = document.createElement('article');
        el.className = 'post';
        el.innerHTML = `
          <img src="${p.img}" alt="${p.title}">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:700">${p.title}</div>
            <div class="tag">${p.tag}</div>
          </div>
          <p style="color:var(--muted);margin:6px 0 0">${p.excerpt}</p>
          <div style="margin-top:auto;display:flex;justify-content:flex-end">
            <button class="btn-ghost" onclick="alert('Open post ${p.id}')">Read more</button>
          </div>
        `;
        blogList.appendChild(el);
      });
    }

    // Cart logic
    const cartKey = 'shop_cart_demo';
    function getCart(){ return JSON.parse(localStorage.getItem(cartKey) || '[]'); }
    function saveCart(cart){ localStorage.setItem(cartKey, JSON.stringify(cart)); updateCartUI(); }
    function addToCart(item){
      const cart = getCart();
      const existing = cart.find(i=>i.id===item.id);
      if(existing) existing.qty++;
      else cart.push({...item, qty:1});
      saveCart(cart);
    }
    function removeFromCart(id){
      let cart = getCart();
      cart = cart.filter(i=>i.id!==id);
      saveCart(cart);
    }
    function clearCart(){ localStorage.removeItem(cartKey); updateCartUI(); }

    function updateCartUI(){
      const cartPanel = document.getElementById('cartPanel');
      const cartItems = document.getElementById('cartItems');
      const cartCount = document.getElementById('cartCount');
      const subtotalEl = document.getElementById('cartSubtotal');
      const cart = getCart();
      cartCount.textContent = cart.reduce((s,i)=>s+i.qty,0);
      if(cart.length === 0){
        cartItems.innerHTML = '<div class="empty">Your cart is empty. Add items to get started.</div>';
        subtotalEl.textContent = '$0.00';
      } else {
        cartItems.innerHTML = '';
        let subtotal = 0;
        cart.forEach(i=>{
          subtotal += i.price * i.qty;
          const item = document.createElement('div');
          item.className = 'cart-item';
          item.innerHTML = `
            <img src="${i.img}" alt="${i.title}">
            <div style="flex:1">
              <div style="font-weight:700">${i.title}</div>
              <small style="color:var(--muted)">Qty: ${i.qty}</small>
            </div>
            <div style="text-align:right">
              <div style="font-weight:700">${formatPrice(i.price * i.qty)}</div>
              <button class="btn-ghost" data-remove="${i.id}" style="margin-top:6px">Remove</button>
            </div>
          `;
          cartItems.appendChild(item);
        });
        subtotalEl.textContent = formatPrice(subtotal);
      }
      // reflect open/close
      const open = cartPanel.classList.contains('cart-open');
      cartPanel.setAttribute('aria-hidden', String(!open));
    }

    // Attach product events
    function attachProductEvents(){
      document.querySelectorAll('.add-btn').forEach(btn=>{
        btn.onclick = (e)=>{
          const id = Number(btn.getAttribute('data-id'));
          const p = products.find(x=>x.id===id);
          addToCart(p);
          // show mini feedback
          btn.textContent = 'Added';
          setTimeout(()=>btn.textContent='Add to cart',800);
        };
      });
      document.querySelectorAll('.quick').forEach(q=>{
        q.onclick = (e)=>{
          const id = Number(q.getAttribute('data-id'));
          const p = products.find(x=>x.id===id);
          showQuickView(p);
        };
      });
    }

    // Quick view modal (simple)
    function showQuickView(p){
      const modal = document.createElement('div');
      modal.style.position='fixed';
      modal.style.inset='0';
      modal.style.display='grid';
      modal.style.placeItems='center';
      modal.style.background='rgba(2,6,23,0.4)';
      modal.style.zIndex=120;
      modal.innerHTML = `
        <div style="width:90%;max-width:720px;background:white;border-radius:12px;padding:18px;box-shadow:0 20px 60px rgba(2,6,23,0.2);display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <div><img src="${p.img}" alt="${p.title}" style="width:100%;height:100%;object-fit:cover;border-radius:10px"></div>
          <div style="display:flex;flex-direction:column">
            <div style="display:flex;justify-content:space-between;align-items:flex-start">
              <div><h3 style="margin:0">${p.title}</h3><small style="color:var(--muted)">${p.rating} ‚òÖ</small></div>
              <button class="icon-btn" style="height:40px" id="closeQuick">‚úï</button>
            </div>
            <p style="color:var(--muted);margin-top:8px">Short description about the product. High quality, great reviews, and fast shipping.</p>
            <div style="margin-top:auto;display:flex;gap:8px;align-items:center">
              <div style="font-weight:700;font-size:18px">${formatPrice(p.price)}</div>
              <div style="color:var(--muted);text-decoration:line-through">${formatPrice(p.old)}</div>
            </div>
            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn-primary" id="quickAdd">Add to cart</button>
              <button class="btn-ghost" id="viewDetails">View details</button>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      modal.querySelector('#closeQuick').onclick = ()=>modal.remove();
      modal.querySelector('#quickAdd').onclick = ()=>{
        addToCart(p);
        modal.remove();
      };
      modal.onclick = (e)=>{ if(e.target === modal) modal.remove(); };
    }

    // Cart panel toggles
    const cartPanel = document.getElementById('cartPanel');
    document.getElementById('cartToggle').addEventListener('click', ()=>{
      const open = cartPanel.classList.toggle('cart-open');
      cartPanel.style.display = open ? 'flex' : 'none';
      document.getElementById('cartToggle').setAttribute('aria-expanded', String(open));
      cartPanel.setAttribute('aria-hidden', String(!open));
      if(open) cartPanel.scrollTop = 0;
    });
    document.getElementById('closeCart').addEventListener('click', ()=>{
      cartPanel.classList.remove('cart-open');
      cartPanel.style.display = 'none';
      document.getElementById('cartToggle').setAttribute('aria-expanded', 'false');
      cartPanel.setAttribute('aria-hidden', 'true');
    });

    document.getElementById('clearCart').addEventListener('click', ()=>clearCart());
    document.getElementById('checkoutBtn').addEventListener('click', ()=>{
      alert('Proceeding to checkout ‚Äî demo only');
    });

    // remove button delegation inside cart
    document.getElementById('cartItems').addEventListener('click', (e)=>{
      const rem = e.target.closest('[data-remove]');
      if(rem){
        const id = Number(rem.getAttribute('data-remove'));
        removeFromCart(id);
      }
    });

    // Subscribe demo
    document.getElementById('subscribeBtn').addEventListener('click', ()=>{
      const email = document.getElementById('newsletterEmail').value;
      if(!email || !email.includes('@')){ alert('Please enter a valid email.'); return; }
      alert('Thanks for subscribing! Check your inbox.');
      document.getElementById('newsletterEmail').value = '';
    });

    // Populate initial UI
    renderProducts(products);
    attachProductEvents();
    renderDeals();
    renderBlogs();
    updateCountdowns();
    setInterval(updateCountdowns, 1000);
    // Carousel auto
    setInterval(()=>showDealIndex(carouselIndex+1), 5000);
    // Show center index on load (after images loaded)
    window.addEventListener('load', ()=> {
      // wait a tick for layout
      setTimeout(()=>showDealIndex(0), 50);
    });

    // Update year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Keep cart updated across reloads
    updateCartUI();

    // Simple search filter
    document.getElementById('search').addEventListener('input', (e)=>{
      const q = e.target.value.trim().toLowerCase();
      if(!q){ renderProducts(products); attachProductEvents(); return; }
      const filtered = products.filter(p=>p.title.toLowerCase().includes(q));
      renderProducts(filtered);
      attachProductEvents();
    });

    // Keyboard accessibility: close quick view or cart with Escape
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){
        // close cart
        cartPanel.classList.remove('cart-open');
        cartPanel.style.display = 'none';
        cartPanel.setAttribute('aria-hidden', 'true');
        document.getElementById('cartToggle').setAttribute('aria-expanded','false');
        // remove any modals quick view
        document.querySelectorAll('body > div').forEach(d=>{
          // quick view created by script is direct child: detect by inner content with closeQuick
          if(d.querySelector && d.querySelector('#closeQuick')) d.remove();
        });
      }
    });

    // Checkout: guest demo
    document.getElementById('shopNow').addEventListener('click', ()=>window.scrollTo({top:document.querySelector('#popular-title').offsetTop - 20, behavior:'smooth'}));
  </script>
</body>
</html>