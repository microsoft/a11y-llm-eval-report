<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ShopNest — Your Favorite Online Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Discover popular items, hot deals, and insightful blog posts at ShopNest. Your one-stop shop for modern essentials." />
  <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect width='64' height='64' rx='12' fill='%23005AC2'/><path d='M12 20h40l-6 28H18l-6-28z' fill='%23fff'/><circle cx='24' cy='52' r='3' fill='%23fff'/><circle cx='40' cy='52' r='3' fill='%23fff'/></svg>">
  <style>
    :root {
      --bg: #0f1220;
      --bg-elev: #161a2f;
      --card: #1c2140;
      --text: #ecf0ff;
      --muted: #c7cbee;
      --brand: #5b8cff;
      --brand-2: #7ed6ff;
      --accent: #00d28a;
      --danger: #ff6b6b;
      --warning: #ffd66b;
      --shadow: 0 10px 25px rgba(0,0,0,0.25);
      --radius: 14px;
      --radius-sm: 10px;
      --radius-lg: 18px;
      --maxw: 1200px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
      background: radial-gradient(1400px 600px at 10% -10%, #17204a 0%, #0f1220 50%), var(--bg);
      color: var(--text);
      line-height: 1.5;
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display: block; }
    button { font: inherit; cursor: pointer; }

    .container { width: 100%; max-width: var(--maxw); margin-inline: auto; padding-inline: 24px; }

    /* Header */
    .header {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: blur(16px);
      background: rgba(15,18,32,0.75);
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }
    .header-bar {
      display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 18px;
      padding: 14px 0;
    }
    .logo {
      display: inline-flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: 0.2px;
    }
    .logo-badge {
      display: grid; place-items: center; width: 36px; height: 36px; border-radius: 10px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      box-shadow: var(--shadow);
    }
    .nav { display: flex; gap: 12px; align-items: center; }
    .nav a {
      padding: 10px 14px; border-radius: 12px; color: var(--muted);
    }
    .nav a:hover { background: rgba(255,255,255,0.06); color: var(--text); }

    .search {
      display: flex; align-items: center; gap: 10px; background: var(--bg-elev);
      border: 1px solid rgba(255,255,255,0.08); padding: 8px 12px; border-radius: 999px;
      width: 100%;
      max-width: 520px;
    }
    .search input {
      border: 0; background: transparent; outline: none; color: var(--text); width: 100%;
    }
    .icons { display: flex; gap: 10px; align-items: center; }
    .icon-btn {
      position: relative;
      display: inline-flex; align-items: center; justify-content: center;
      width: 40px; height: 40px; border-radius: 12px; background: var(--bg-elev);
      border: 1px solid rgba(255,255,255,0.08);
    }
    .badge {
      position: absolute; top: -6px; right: -6px;
      background: var(--accent); color: #041414; font-weight: 700; font-size: 12px;
      border-radius: 999px; padding: 2px 6px; border: 1px solid #fff1;
    }

    /* Hero */
    .hero {
      position: relative; overflow: hidden; border-radius: var(--radius-lg);
      margin: 20px 0 30px;
      background:
        radial-gradient(800px 400px at 90% 10%, #1b275e 0%, #161a2f 50%) ,
        linear-gradient(180deg, #121635 0%, #0f1220 70%);
      box-shadow: var(--shadow);
    }
    .hero-inner {
      display: grid; grid-template-columns: 1.2fr 1fr; gap: 30px; padding: 40px;
    }
    .hero h1 { font-size: 2.6rem; margin: 0; letter-spacing: -0.5px; }
    .hero p { margin: 10px 0 24px; color: var(--muted); max-width: 60ch; }
    .hero-cta { display: flex; gap: 12px; flex-wrap: wrap; }
    .btn {
      display: inline-flex; align-items: center; gap: 10px;
      border: 0; padding: 12px 18px; border-radius: 14px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); color: #06102e;
      font-weight: 800;
      box-shadow: 0 10px 20px rgba(91,140,255,0.25);
    }
    .btn.secondary {
      background: var(--bg-elev);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: none;
    }
    .hero-art {
      position: relative; border-radius: 18px; overflow: hidden;
      background: conic-gradient(from 180deg at 50% 50%, #5b8cff44 0deg, #7ed6ff44 120deg, #00d28a44 240deg, #5b8cff44 360deg);
      border: 1px solid rgba(255,255,255,0.08);
    }
    .hero-art::after {
      content: ""; position: absolute; inset: 0;
      background:
        radial-gradient(300px 120px at 85% 30%, #ffffff0f 0%, transparent 60%),
        radial-gradient(500px 180px at 15% 70%, #ffffff08 0%, transparent 70%);
    }
    .hero-kpis {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 12px;
    }
    .kpi {
      background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px; padding: 12px; text-align: center;
    }
    .kpi b { display: block; font-size: 1.2rem; }

    /* Section */
    .section { margin: 30px 0; }
    .section-header {
      display: flex; justify-content: space-between; align-items: end; gap: 16px; margin-bottom: 16px;
    }
    .section-title {
      font-size: 1.6rem; margin: 0;
    }
    .section-sub { color: var(--muted); margin: 4px 0 0; font-size: 0.95rem; }
    .tabs { display: flex; gap: 8px; }
    .tab {
      padding: 8px 12px; border-radius: 12px; background: var(--bg-elev);
      border: 1px solid rgba(255,255,255,0.08); color: var(--muted);
    }
    .tab.active { background: rgba(91,140,255,0.15); color: var(--text); border-color: rgba(91,140,255,0.35); }

    /* Product grid */
    .grid { display: grid; gap: 16px; }
    .grid.cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }

    .card {
      background: var(--card);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    .product-photo {
      position: relative; height: 180px;
      background: linear-gradient(135deg, #28305f, #1d2246);
      display: grid; place-items: center;
    }
    .product-photo .glow {
      position: absolute; inset: -20%; filter: blur(35px); opacity: 0.5;
      background: radial-gradient(220px 140px at 35% 30%, #5b8cff66, transparent 70%), radial-gradient(160px 120px at 70% 70%, #00d28a55, transparent 60%);
    }
    .product-badge {
      position: absolute; top: 10px; left: 10px;
      background: rgba(0,210,138,0.9); color: #02140f; font-weight: 800; font-size: 12px;
      padding: 6px 10px; border-radius: 999px;
      border: 1px solid #ffffff22;
    }
    .fav-btn {
      position: absolute; top: 10px; right: 10px;
      background: rgba(255,255,255,0.12); border: 1px solid rgba(255,255,255,0.15);
      width: 36px; height: 36px; display: grid; place-items: center;
      border-radius: 999px;
    }
    .fav-btn.active { background: rgba(255,107,107,0.25); border-color: rgba(255,107,107,0.5); }
    .product-title {
      position: relative; z-index: 1; font-weight: 800; letter-spacing: 0.2px;
      padding: 0 14px; text-align: center;
    }
    .product-body { padding: 12px; }
    .price-row { display: flex; align-items: baseline; gap: 10px; }
    .price { font-weight: 800; font-size: 1.2rem; color: var(--text); }
    .price-old { color: #ffffff66; text-decoration: line-through; }
    .rating { display: flex; align-items: center; gap: 6px; color: #ffd66b; margin: 6px 0; }
    .desc { color: var(--muted); font-size: 0.94rem; height: 44px; overflow: hidden; }
    .actions { display: flex; gap: 10px; margin-top: 12px; }
    .btn.small { padding: 10px 12px; border-radius: 12px; font-size: 0.95rem; }
    .btn.ghost {
      background: rgba(255,255,255,0.08); color: var(--text);
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: none;
    }

    /* Deals */
    .deal-card .product-photo { background: linear-gradient(135deg, #264161, #212d40); }
    .deal-badge {
      background: linear-gradient(135deg, #ff8fa3, #ff6b6b); color: #2a0b0b;
    }
    .countdown {
      display: inline-flex; gap: 10px; background: rgba(255,255,255,0.08);
      border-radius: 12px; border: 1px solid rgba(255,255,255,0.12); padding: 10px 12px;
      align-items: center; color: var(--muted);
    }
    .time-box {
      background: var(--bg-elev); color: var(--text); padding: 8px 10px; border-radius: 10px; min-width: 54px; text-align: center; font-weight: 800;
      border: 1px solid rgba(255,255,255,0.08);
    }

    /* Blog cards */
    .blog-card .product-photo { height: 160px; background: linear-gradient(135deg, #28305f, #334069); }
    .blog-card h3 { margin: 8px 0; font-size: 1.05rem; }
    .blog-meta { color: #b9beee; font-size: 0.86rem; }
    .blog-card .desc { height: auto; }
    .read-more {
      color: var(--brand-2); font-weight: 700; display: inline-flex; align-items: center; gap: 6px;
    }

    /* Benefits */
    .benefits {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px;
    }
    .benefit {
      background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08);
      border-radius: 14px; padding: 12px; display: flex; gap: 10px; align-items: center;
    }
    .benefit-icon {
      width: 40px; height: 40px; border-radius: 12px; display: grid; place-items: center;
      background: rgba(91,140,255,0.2); border: 1px solid rgba(91,140,255,0.4);
    }

    /* Newsletter */
    .newsletter {
      background: linear-gradient(135deg, #16203e, #11162d);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: var(--radius-lg);
      padding: 22px;
      box-shadow: var(--shadow);
    }
    .newsletter form { display: grid; grid-template-columns: 1.2fr auto; gap: 10px; margin-top: 12px; }
    .newsletter input {
      padding: 12px 14px; border-radius: 12px; color: var(--text);
      background: var(--bg-elev); border: 1px solid rgba(255,255,255,0.12);
      outline: none;
    }

    /* Footer */
    .footer {
      margin-top: 40px; padding: 30px 0; border-top: 1px solid rgba(255,255,255,0.08);
      background: rgba(15,18,32,0.5);
    }
    .footer-grid {
      display: grid; grid-template-columns: 1.3fr 1fr 1fr 1fr; gap: 16px;
    }
    .footer h4 { margin: 0 0 8px; }
    .footer ul { list-style: none; padding: 0; margin: 0; }
    .footer li { margin: 6px 0; color: var(--muted); }
    .footer a:hover { color: var(--text); }
    .social { display: flex; gap: 10px; margin-top: 10px; }
    .social a {
      width: 36px; height: 36px; border-radius: 10px; display: grid; place-items: center;
      background: var(--bg-elev); border: 1px solid rgba(255,255,255,0.12);
    }

    /* Modal */
    .modal-backdrop {
      position: fixed; inset: 0; background: rgba(0,0,0,0.6);
      display: none; align-items: center; justify-content: center; z-index: 100;
    }
    .modal {
      width: min(680px, 92vw);
      background: var(--card);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .modal-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 12px 16px; border-bottom: 1px solid rgba(255,255,255,0.08);
    }
    .modal-body { padding: 16px; display: grid; grid-template-columns: 1fr 1.2fr; gap: 16px; }
    .close-btn {
      width: 36px; height: 36px; border-radius: 10px; display: grid; place-items: center;
      background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.12);
    }

    /* Toast */
    .toast {
      position: fixed; bottom: 20px; right: 20px; z-index: 150;
      background: var(--bg-elev); border: 1px solid rgba(255,255,255,0.12);
      border-radius: 12px; padding: 12px 14px; display: flex; gap: 10px; align-items: center;
      box-shadow: var(--shadow); color: var(--text); transform: translateY(20px); opacity: 0; pointer-events: none;
      transition: transform 0.25s ease, opacity 0.25s ease;
    }
    .toast.show { transform: translateY(0); opacity: 1; pointer-events: auto; }

    /* Responsive */
    @media (max-width: 1024px) {
      .hero-inner { grid-template-columns: 1fr; }
      .footer-grid { grid-template-columns: 1fr 1fr; }
      .benefits { grid-template-columns: repeat(2, 1fr); }
      .grid.cols-4 { grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 768px) {
      .nav { display: none; }
      .hero h1 { font-size: 2.2rem; }
      .grid.cols-4 { grid-template-columns: repeat(2, 1fr); }
      .grid.cols-3 { grid-template-columns: repeat(2, 1fr); }
      .modal-body { grid-template-columns: 1fr; }
    }
    @media (max-width: 520px) {
      .grid.cols-4, .grid.cols-3 { grid-template-columns: 1fr; }
      .newsletter form { grid-template-columns: 1fr; }
      .footer-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <header class="header" role="banner">
    <div class="container header-bar">
      <a class="logo" href="#" aria-label="ShopNest Home">
        <span class="logo-badge">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="#06102e" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M5 6h14l-2 10H7L5 6z" fill="white"/>
            <circle cx="9" cy="18" r="2" fill="white"/>
            <circle cx="15" cy="18" r="2" fill="white"/>
          </svg>
        </span>
        <span>ShopNest</span>
      </a>

      <div class="search" role="search">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="#b9beee" aria-hidden="true"><path d="M10 3a7 7 0 015.487 11.48l4.016 4.016-1.414 1.414-4.016-4.016A7 7 0 1110 3zm0 2a5 5 0 100 10 5 5 0 000-10z"/></svg>
        <input id="searchInput" type="search" placeholder="Search for products, brands and categories..." aria-label="Search">
      </div>

      <div class="icons">
        <button class="icon-btn" aria-label="Favorites">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#ff6b6b" aria-hidden="true"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg>
        </button>
        <button class="icon-btn" aria-label="Cart">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#b9beee" aria-hidden="true"><path d="M7 4h-2v2h2l3.6 7.59-1.35 2.45A2 2 0 0011 18h8v-2h-8l1.1-2h5.45a2 2 0 001.8-1.1l3.2-6.4A1 1 0 0022 4h-14zm3 14a2 2 0 100 4 2 2 0 000-4zm8 0a2 2 0 100 4 2 2 0 000-4z"/></svg>
          <span id="cartBadge" class="badge" aria-label="Items in cart">0</span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <section class="hero" aria-label="Featured">
        <div class="hero-inner">
          <div>
            <h1>Elevate Everyday Living</h1>
            <p>Discover curated essentials, trending tech, and modern home upgrades. Enjoy free shipping on orders over $50 and daily deals you don't want to miss.</p>
            <div class="hero-cta">
              <button class="btn" id="shopNowBtn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="#06102e" aria-hidden="true"><path d="M12 4l8 8-8 8-1.41-1.41L16.17 13H4v-2h12.17L10.59 5.41 12 4z"/></svg>
                Shop now
              </button>
              <button class="btn secondary" id="viewDealsBtn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="#b9beee" aria-hidden="true"><path d="M12 2l4 4h4v4l4 4-4 4v4h-4l-4 4-4-4H4v-4l-4-4 4-4V6h4l4-4z" fill="#b9beee"/></svg>
                View deals
              </button>
            </div>
            <div class="hero-kpis">
              <div class="kpi"><b>50K+</b><span class="section-sub">Happy customers</span></div>
              <div class="kpi"><b>2-Day</b><span class="section-sub">Average delivery</span></div>
              <div class="kpi"><b>4.8/5</b><span class="section-sub">Store rating</span></div>
            </div>
          </div>
          <div class="hero-art" aria-hidden="true"></div>
        </div>
      </section>

      <section class="section" aria-labelledby="popular-heading">
        <div class="section-header">
          <div>
            <h2 id="popular-heading" class="section-title">Popular Items</h2>
            <p class="section-sub">Best-selling picks our customers love</p>
          </div>
          <div class="tabs" role="tablist" aria-label="Popular filters">
            <button class="tab active" role="tab" aria-selected="true" data-filter="all">All</button>
            <button class="tab" role="tab" aria-selected="false" data-filter="tech">Tech</button>
            <button class="tab" role="tab" aria-selected="false" data-filter="home">Home</button>
            <button class="tab" role="tab" aria-selected="false" data-filter="fitness">Fitness</button>
          </div>
        </div>

        <div id="popularGrid" class="grid cols-4">
          <!-- Product Card 1 -->
          <article class="card product-card" data-category="tech" data-id="p1" data-title="Wireless Noise-Canceling Headphones" data-price="149" data-old="199" data-rating="4.7" data-desc="Immersive sound, 30-hour battery, and seamless Bluetooth 5.3 pairing.">
            <div class="product-photo" aria-label="Wireless Headphones">
              <div class="glow"></div>
              <span class="product-badge">Best Seller</span>
              <button class="fav-btn" aria-label="Add to favorites">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b" aria-hidden="true"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg>
              </button>
              <h3 class="product-title">Wireless Noise-Canceling Headphones</h3>
            </div>
            <div class="product-body">
              <div class="price-row">
                <span class="price">$149</span>
                <span class="price-old">$199</span>
              </div>
              <div class="rating" aria-label="Rating 4.7 out of 5">
                <span>★★★★★</span><span style="color:#c7cbee;">4.7</span>
              </div>
              <p class="desc">Immersive sound, 30-hour battery, and seamless Bluetooth 5.3 pairing.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product Card 2 -->
          <article class="card product-card" data-category="home" data-id="p2" data-title="Smart LED Ambient Light Bar" data-price="39" data-old="59" data-rating="4.6" data-desc="Mood lighting with app control, scenes, and music sync for cozy spaces.">
            <div class="product-photo" aria-label="Smart LED Ambient Light Bar">
              <div class="glow"></div>
              <span class="product-badge" style="background: rgba(91,140,255,0.9); color:#06102e;">New</span>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Smart LED Ambient Light Bar</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$39</span><span class="price-old">$59</span></div>
              <div class="rating" aria-label="Rating 4.6 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.6</span></div>
              <p class="desc">Mood lighting with app control, scenes, and music sync for cozy spaces.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product Card 3 -->
          <article class="card product-card" data-category="fitness" data-id="p3" data-title="Pro Yoga Mat with Alignment Lines" data-price="59" data-old="79" data-rating="4.8" data-desc="Non-slip cushioning with guides for perfect posture and balance.">
            <div class="product-photo" aria-label="Pro Yoga Mat">
              <div class="glow"></div>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Pro Yoga Mat with Alignment Lines</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$59</span><span class="price-old">$79</span></div>
              <div class="rating" aria-label="Rating 4.8 out of 5"><span>★★★★★</span><span style="color:#c7cbee;">4.8</span></div>
              <p class="desc">Non-slip cushioning with guides for perfect posture and balance.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product Card 4 -->
          <article class="card product-card" data-category="tech" data-id="p4" data-title="Compact Bluetooth Speaker" data-price="29" data-old="49" data-rating="4.5" data-desc="Portable sound with deep bass and 12-hour playtime.">
            <div class="product-photo" aria-label="Compact Bluetooth Speaker">
              <div class="glow"></div>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Compact Bluetooth Speaker</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$29</span><span class="price-old">$49</span></div>
              <div class="rating" aria-label="Rating 4.5 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.5</span></div>
              <p class="desc">Portable sound with deep bass and 12-hour playtime.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product Card 5 -->
          <article class="card product-card" data-category="home" data-id="p5" data-title="Ergonomic Mesh Office Chair" data-price="169" data-old="229" data-rating="4.7" data-desc="Lumbar support, breathable mesh, and adjustable comfort for long sessions.">
            <div class="product-photo" aria-label="Ergonomic Mesh Office Chair">
              <div class="glow"></div>
              <span class="product-badge">Trending</span>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Ergonomic Mesh Office Chair</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$169</span><span class="price-old">$229</span></div>
              <div class="rating" aria-label="Rating 4.7 out of 5"><span>★★★★★</span><span style="color:#c7cbee;">4.7</span></div>
              <p class="desc">Lumbar support, breathable mesh, and adjustable comfort for long sessions.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product Card 6 -->
          <article class="card product-card" data-category="fitness" data-id="p6" data-title="Stainless Steel Water Bottle 32oz" data-price="25" data-old="35" data-rating="4.6" data-desc="Vacuum insulated, keeps drinks cold up to 24h or hot up to 12h.">
            <div class="product-photo" aria-label="Stainless Steel Water Bottle">
              <div class="glow"></div>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Stainless Steel Water Bottle 32oz</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$25</span><span class="price-old">$35</span></div>
              <div class="rating" aria-label="Rating 4.6 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.6</span></div>
              <p class="desc">Vacuum insulated, keeps drinks cold up to 24h or hot up to 12h.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product Card 7 -->
          <article class="card product-card" data-category="home" data-id="p7" data-title="Bamboo Cutting Board Set" data-price="34" data-old="49" data-rating="4.4" data-desc="Durable, knife-friendly boards with juice grooves and non-slip feet.">
            <div class="product-photo" aria-label="Bamboo Cutting Board Set">
              <div class="glow"></div>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Bamboo Cutting Board Set</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$34</span><span class="price-old">$49</span></div>
              <div class="rating" aria-label="Rating 4.4 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.4</span></div>
              <p class="desc">Durable, knife-friendly boards with juice grooves and non-slip feet.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product Card 8 -->
          <article class="card product-card" data-category="tech" data-id="p8" data-title="USB-C GaN Charger 65W" data-price="44" data-old="59" data-rating="4.7" data-desc="Fast-charge laptop and phone simultaneously in a pocketable form factor.">
            <div class="product-photo" aria-label="USB-C GaN Charger 65W">
              <div class="glow"></div>
              <span class="product-badge" style="background: rgba(255,214,107,0.9); color:#2f2502;">Limited</span>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">USB-C GaN Charger 65W</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$44</span><span class="price-old">$59</span></div>
              <div class="rating" aria-label="Rating 4.7 out of 5"><span>★★★★★</span><span style="color:#c7cbee;">4.7</span></div>
              <p class="desc">Fast-charge laptop and phone simultaneously in a pocketable form factor.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section class="section" aria-labelledby="deals-heading">
        <div class="section-header">
          <div>
            <h2 id="deals-heading" class="section-title">Today’s Hot Deals</h2>
            <p class="section-sub">Limited-time offers—ends at midnight</p>
          </div>
          <div class="countdown" aria-live="polite">
            <span>Ends in</span>
            <span id="cd-hours" class="time-box">00</span>:
            <span id="cd-mins" class="time-box">00</span>:
            <span id="cd-secs" class="time-box">00</span>
          </div>
        </div>

        <div class="grid cols-4">
          <!-- Deal 1 -->
          <article class="card deal-card product-card" data-category="tech" data-id="d1" data-title="4K Action Camera" data-price="179" data-old="249" data-rating="4.5" data-desc="Stabilized footage, waterproof up to 10m, ideal for adventures.">
            <div class="product-photo" aria-label="4K Action Camera">
              <div class="glow"></div>
              <span class="product-badge deal-badge">-28%</span>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">4K Action Camera</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$179</span><span class="price-old">$249</span></div>
              <div class="rating" aria-label="Rating 4.5 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.5</span></div>
              <p class="desc">Stabilized footage, waterproof up to 10m, ideal for adventures.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Deal 2 -->
          <article class="card deal-card product-card" data-category="home" data-id="d2" data-title="Cordless Hand Vacuum" data-price="69" data-old="99" data-rating="4.4" data-desc="Easy spot cleaning with HEPA filter and quick-charge dock.">
            <div class="product-photo" aria-label="Cordless Hand Vacuum">
              <div class="glow"></div>
              <span class="product-badge deal-badge">-30%</span>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Cordless Hand Vacuum</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$69</span><span class="price-old">$99</span></div>
              <div class="rating" aria-label="Rating 4.4 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.4</span></div>
              <p class="desc">Easy spot cleaning with HEPA filter and quick-charge dock.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Deal 3 -->
          <article class="card deal-card product-card" data-category="fitness" data-id="d3" data-title="Adjustable Dumbbell Set" data-price="129" data-old="199" data-rating="4.6" data-desc="Space-saving weights that switch from 5–50 lbs in seconds.">
            <div class="product-photo" aria-label="Adjustable Dumbbell Set">
              <div class="glow"></div>
              <span class="product-badge deal-badge">-35%</span>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">Adjustable Dumbbell Set</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$129</span><span class="price-old">$199</span></div>
              <div class="rating" aria-label="Rating 4.6 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.6</span></div>
              <p class="desc">Space-saving weights that switch from 5–50 lbs in seconds.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Deal 4 -->
          <article class="card deal-card product-card" data-category="tech" data-id="d4" data-title="True Wireless Earbuds" data-price="59" data-old="99" data-rating="4.3" data-desc="Clear calls, active noise cancelation, and compact charging case.">
            <div class="product-photo" aria-label="True Wireless Earbuds">
              <div class="glow"></div>
              <span class="product-badge deal-badge">-40%</span>
              <button class="fav-btn" aria-label="Add to favorites"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M12 21s-7-4.534-9.5-7.5C-0.338 11.125.38 7.5 3.5 6c2.004-.997 4.177-.312 5.5 1.2C10.323 5.688 12.496 5.003 14.5 6c3.12 1.5 3.838 5.125 1 7.5C19 16.466 12 21 12 21z"/></svg></button>
              <h3 class="product-title">True Wireless Earbuds</h3>
            </div>
            <div class="product-body">
              <div class="price-row"><span class="price">$59</span><span class="price-old">$99</span></div>
              <div class="rating" aria-label="Rating 4.3 out of 5"><span>★★★★☆</span><span style="color:#c7cbee;">4.3</span></div>
              <p class="desc">Clear calls, active noise cancelation, and compact charging case.</p>
              <div class="actions">
                <button class="btn small add-cart">Add to cart</button>
                <button class="btn small ghost quick-view">Quick view</button>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section class="section" aria-labelledby="benefits-heading">
        <h2 id="benefits-heading" class="section-title">Why Shop with Us</h2>
        <div class="benefits">
          <div class="benefit">
            <div class="benefit-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="#06102e" aria-hidden="true"><path fill="#5b8cff" d="M3 6h18l-3 10H6L3 6z"/><circle cx="9" cy="18" r="2" fill="#7ed6ff"/><circle cx="15" cy="18" r="2" fill="#7ed6ff"/></svg>
            </div>
            <div><b>Free Shipping</b><div class="section-sub">On orders over $50</div></div>
          </div>
          <div class="benefit">
            <div class="benefit-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="#06102e" aria-hidden="true"><path fill="#7ed6ff" d="M12 2a10 10 0 100 20 10 10 0 000-20zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
            </div>
            <div><b>Support 24/7</b><div class="section-sub">Here when you need us</div></div>
          </div>
          <div class="benefit">
            <div class="benefit-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="#06102e" aria-hidden="true"><path fill="#00d28a" d="M12 2l9 6v8l-9 6-9-6V8l9-6zm0 4.5L6 10v4l6 4 6-4v-4l-6-3.5z"/></svg>
            </div>
            <div><b>Secure Payments</b><div class="section-sub">Encrypted checkout</div></div>
          </div>
          <div class="benefit">
            <div class="benefit-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="#06102e" aria-hidden="true"><path fill="#ffd66b" d="M4 4h16v2H4zm0 6h16v2H4zm0 6h10v2H4z"/></svg>
            </div>
            <div><b>Easy Returns</b><div class="section-sub">30-day window</div></div>
          </div>
        </div>
      </section>

      <section class="section" aria-labelledby="blog-heading">
        <div class="section-header">
          <div>
            <h2 id="blog-heading" class="section-title">From the Blog</h2>
            <p class="section-sub">Tips, guides, and inspiration for your lifestyle</p>
          </div>
          <a href="#" class="read-more" aria-label="View all blog posts">
            View all
            <svg width="16" height="16" viewBox="0 0 24 24" fill="#7ed6ff" aria-hidden="true"><path d="M12 4l8 8-8 8-1.41-1.41L16.17 13H4v-2h12.17L10.59 5.41 12 4z"/></svg>
          </a>
        </div>

        <div class="grid cols-3">
          <article class="card blog-card">
            <div class="product-photo" aria-label="Minimal desk setup">
              <div class="glow"></div>
              <span class="product-badge" style="background: rgba(91,140,255,0.9); color:#06102e;">Workspace</span>
            </div>
            <div class="product-body">
              <h3>Build a Productive Minimal Desk Setup</h3>
              <div class="blog-meta">Oct 2, 2025 • 6 min read</div>
              <p class="desc">From lighting to ergonomics, we share expert tips on crafting a clean, distraction-free desk that fuels focus.</p>
              <a href="#" class="read-more">Read more
                <svg width="14" height="14" viewBox="0 0 24 24" fill="#7ed6ff" aria-hidden="true"><path d="M12 4l8 8-8 8-1.41-1.41L16.17 13H4v-2h12.17L10.59 5.41 12 4z"/></svg>
              </a>
            </div>
          </article>

          <article class="card blog-card">
            <div class="product-photo" aria-label="Healthy living">
              <div class="glow"></div>
              <span class="product-badge" style="background: rgba(0,210,138,0.9); color:#02140f;">Wellness</span>
            </div>
            <div class="product-body">
              <h3>Hydration Hacks: Drink More Water Daily</h3>
              <div class="blog-meta">Sep 23, 2025 • 4 min read</div>
              <p class="desc">Simple routines and clever tools to stay hydrated, boost energy, and feel your best throughout the day.</p>
              <a href="#" class="read-more">Read more
                <svg width="14" height="14" viewBox="0 0 24 24" fill="#7ed6ff" aria-hidden="true"><path d="M12 4l8 8-8 8-1.41-1.41L16.17 13H4v-2h12.17L10.59 5.41 12 4z"/></svg>
              </a>
            </div>
          </article>

          <article class="card blog-card">
            <div class="product-photo" aria-label="Smart home lighting">
              <div class="glow"></div>
              <span class="product-badge" style="background: rgba(255,214,107,0.9); color:#2f2502;">Home Tech</span>
            </div>
            <div class="product-body">
              <h3>Light Your Space: Smart Ways to Set Ambience</h3>
              <div class="blog-meta">Sep 8, 2025 • 7 min read</div>
              <p class="desc">Transform rooms with layered lighting, color scenes, and automation that adapts to your mood.</p>
              <a href="#" class="read-more">Read more
                <svg width="14" height="14" viewBox="0 0 24 24" fill="#7ed6ff" aria-hidden="true"><path d="M12 4l8 8-8 8-1.41-1.41L16.17 13H4v-2h12.17L10.59 5.41 12 4z"/></svg>
              </a>
            </div>
          </article>
        </div>
      </section>

      <section class="section newsletter" aria-label="Newsletter signup">
        <div class="section-header">
          <div>
            <h2 class="section-title">Stay in the Loop</h2>
            <p class="section-sub">Get exclusive offers, tips, and product news directly to your inbox</p>
          </div>
        </div>
        <form id="newsletterForm" novalidate>
          <input type="email" id="newsletterEmail" placeholder="Enter your email" aria-label="Email address" required>
          <button class="btn" type="submit">Subscribe</button>
        </form>
        <p id="newsletterMsg" class="section-sub" aria-live="polite" style="margin-top:10px;"></p>
      </section>
    </div>
  </main>

  <footer class="footer" role="contentinfo">
    <div class="container">
      <div class="footer-grid">
        <div>
          <a class="logo" href="#" aria-label="ShopNest Home">
            <span class="logo-badge">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="#06102e" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M5 6h14l-2 10H7L5 6z" fill="white"/>
                <circle cx="9" cy="18" r="2" fill="white"/>
                <circle cx="15" cy="18" r="2" fill="white"/>
              </svg>
            </span>
            <span>ShopNest</span>
          </a>
          <p class="section-sub" style="margin-top:8px;">Curated essentials for modern living. We blend quality, affordability, and great service.</p>
          <div class="social" aria-label="Social media">
            <a href="#" aria-label="Twitter"><svg width="18" height="18" viewBox="0 0 24 24" fill="#7ed6ff"><path d="M22 5.8c-.8.4-1.7.7-2.6.8.9-.5 1.6-1.3 2-2.3-.8.5-1.8.9-2.7 1.1-1.6-1.7-4.3-1.5-5.7.3-1.1 1.3-1.2 3.2-.3 4.7-3.3-.2-6.3-1.8-8.3-4.4-.9 1.6-.4 3.7 1.1 4.8-.7 0-1.4-.2-2-.5 0 1.9 1.3 3.5 3.2 3.9-.6.2-1.2.2-1.8.1.5 1.6 2 2.7 3.7 2.7-1.4 1.1-3.2 1.7-5 1.7-.3 0-.6 0-.9-.1 1.8 1.2 4 1.9 6.2 1.9 7.4 0 11.5-6.1 11.5-11.4v-.5c.8-.6 1.5-1.3 2-2.2z"/></svg></a>
            <a href="#" aria-label="Instagram"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ff6b6b"><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm10 2H7a3 3 0 00-3 3v10a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3zm-5 3a5 5 0 110 10 5 5 0 010-10zm7.5-.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3z"/></svg></a>
            <a href="#" aria-label="YouTube"><svg width="18" height="18" viewBox="0 0 24 24" fill="#ffd66b"><path d="M23.5 6.2c-.3-1.2-1.2-2.1-2.4-2.4C19 3.3 12 3.3 12 3.3s-7 0-9.1.5c-1.2.3-2.1 1.2-2.4 2.4C.9 8.3.9 12 .9 12s0 3.7.5 5.8c.3 1.2 1.2 2.1 2.4 2.4 2.1.6 9.1.6 9.1.6s7 0 9.1-.5c1.2-.3 2.1-1.2 2.4-2.4.5-2.1.5-5.8.5-5.8s0-3.7-.5-5.9zM9.7 15.5V8.5l6.3 3.5-6.3 3.5z"/></svg></a>
          </div>
        </div>
        <div>
          <h4>Shop</h4>
          <ul>
            <li><a href="#">New Arrivals</a></li>
            <li><a href="#">Best Sellers</a></li>
            <li><a href="#">Gift Cards</a></li>
            <li><a href="#">Categories</a></li>
          </ul>
        </div>
        <div>
          <h4>Help</h4>
          <ul>
            <li><a href="#">Shipping</a></li>
            <li><a href="#">Returns</a></li>
            <li><a href="#">Support Center</a></li>
            <li><a href="#">Warranty</a></li>
          </ul>
        </div>
        <div>
          <h4>Company</h4>
          <ul>
            <li><a href="#">About us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Press</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
      </div>
      <div style="margin-top:18px; display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;">
        <div class="section-sub">© <span id="year"></span> ShopNest — All rights reserved.</div>
        <div class="section-sub"><a href="#">Privacy</a> • <a href="#">Terms</a> • <a href="#">Cookies</a></div>
      </div>
    </div>
  </footer>

  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div class="modal-header">
        <h3 id="modalTitle">Quick View</h3>
        <button class="close-btn" id="modalCloseBtn" aria-label="Close">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="#b9beee" aria-hidden="true"><path d="M6 6l12 12M6 18L18 6" stroke="#b9beee" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="product-photo" aria-hidden="true"><div class="glow"></div></div>
        <div>
          <div class="price-row" style="margin-top:4px;">
            <span id="modalPrice" class="price">$0</span>
            <span id="modalPriceOld" class="price-old"></span>
          </div>
          <div id="modalRating" class="rating" aria-label="Product rating"><span>★★★★★</span><span style="color:#c7cbee;">5.0</span></div>
          <p id="modalDesc" class="desc" style="height:auto;"></p>
          <div class="actions" style="margin-top:8px;">
            <button class="btn small" id="modalAddBtn">Add to cart</button>
            <button class="btn small ghost" id="modalFavBtn">Favorite</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="#00d28a" aria-hidden="true"><path d="M9 16.2l-3.5-3.5 1.4-1.4L9 13.4l8.1-8.1 1.4 1.4z"/></svg>
    <span id="toastText">Added to cart</span>
  </div>

  <script>
    (function() {
      const $ = (sel, root = document) => root.querySelector(sel);
      const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

      const cartBadge = $("#cartBadge");
      const toast = $("#toast");
      const toastText = $("#toastText");
      const modalBackdrop = $("#modalBackdrop");
      const modalTitle = $("#modalTitle");
      const modalPrice = $("#modalPrice");
      const modalPriceOld = $("#modalPriceOld");
      const modalRating = $("#modalRating");
      const modalDesc = $("#modalDesc");
      const modalAddBtn = $("#modalAddBtn");
      const modalFavBtn = $("#modalFavBtn");
      const modalCloseBtn = $("#modalCloseBtn");
      const year = $("#year");
      const searchInput = $("#searchInput");
      const popularGrid = $("#popularGrid");

      year.textContent = new Date().getFullYear();

      // Cart state
      const cartKey = "shopnest_cart_count";
      let cartCount = parseInt(localStorage.getItem(cartKey) || "0", 10);
      const updateCartBadge = () => { cartBadge.textContent = cartCount; };
      updateCartBadge();

      // Favorites state
      const favKey = "shopnest_favorites";
      let favIds = new Set(JSON.parse(localStorage.getItem(favKey) || "[]"));
      const saveFavs = () => localStorage.setItem(favKey, JSON.stringify(Array.from(favIds)));

      // Initialize fav buttons
      $$(".product-card .fav-btn").forEach(btn => {
        const card = btn.closest(".product-card");
        const id = card.dataset.id;
        if (favIds.has(id)) btn.classList.add("active");
        btn.addEventListener("click", () => {
          if (favIds.has(id)) {
            favIds.delete(id);
            btn.classList.remove("active");
            showToast("Removed from favorites");
          } else {
            favIds.add(id);
            btn.classList.add("active");
            showToast("Added to favorites");
          }
          saveFavs();
        });
      });

      // Add to cart actions
      $$(".product-card .add-cart").forEach(btn => {
        btn.addEventListener("click", () => {
          cartCount += 1;
          localStorage.setItem(cartKey, String(cartCount));
          updateCartBadge();
          const card = btn.closest(".product-card");
          const title = card?.dataset?.title || "Item";
          showToast(`Added “${title}” to cart`);
        });
      });

      // Quick view
      let lastFocusedEl = null;
      $$(".product-card .quick-view").forEach(btn => {
        btn.addEventListener("click", () => {
          const card = btn.closest(".product-card");
          openModal({
            id: card.dataset.id,
            title: card.dataset.title,
            price: Number(card.dataset.price),
            old: card.dataset.old ? Number(card.dataset.old) : null,
            rating: Number(card.dataset.rating),
            desc: card.dataset.desc
          });
          lastFocusedEl = btn;
        });
      });
      const openModal = (item) => {
        modalBackdrop.style.display = "flex";
        modalBackdrop.setAttribute("aria-hidden", "false");
        modalTitle.textContent = item.title;
        modalPrice.textContent = `$${item.price}`;
        modalPriceOld.textContent = item.old ? `$${item.old}` : "";
        modalRating.innerHTML = `<span>${renderStars(item.rating)}</span><span style="color:#c7cbee;">${item.rating.toFixed(1)}</span>`;
        modalDesc.textContent = item.desc;
        modalAddBtn.onclick = () => {
          cartCount += 1;
          localStorage.setItem(cartKey, String(cartCount));
          updateCartBadge();
          showToast(`Added “${item.title}” to cart`);
          closeModal();
        };
        modalFavBtn.onclick = () => {
          if (favIds.has(item.id)) {
            favIds.delete(item.id);
            showToast("Removed from favorites");
          } else {
            favIds.add(item.id);
            showToast("Added to favorites");
          }
          saveFavs();
          syncFavButtons();
          closeModal();
        };
        // focus trap minimal
        modalCloseBtn.focus();
        document.addEventListener("keydown", escClose);
        modalBackdrop.addEventListener("click", backdropClose);
      };
      const closeModal = () => {
        modalBackdrop.style.display = "none";
        modalBackdrop.setAttribute("aria-hidden", "true");
        document.removeEventListener("keydown", escClose);
        modalBackdrop.removeEventListener("click", backdropClose);
        if (lastFocusedEl) lastFocusedEl.focus();
      };
      modalCloseBtn.addEventListener("click", closeModal);
      const escClose = (e) => { if (e.key === "Escape") closeModal(); };
      const backdropClose = (e) => { if (e.target === modalBackdrop) closeModal(); };

      // Toast
      let toastTimer = null;
      function showToast(text) {
        toastText.textContent = text;
        toast.classList.add("show");
        if (toastTimer) clearTimeout(toastTimer);
        toastTimer = setTimeout(() => toast.classList.remove("show"), 2200);
      }

      // Countdown to midnight
      const cdHours = $("#cd-hours"), cdMins = $("#cd-mins"), cdSecs = $("#cd-secs");
      function nextMidnight() {
        const now = new Date();
        const end = new Date(now);
        end.setHours(24,0,0,0);
        return end;
      }
      function updateCountdown() {
        const end = nextMidnight();
        const now = new Date();
        let ms = end - now;
        if (ms < 0) ms = 0;
        const s = Math.floor(ms / 1000);
        const h = String(Math.floor(s / 3600)).padStart(2, "0");
        const m = String(Math.floor((s % 3600) / 60)).padStart(2, "0");
        const sec = String(s % 60).padStart(2, "0");
        cdHours.textContent = h; cdMins.textContent = m; cdSecs.textContent = sec;
      }
      updateCountdown();
      setInterval(updateCountdown, 1000);

      // Tabs filter
      $$(".tab").forEach(tab => {
        tab.addEventListener("click", () => {
          $$(".tab").forEach(t => t.classList.remove("active"));
          tab.classList.add("active");
          const filter = tab.dataset.filter;
          $$(".product-card", popularGrid).forEach(card => {
            const show = filter === "all" || card.dataset.category === filter;
            card.style.display = show ? "" : "none";
          });
        });
      });

      // Simple search filter over all product cards
      searchInput.addEventListener("input", () => {
        const q = searchInput.value.trim().toLowerCase();
        const cards = $$(".product-card");
        cards.forEach(card => {
          const title = card.dataset.title.toLowerCase();
          const cat = card.dataset.category.toLowerCase();
          card.style.opacity = q.length ? (title.includes(q) || cat.includes(q) ? "1" : "0.25") : "1";
        });
      });

      // Scroll to deals on button click
      $("#viewDealsBtn").addEventListener("click", () => {
        const dealsHeading = $("#deals-heading");
        dealsHeading.scrollIntoView({ behavior: "smooth", block: "start" });
      });
      $("#shopNowBtn").addEventListener("click", () => {
        const popularHeading = $("#popular-heading");
        popularHeading.scrollIntoView({ behavior: "smooth", block: "start" });
      });

      function renderStars(rating) {
        const full = Math.floor(rating);
        const half = rating - full >= 0.5;
        let s = "";
        for (let i = 0; i < full; i++) s += "★";
        if (half) s += "☆";
        while (s.length < 5) s += "☆";
        return s;
      }

      function syncFavButtons() {
        $$(".product-card").forEach(card => {
          const id = card.dataset.id;
          const btn = $(".fav-btn", card);
          if (!btn) return;
          btn.classList.toggle("active", favIds.has(id));
        });
      }
    })();
  </script>
</body>
</html>