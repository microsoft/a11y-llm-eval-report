<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MarketSquare — Home</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#fff;
      --accent:#0066ff;
      --muted:#6b7280;
      --success:#16a34a;
      --danger:#dc2626;
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 6px 18px rgba(18,25,40,0.06);
      --radius:12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#eef2ff 0%,var(--bg) 40%);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      padding-bottom:60px;
    }

    header{
      position:sticky;
      top:0;
      z-index:40;
      background:rgba(255,255,255,0.9);
      backdrop-filter:blur(6px);
      box-shadow: 0 6px 18px rgba(11,20,40,0.04);
      border-bottom:1px solid rgba(15,23,42,0.04);
    }
    .container{
      max-width:1180px;
      margin:0 auto;
      padding:20px;
    }
    .nav{
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      text-decoration:none;
      color:inherit;
    }
    .logo{
      width:44px;height:44px;background:linear-gradient(135deg,#0ea5e9,#6366f1);
      border-radius:10px;display:grid;place-items:center;color:#fff;font-weight:700;box-shadow:var(--shadow);
    }
    nav ul{display:flex;gap:18px;list-style:none;padding:0;margin:0;align-items:center}
    nav a{color:var(--muted);text-decoration:none;font-weight:600;font-size:14px}
    .nav-actions{display:flex;gap:12px;align-items:center}
    .search{
      display:flex;align-items:center;background:var(--glass);padding:8px 12px;border-radius:12px;gap:8px;min-width:220px;
      border:1px solid rgba(12,18,40,0.04)
    }
    .search input{border:0;background:transparent;outline:none;font-size:14px}
    .icon-btn{
      background:transparent;border:0;padding:8px;border-radius:10px;cursor:pointer;color:var(--muted);
      display:inline-flex;align-items:center;gap:8px;
    }
    .cart-badge{
      background:var(--accent);color:white;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700;
      margin-left:4px;
    }

    /* Hero */
    .hero{
      margin-top:18px;
      display:grid;
      grid-template-columns:1fr 360px;
      gap:20px;
      align-items:stretch;
    }
    .hero-card{
      background:linear-gradient(180deg,#fff,#fbfdff);
      border-radius:16px;padding:28px;box-shadow:var(--shadow);border:1px solid rgba(12,18,40,0.03);
      display:flex;gap:18px;align-items:center;
    }
    .hero-card .left{flex:1}
    .hero-title{font-size:20px;margin:0 0 8px}
    .hero-sub{color:var(--muted);margin:0 0 18px}
    .hero-cta{
      display:inline-flex;padding:10px 16px;background:var(--accent);color:white;border-radius:10px;border:0;font-weight:700;cursor:pointer;
      box-shadow:0 8px 24px rgba(99,102,241,0.16);
    }
    .hero-visual{
      width:160px;height:120px;border-radius:12px;background:linear-gradient(135deg,#ffd7a7,#ff9b9b);
      display:grid;place-items:center;color:#fff;font-weight:800;font-size:20px;
      box-shadow:0 10px 30px rgba(255,123,123,0.12);
    }
    .promo-side{
      display:grid;gap:14px;
    }
    .small-card{
      background:linear-gradient(180deg,#fff,#fbfdff);
      border-radius:12px;padding:14px;box-shadow:var(--shadow);display:flex;align-items:center;gap:12px;border:1px solid rgba(12,18,40,0.03)
    }
    .small-card .img{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,#06b6d4,#7c3aed);display:grid;place-items:center;color:#fff;font-weight:700}

    /* Sections */
    section{max-width:1180px;margin:30px auto;padding:0 20px}
    .section-head{display:flex;justify-content:space-between;align-items:end;margin-bottom:14px}
    .section-title{font-size:18px;margin:0}
    .section-sub{color:var(--muted);font-size:13px}

    /* Product grid */
    .filters{display:flex;gap:8px;flex-wrap:wrap}
    .filter-btn{background:white;border:1px solid rgba(12,18,40,0.06);padding:8px 12px;border-radius:999px;font-weight:700;color:var(--muted);cursor:pointer}
    .filter-btn.active{background:var(--accent);color:white;border-color:transparent;box-shadow:0 8px 24px rgba(0,102,255,0.12)}
    .grid{
      display:grid;grid-template-columns:repeat(4,1fr);gap:16px;
    }
    .card{
      background:var(--card);border-radius:12px;padding:14px;border:1px solid rgba(12,18,40,0.04);box-shadow:var(--shadow);display:flex;flex-direction:column;gap:10px;
    }
    .thumb{
      height:160px;border-radius:10px;background:linear-gradient(135deg,#eef2ff,#fff);display:grid;place-items:center;font-weight:700;color:#111;
    }
    .meta{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .title{font-weight:700;font-size:15px;margin:0}
    .price{font-weight:800;color:#0f172a}
    .oldprice{color:var(--muted);text-decoration:line-through;font-size:13px;margin-left:8px}
    .rating{color:#f59e0b;font-size:13px}
    .card-actions{display:flex;gap:8px;margin-top:auto;align-items:center}
    .buy-btn{flex:1;background:linear-gradient(90deg,#12b981,#06b6d4);border:0;color:white;padding:10px;border-radius:10px;font-weight:700;cursor:pointer}
    .secondary{background:transparent;border:1px solid rgba(12,18,40,0.06);padding:10px;border-radius:10px;cursor:pointer}

    /* Deals carousel */
    .carousel{
      position:relative;overflow:hidden;border-radius:12px;padding:12px;background:linear-gradient(90deg,#fff7ed,#fff1f2);box-shadow:var(--shadow);border:1px solid rgba(12,18,40,0.03)
    }
    .track{display:flex;gap:12px;transition:transform 400ms cubic-bezier(.22,.98,.35,1)}
    .deal{
      min-width:280px;background:white;border-radius:12px;padding:12px;border:1px solid rgba(12,18,40,0.04);display:flex;flex-direction:column;gap:8px;
    }
    .deal .tag{font-size:12px;color:white;background:#ef4444;padding:6px;border-radius:8px;width:max-content;font-weight:700}
    .controls{position:absolute;right:12px;top:12px;display:flex;gap:8px}
    .ctrl{background:white;border-radius:8px;padding:8px;border:0;box-shadow:0 6px 18px rgba(11,20,40,0.06);cursor:pointer}

    /* Blogs */
    .blogs{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .blog{
      background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(12,18,40,0.04);display:flex;gap:12px;align-items:flex-start;
    }
    .blog img{width:110px;height:78px;border-radius:8px;background:linear-gradient(135deg,#fbcfe8,#c7d2fe)}
    .blog h4{margin:0 0 6px}
    .blog p{margin:0;color:var(--muted);font-size:13px}

    /* Newsletter */
    .newsletter{background:linear-gradient(90deg,#eef2ff,#f8fafc);padding:20px;border-radius:12px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .newsletter input{padding:12px;border-radius:10px;border:1px solid rgba(12,18,40,0.06);outline:none;width:360px}
    .subscribe{background:var(--accent);color:white;padding:12px 16px;border-radius:10px;border:0;cursor:pointer}

    footer{max-width:1180px;margin:40px auto;padding:20px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
    .socials{display:flex;gap:12px}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(10,12,20,0.5);display:none;align-items:center;justify-content:center;z-index:80}
    .modal{background:white;border-radius:12px;padding:18px;max-width:920px;width:94%;display:grid;grid-template-columns:1fr 1fr;gap:16px;box-shadow:0 18px 50px rgba(2,6,23,0.4)}
    .close{background:transparent;border:0;font-weight:800;color:var(--muted);cursor:pointer}

    /* toast */
    .toast{position:fixed;right:20px;bottom:20px;background:#111;color:white;padding:12px 16px;border-radius:10px;display:none;z-index:90;box-shadow:0 10px 30px rgba(2,6,23,0.4)}

    /* responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr;align-items:stretch}
      .grid{grid-template-columns:repeat(2,1fr)}
      .blogs{grid-template-columns:repeat(2,1fr)}
      .track{padding-bottom:8px}
    }
    @media (max-width:640px){
      nav ul{display:none}
      .search{display:none}
      .grid{grid-template-columns:repeat(1,1fr)}
      .blogs{grid-template-columns:1fr}
      .hero-card{flex-direction:column;align-items:flex-start}
      .hero-visual{width:100%;height:120px;border-radius:12px}
      .modal{grid-template-columns:1fr}
      footer{flex-direction:column;gap:12px;align-items:flex-start}
    }

    /* small utilities */
    .muted{color:var(--muted)}
    .badge-sale{background:#ffedd5;color:#9a3412;padding:6px;border-radius:8px;font-weight:700}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a class="brand" href="#">
        <div class="logo">MS</div>
        <div>
          <div style="font-weight:800">MarketSquare</div>
          <div style="font-size:12px;color:var(--muted)">Curated deals & top picks</div>
        </div>
      </a>

      <nav>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">Shop</a></li>
          <li><a href="#">Deals</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Support</a></li>
        </ul>
      </nav>

      <div class="nav-actions">
        <div class="search" role="search" aria-label="Site search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M21 21l-4.35-4.35" stroke="#475569" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="11" cy="11" r="6" stroke="#475569" stroke-width="1.6"/>
          </svg>
          <input placeholder="Search products, brands..." aria-label="Search input">
        </div>

        <button class="icon-btn" aria-label="Favorites">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 1 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke="#475569" stroke-width="1.2" fill="none"/>
          </svg>
        </button>

        <button class="icon-btn" aria-label="Cart" id="cartBtn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M6 6h15l-1.5 9h-12L6 6z" stroke="#475569" stroke-width="1.2" stroke-linejoin="round" fill="none"/>
            <circle cx="9" cy="20" r="1" fill="#475569"/><circle cx="18" cy="20" r="1" fill="#475569"/>
          </svg>
          <span class="cart-badge" id="cartCount">0</span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <div class="container hero">
      <div class="hero-card" aria-labelledby="hero-title">
        <div class="left">
          <h1 id="hero-title" class="hero-title">Spring Refresh — Up to 60% off selected items</h1>
          <p class="hero-sub">Discover trending picks across electronics, fashion, and home. Free delivery on orders over $50.</p>
          <div style="display:flex;gap:10px;align-items:center">
            <button class="hero-cta" onclick="scrollToSection('popular')">Shop Popular</button>
            <button class="secondary" onclick="scrollToSection('deals')">See Deals</button>
          </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:12px;align-items:flex-end">
          <div class="hero-visual">Limited Time</div>
        </div>
      </div>

      <div class="promo-side">
        <div class="small-card">
          <div class="img">30%+</div>
          <div>
            <div style="font-weight:800">Exclusive Member Deals</div>
            <div style="font-size:13px;color:var(--muted)">Join to unlock extra discounts</div>
          </div>
        </div>
        <div class="small-card">
          <div class="img" style="background:linear-gradient(135deg,#06b6d4,#10b981)">Fast</div>
          <div>
            <div style="font-weight:800">Free & Fast Shipping</div>
            <div style="font-size:13px;color:var(--muted)">On orders $50+</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Popular Items -->
    <section id="popular">
      <div class="section-head">
        <div>
          <h2 class="section-title">Popular Items</h2>
          <div class="section-sub">Top-rated picks chosen by shoppers</div>
        </div>
        <div class="filters" role="tablist" aria-label="Filter products">
          <button class="filter-btn active" data-filter="all" onclick="filterProducts(event)">All</button>
          <button class="filter-btn" data-filter="electronics" onclick="filterProducts(event)">Electronics</button>
          <button class="filter-btn" data-filter="clothing" onclick="filterProducts(event)">Clothing</button>
          <button class="filter-btn" data-filter="home" onclick="filterProducts(event)">Home</button>
        </div>
      </div>

      <div class="grid" id="productsGrid" aria-live="polite">
        <!-- Product 1 -->
        <article class="card" data-category="electronics" data-id="p1">
          <div class="thumb" role="img" aria-label="Wireless Headphones">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#eef2ff"/>
              <g transform="translate(20,30)">
                <rect x="0" y="20" width="100" height="40" rx="20" fill="#c7d2fe"/>
                <circle cx="12" cy="40" r="12" fill="#fff"/>
                <circle cx="88" cy="40" r="12" fill="#fff"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Wireless Headphones</h3>
            <div class="rating">★ 4.8</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$79</div>
            <div class="oldprice">$129</div>
            <div class="badge-sale" style="margin-left:auto">Best seller</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Wireless Headphones',79)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p1')">Quick view</button>
          </div>
        </article>

        <!-- Product 2 -->
        <article class="card" data-category="clothing" data-id="p2">
          <div class="thumb" role="img" aria-label="Classic Denim Jacket">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#fff0f6"/>
              <g transform="translate(20,25)">
                <rect x="0" y="8" width="100" height="60" rx="10" fill="#fbcfe8"/>
                <path d="M10 8c5-8 20-8 40-8s35 0 40 8" stroke="#f472b6" stroke-width="3" stroke-linecap="round"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Classic Denim Jacket</h3>
            <div class="rating">★ 4.6</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$59</div>
            <div class="oldprice">$89</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Classic Denim Jacket',59)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p2')">Quick view</button>
          </div>
        </article>

        <!-- Product 3 -->
        <article class="card" data-category="home" data-id="p3">
          <div class="thumb" role="img" aria-label="Air Purifier">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#ecfeff"/>
              <g transform="translate(30,30)">
                <rect x="0" y="0" width="80" height="90" rx="12" fill="#bbf7d0"/>
                <rect x="10" y="12" width="60" height="10" rx="4" fill="#fff"/>
                <rect x="10" y="34" width="60" height="4" rx="2" fill="#fff"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Compact Air Purifier</h3>
            <div class="rating">★ 4.7</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$99</div>
            <div class="oldprice">$149</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Compact Air Purifier',99)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p3')">Quick view</button>
          </div>
        </article>

        <!-- Product 4 -->
        <article class="card" data-category="electronics" data-id="p4">
          <div class="thumb" role="img" aria-label="Smartwatch">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#fff7ed"/>
              <g transform="translate(28,28)">
                <rect x="10" y="0" width="64" height="64" rx="12" fill="#fde68a"/>
                <circle cx="42" cy="30" r="8" fill="#111"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Smartwatch Series 5</h3>
            <div class="rating">★ 4.5</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$149</div>
            <div class="oldprice">$199</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Smartwatch Series 5',149)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p4')">Quick view</button>
          </div>
        </article>

        <!-- Product 5 -->
        <article class="card" data-category="clothing" data-id="p5">
          <div class="thumb" role="img" aria-label="Comfort Sneakers">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#f0f9ff"/>
              <g transform="translate(18,38)">
                <rect x="0" y="10" width="88" height="24" rx="12" fill="#bfdbfe"/>
                <circle cx="12" cy="22" r="8" fill="#fff"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Comfort Sneakers</h3>
            <div class="rating">★ 4.4</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$69</div>
            <div class="oldprice">$89</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Comfort Sneakers',69)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p5')">Quick view</button>
          </div>
        </article>

        <!-- Product 6 -->
        <article class="card" data-category="home" data-id="p6">
          <div class="thumb" role="img" aria-label="Ceramic Cookware Set">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#fffaf0"/>
              <g transform="translate(26,34)">
                <rect x="4" y="10" width="64" height="34" rx="8" fill="#fce7f3"/>
                <rect x="8" y="4" width="56" height="6" rx="3" fill="#fff"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Ceramic Cookware Set</h3>
            <div class="rating">★ 4.3</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$129</div>
            <div class="oldprice">$199</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Ceramic Cookware Set',129)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p6')">Quick view</button>
          </div>
        </article>

        <!-- Product 7 -->
        <article class="card" data-category="electronics" data-id="p7">
          <div class="thumb" role="img" aria-label="Portable Bluetooth Speaker">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#eff6ff"/>
              <g transform="translate(24,36)">
                <rect x="0" y="0" width="72" height="48" rx="8" fill="#c7d2fe"/>
                <circle cx="18" cy="24" r="8" fill="#fff"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Portable Bluetooth Speaker</h3>
            <div class="rating">★ 4.6</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$39</div>
            <div class="oldprice">$59</div>
            <div class="badge-sale" style="margin-left:auto">Trending</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Portable Bluetooth Speaker',39)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p7')">Quick view</button>
          </div>
        </article>

        <!-- Product 8 -->
        <article class="card" data-category="clothing" data-id="p8">
          <div class="thumb" role="img" aria-label="Everyday Tee">
            <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="140" height="140" rx="12" fill="#f0fdf4"/>
              <g transform="translate(22,22)">
                <rect x="8" y="6" width="64" height="72" rx="10" fill="#bbf7d0"/>
              </g>
            </svg>
          </div>
          <div class="meta">
            <h3 class="title">Everyday Tee</h3>
            <div class="rating">★ 4.1</div>
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <div class="price">$19</div>
            <div class="oldprice">$29</div>
          </div>
          <div class="card-actions">
            <button class="buy-btn" onclick="addToCart('Everyday Tee',19)">Add to cart</button>
            <button class="secondary" onclick="openQuickView('p8')">Quick view</button>
          </div>
        </article>
      </div>
    </section>

    <!-- Deals -->
    <section id="deals">
      <div class="section-head">
        <div>
          <h2 class="section-title">Limited Time Deals</h2>
          <div class="section-sub">Flash deals ending soon — grab them before they're gone</div>
        </div>
        <div class="muted">Ends in <strong id="globalCountdown">00:35:21</strong></div>
      </div>

      <div class="carousel" aria-roledescription="carousel" tabindex="0">
        <div class="controls">
          <button class="ctrl" onclick="carouselPrev()" aria-label="Previous"><svg width="14" height="14" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6" stroke="#111" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg></button>
          <button class="ctrl" onclick="carouselNext()" aria-label="Next"><svg width="14" height="14" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" stroke="#111" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg></button>
        </div>

        <div style="overflow:hidden">
          <div class="track" id="dealsTrack">
            <div class="deal" data-deal-end="">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div class="tag">50% OFF</div>
                <div class="muted">Gadget pick</div>
              </div>
              <h3 style="margin:6px 0 0">Noise-Cancel Earbuds</h3>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="font-weight:800;font-size:18px">$49</div>
                <div style="text-decoration:line-through;color:var(--muted)">$99</div>
              </div>
              <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
                <div style="font-size:13px;color:var(--muted)">Deal ends in</div>
                <div class="deal-countdown" data-end=""></div>
              </div>
            </div>

            <div class="deal">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div class="tag">40% OFF</div>
                <div class="muted">Home</div>
              </div>
              <h3 style="margin:6px 0 0">Robot Vacuum</h3>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="font-weight:800;font-size:18px">$179</div>
                <div style="text-decoration:line-through;color:var(--muted)">$299</div>
              </div>
              <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
                <div style="font-size:13px;color:var(--muted)">Deal ends in</div>
                <div class="deal-countdown" data-end=""></div>
              </div>
            </div>

            <div class="deal">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div class="tag">30% OFF</div>
                <div class="muted">Fashion</div>
              </div>
              <h3 style="margin:6px 0 0">Sunglasses Bundle</h3>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="font-weight:800;font-size:18px">$69</div>
                <div style="text-decoration:line-through;color:var(--muted)">$99</div>
              </div>
              <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
                <div style="font-size:13px;color:var(--muted)">Deal ends in</div>
                <div class="deal-countdown" data-end=""></div>
              </div>
            </div>

            <div class="deal">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div class="tag">60% OFF</div>
                <div class="muted">Electronics</div>
              </div>
              <h3 style="margin:6px 0 0">4K Action Camera</h3>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="font-weight:800;font-size:18px">$79</div>
                <div style="text-decoration:line-through;color:var(--muted)">$199</div>
              </div>
              <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
                <div style="font-size:13px;color:var(--muted)">Deal ends in</div>
                <div class="deal-countdown" data-end=""></div>
              </div>
            </div>

            <div class="deal">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <div class="tag">25% OFF</div>
                <div class="muted">Home</div>
              </div>
              <h3 style="margin:6px 0 0">Memory Foam Pillow</h3>
              <div style="display:flex;align-items:center;gap:8px">
                <div style="font-weight:800;font-size:18px">$29</div>
                <div style="text-decoration:line-through;color:var(--muted)">$39</div>
              </div>
              <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
                <div style="font-size:13px;color:var(--muted)">Deal ends in</div>
                <div class="deal-countdown" data-end=""></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Blog -->
    <section id="blog">
      <div class="section-head">
        <div>
          <h2 class="section-title">From our blog</h2>
          <div class="section-sub">Stories, tips, and buying guides</div>
        </div>
        <a href="#" class="muted" style="text-decoration:none">View all posts →</a>
      </div>

      <div class="blogs">
        <article class="blog">
          <img alt="Packing for travel" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='220' height='140'><rect width='220' height='140' rx='8' fill='%23fce7f3'/><text x='16' y='80' font-size='18' fill='%23a78bfa' font-family='Arial'>Travel Essentials</text></svg>">
          <div>
            <h4>Pack smart: Essentials for a weekend trip</h4>
            <div class="muted" style="font-size:12px;margin-bottom:6px">Nov 2, 2025 • 5 min read</div>
            <p>Travel light without missing anything — our guide shows what to bring for a comfortable weekend getaway.</p>
          </div>
        </article>

        <article class="blog">
          <img alt="Home refresh" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='220' height='140'><rect width='220' height='140' rx='8' fill='%23ecfeff'/><text x='16' y='80' font-size='18' fill='%2306b6d4' font-family='Arial'>Home Refresh</text></svg>">
          <div>
            <h4>5 small upgrades that transform your home</h4>
            <div class="muted" style="font-size:12px;margin-bottom:6px">Oct 28, 2025 • 4 min read</div>
            <p>From smart lighting to textiles — these affordable changes make your space feel fresh and modern.</p>
          </div>
        </article>

        <article class="blog">
          <img alt="Tech trends" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='220' height='140'><rect width='220' height='140' rx='8' fill='%23eef2ff'/><text x='16' y='80' font-size='18' fill='%237c3aed' font-family='Arial'>Tech Trends</text></svg>">
          <div>
            <h4>Top wearable tech to try in 2025</h4>
            <div class="muted" style="font-size:12px;margin-bottom:6px">Oct 20, 2025 • 6 min read</div>
            <p>Smartwatches, health trackers, and more — discover the wearables bringing big value this year.</p>
          </div>
        </article>
      </div>
    </section>

    <!-- Newsletter -->
    <section>
      <div class="newsletter">
        <div>
          <div style="font-weight:800;font-size:16px">Join our newsletter</div>
          <div class="muted" style="font-size:13px">Get curated deals and timely guides delivered weekly.</div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <input type="email" id="newsletterEmail" placeholder="Your email address" aria-label="Newsletter email">
          <button class="subscribe" onclick="subscribe()">Subscribe</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div>
      <div style="font-weight:800">MarketSquare</div>
      <div class="muted" style="font-size:13px">© 2025 MarketSquare Inc.</div>
    </div>

    <div style="display:flex;gap:18px;align-items:center">
      <div class="socials">
        <a href="#" aria-label="Twitter" style="text-decoration:none;color:var(--muted)">T</a>
        <a href="#" aria-label="Instagram" style="text-decoration:none;color:var(--muted)">I</a>
        <a href="#" aria-label="Facebook" style="text-decoration:none;color:var(--muted)">F</a>
      </div>
      <div class="muted">Help · Privacy · Terms</div>
    </div>
  </footer>

  <!-- Quick View Modal -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h3 id="modalTitle" style="margin:0">Product</h3>
          <button class="close" onclick="closeModal()">✕</button>
        </div>
        <div id="modalContent" style="margin-top:12px;color:var(--muted)">Loading…</div>
      </div>
      <div style="display:flex;flex-direction:column;gap:12px">
        <div style="height:180px;border-radius:10px;background:linear-gradient(135deg,#eef2ff,#fff);display:grid;place-items:center" id="modalImage">IMG</div>
        <div style="display:flex;gap:8px">
          <button class="buy-btn" id="modalAdd">Add to cart</button>
          <button class="secondary" onclick="closeModal()">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">Added to cart</div>

  <script>
    // Simple state
    const products = {
      p1: {id:'p1',name:'Wireless Headphones',price:79,desc:'Comfortable wireless headphones with active noise cancellation and 24h battery life.'},
      p2: {id:'p2',name:'Classic Denim Jacket',price:59,desc:'Premium denim jacket made with durable fabric and modern fit.'},
      p3: {id:'p3',name:'Compact Air Purifier',price:99,desc:'Quiet air purifier with HEPA filtration — perfect for small rooms.'},
      p4: {id:'p4',name:'Smartwatch Series 5',price:149,desc:'Track fitness, notifications, and more with an always-on display.'},
      p5: {id:'p5',name:'Comfort Sneakers',price:69,desc:'Lightweight sneakers with breathable mesh and cushioned sole.'},
      p6: {id:'p6',name:'Ceramic Cookware Set',price:129,desc:'Non-stick ceramic set for everyday cooking, easy clean-up.'},
      p7: {id:'p7',name:'Portable Bluetooth Speaker',price:39,desc:'Compact speaker with rich sound and 12-hour battery.'},
      p8: {id:'p8',name:'Everyday Tee',price:19,desc:'Soft cotton tee available in multiple colors.'}
    };

    // Cart
    let cartCount = 0;
    function addToCart(name, price){
      cartCount++;
      document.getElementById('cartCount').textContent = cartCount;
      showToast(`${name} — $${price} added to cart`);
    }

    // Toast
    let toastTimer;
    function showToast(text){
      const t = document.getElementById('toast');
      t.textContent = text;
      t.style.display = 'block';
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> t.style.display='none',3000);
    }

    // Filters
    function filterProducts(e){
      const btns = document.querySelectorAll('.filter-btn');
      btns.forEach(b=>b.classList.remove('active'));
      e.currentTarget.classList.add('active');
      const key = e.currentTarget.getAttribute('data-filter');
      const cards = document.querySelectorAll('#productsGrid .card');
      cards.forEach(c=>{
        if(key==='all' || c.getAttribute('data-category')===key){
          c.style.display = '';
        } else {
          c.style.display = 'none';
        }
      });
    }

    // Quick view modal
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalTitle = document.getElementById('modalTitle');
    const modalContent = document.getElementById('modalContent');
    const modalImage = document.getElementById('modalImage');
    const modalAdd = document.getElementById('modalAdd');
    let activeProductId = null;

    function openQuickView(id){
      const p = products[id];
      activeProductId = id;
      modalTitle.textContent = p.name;
      modalContent.textContent = p.desc;
      modalImage.textContent = '$' + p.price;
      modalAdd.onclick = () => { addToCart(p.name,p.price); closeModal(); };
      modalBackdrop.style.display = 'flex';
      modalBackdrop.setAttribute('aria-hidden','false');
    }
    function closeModal(){
      modalBackdrop.style.display = 'none';
      modalBackdrop.setAttribute('aria-hidden','true');
    }

    // Newsletter
    function subscribe(){
      const email = document.getElementById('newsletterEmail').value.trim();
      if(!email || !email.includes('@')){ showToast('Enter a valid email'); return; }
      showToast('Subscribed — check your inbox!');
      document.getElementById('newsletterEmail').value = '';
    }

    // Simple carousel
    const track = document.getElementById('dealsTrack');
    let index = 0;
    function updateCarousel(){
      const width = track.children[0].getBoundingClientRect().width + 12; // gap
      track.style.transform = `translateX(${-index * width}px)`;
    }
    function carouselNext(){ index = Math.min(index+1, track.children.length - Math.floor(track.parentElement.clientWidth / (track.children[0].getBoundingClientRect().width + 12))); updateCarousel(); }
    function carouselPrev(){ index = Math.max(index-1, 0); updateCarousel(); }
    window.addEventListener('resize', updateCarousel);
    // autoplay
    let autoplay = setInterval(()=>{ carouselNext(); if(index>=track.children.length-1) index=0; }, 4000);
    track.parentElement.addEventListener('mouseenter', ()=>clearInterval(autoplay));
    track.parentElement.addEventListener('mouseleave', ()=>autoplay = setInterval(()=>{ carouselNext(); if(index>=track.children.length-1) index=0; }, 4000));

    // Deals countdowns
    function setDealEndTimes(){
      const now = Date.now();
      const ends = [ now + 1000*60*35, now + 1000*60*18, now + 1000*60*55, now + 1000*60*72, now + 1000*60*10 ]; // offsets
      document.querySelectorAll('.deal-countdown').forEach((el,i)=>{
        el.dataset.end = ends[i];
      });
      // global countdown earliest
      window.dealEnds = Math.min(...ends);
    }
    function formatTime(ms){
      const total = Math.max(0, Math.floor(ms/1000));
      const h = String(Math.floor(total/3600)).padStart(2,'0');
      const m = String(Math.floor((total%3600)/60)).padStart(2,'0');
      const s = String(total%60).padStart(2,'0');
      return `${h}:${m}:${s}`;
    }
    function tickCountdowns(){
      const els = document.querySelectorAll('.deal-countdown');
      const now = Date.now();
      els.forEach(el=>{
        const end = parseInt(el.dataset.end) || now;
        el.textContent = formatTime(end - now);
      });
      const global = document.getElementById('globalCountdown');
      global.textContent = formatTime(window.dealEnds - now);
    }

    // Quick helper to open product by id
    function scrollToSection(id){
      document.getElementById(id).scrollIntoView({behavior:'smooth',block:'start'});
    }

    // Quick view button hooks
    function bindQuickButtons(){
      // Already inline onclick attributes for quick view
    }

    // Initialize
    window.addEventListener('load', ()=>{
      setDealEndTimes();
      tickCountdowns();
      setInterval(tickCountdowns,1000);
      updateCarousel();

      // wire up quick view buttons that used product id
      document.querySelectorAll('[data-id]').forEach(el=>{
        // no-op; inline handlers used
      });

      // close modal with escape
      document.addEventListener('keydown',(e)=>{ if(e.key==='Escape') closeModal(); });
      // clicking backdrop closes
      modalBackdrop.addEventListener('click',(e)=>{ if(e.target===modalBackdrop) closeModal(); });
    });

    // Accessibility: focusable carousel controls with keyboard arrow keys
    document.querySelector('.carousel').addEventListener('keydown', (e)=>{
      if(e.key==='ArrowLeft') carouselPrev();
      if(e.key==='ArrowRight') carouselNext();
    });

    // For demo: map quick view ids to product details (already set)
    // For deep linking: open quick view if hash contains product
    const hash = location.hash.slice(1);
    if(hash && products[hash]) setTimeout(()=>openQuickView(hash),600);
  </script>
</body>
</html>