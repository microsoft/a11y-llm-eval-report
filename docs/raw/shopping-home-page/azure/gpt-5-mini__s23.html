<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopEase ‚Äî Home</title>
  <style>
    :root{
      --accent:#ff6f61;
      --muted:#6b7280;
      --bg:#f7fafc;
      --card:#ffffff;
      --shadow: 0 6px 18px rgba(17,24,39,0.08);
      --radius:12px;
      --max-width:1200px;
      --glass: rgba(255,255,255,0.65);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing: border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
    }
    .container{
      max-width:var(--max-width);
      margin:0 auto;
      padding:24px;
    }

    header{
      background:linear-gradient(90deg, rgba(255,111,97,0.06), rgba(255,111,97,0.02));
      box-shadow: var(--shadow);
      border-radius: 14px;
      margin: 16px auto;
    }
    .topbar{
      display:flex;
      align-items:center;
      gap:16px;
      padding:16px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      margin-right:12px;
    }
    .logo{
      width:44px;
      height:44px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent),#ffd3cc);
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:18px;
      box-shadow: 0 4px 10px rgba(255,111,97,0.18);
    }
    .sitename{
      font-size:18px;
      font-weight:700;
    }
    nav{margin-left:auto; display:flex; gap:12px; align-items:center;}
    nav a{
      text-decoration:none;
      color:var(--muted);
      font-weight:600;
      padding:8px 12px;
      border-radius:8px;
    }
    nav a.active, nav a:hover{color: #111827; background: rgba(17,24,39,0.04)}
    .actions{display:flex; gap:8px; align-items:center; margin-left:12px;}
    .icon-btn{
      background:transparent;
      border:1px solid rgba(15,23,42,0.06);
      padding:8px;
      border-radius:10px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      cursor:pointer;
    }
    .hero{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:18px;
      padding:18px;
      align-items:center;
    }
    .hero-left{
      padding:8px 8px 8px 0;
    }
    h1{
      margin:6px 0 10px 0;
      font-size:28px;
    }
    p.lead{margin:0 0 12px 0; color:var(--muted)}
    .search{
      display:flex;
      gap:8px;
      margin-bottom:12px;
    }
    .search input{
      flex:1;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid rgba(15,23,42,0.06);
      outline:none;
      font-size:14px;
    }
    .search button{
      background:var(--accent);
      color:white;
      border:none;
      padding:12px 16px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
    }
    .categories{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .cat{
      background:var(--card);
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(15,23,42,0.04);
      color:var(--muted);
      font-weight:600;
      cursor:pointer;
    }
    .hero-right{
      background:linear-gradient(180deg, rgba(255,111,97,0.06), rgba(255,111,97,0.02));
      border-radius:12px;
      padding:14px;
    }
    .mini-card{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .mini-card img{
      width:72px;
      height:72px;
      border-radius:10px;
      object-fit:cover;
      background:#fff;
      box-shadow: 0 6px 14px rgba(2,6,23,0.06);
    }

    main{margin-top:20px}
    .section{
      margin:22px 0;
      padding:18px;
      background:var(--card);
      border-radius:12px;
      box-shadow: var(--shadow);
    }
    .section .section-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:12px;
    }
    .section h2{margin:0; font-size:18px}
    .grid{
      display:grid;
      gap:14px;
    }

    /* product grid */
    .products.grid{
      grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
    }
    .product{
      background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(250,250,250,0.9));
      padding:12px;
      border-radius:12px;
      border:1px solid rgba(15,23,42,0.04);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .prod-media{
      position:relative;
      display:block;
      border-radius:10px;
      overflow:hidden;
      background:#fff;
      height:180px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .prod-media img{max-width:100%; height:100%; object-fit:cover; display:block}
    .badge{
      position:absolute;
      top:10px;
      left:10px;
      background:var(--accent);
      color:white;
      font-weight:700;
      padding:6px 8px;
      border-radius:8px;
      font-size:13px;
    }
    .fav{
      position:absolute;
      top:10px;
      right:10px;
      background:rgba(255,255,255,0.9);
      border-radius:8px;
      padding:6px;
      cursor:pointer;
      border:1px solid rgba(15,23,42,0.04);
    }
    .prod-info{display:flex; flex-direction:column; gap:6px}
    .prod-title{font-weight:700; font-size:15px}
    .prod-meta{display:flex; justify-content:space-between; align-items:center; color:var(--muted); font-size:14px}
    .price{font-weight:800; color:#071133}
    .oldprice{color:var(--muted); text-decoration:line-through; font-weight:600; font-size:13px}
    .prod-actions{display:flex; gap:8px; align-items:center}
    .btn{
      padding:10px 12px;
      border-radius:10px;
      border:none;
      cursor:pointer;
      font-weight:700;
      font-size:14px;
    }
    .btn.add{background:var(--accent); color:white; flex:1}
    .btn.view{background:transparent; border:1px solid rgba(15,23,42,0.06); color:var(--muted)}
    .rating{color:#fbbf24; font-weight:700}

    /* Deals */
    .deals.grid{
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
    }
    .deal{
      position:relative;
      padding:12px;
      border-radius:12px;
      overflow:hidden;
      min-height:140px;
      display:flex;
      gap:12px;
      align-items:center;
    }
    .deal .deal-media{width:160px; height:110px; border-radius:10px; overflow:hidden; flex-shrink:0}
    .deal .deal-body{flex:1}
    .save-badge{background:#10b981;color:white;padding:6px 8px;border-radius:9px;font-weight:700}
    .countdown{font-weight:800;color:#ef4444}
    .progress{
      height:8px;
      width:100%;
      background:rgba(2,6,23,0.06);
      border-radius:8px;
      overflow:hidden;
      margin-top:8px;
    }
    .progress > span{display:block;height:100%; background: linear-gradient(90deg,#ffb4a6,#ff6f61);}

    /* Blog */
    .posts.grid{
      grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
    }
    .post{
      display:flex;
      gap:12px;
      align-items:flex-start;
    }
    .post img{width:120px;height:80px;object-fit:cover;border-radius:10px;flex-shrink:0}

    footer{
      margin-top:18px;
      padding:18px;
      background:transparent;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }
    .newsletter{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .newsletter input{padding:10px 12px;border-radius:10px;border:1px solid rgba(15,23,42,0.06)}
    .small{font-size:13px;color:var(--muted)}

    /* Modal */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(2,6,23,0.5);
      z-index:60;
      padding:20px;
    }
    .modal.open{display:flex}
    .modal-card{
      width:100%;
      max-width:880px;
      background:var(--card);
      border-radius:12px;
      padding:18px;
      box-shadow:var(--shadow);
      display:flex;
      gap:16px;
    }
    .modal-card img{width:320px;height:320px;object-fit:cover;border-radius:10px}
    .modal-body{flex:1}

    @media (max-width:900px){
      .hero{grid-template-columns:1fr; gap:12px}
      .hero-right{order:2}
    }
    @media (max-width:560px){
      .prod-media{height:140px}
      .modal-card{flex-direction:column; align-items:center}
      .modal-card img{width:100%; height:220px}
    }
  </style>
</head>
<body>
  <header class="container" aria-label="Top header">
    <div class="topbar">
      <div class="brand" role="img" aria-label="ShopEase logo">
        <div class="logo">SE</div>
        <div>
          <div class="sitename">ShopEase</div>
          <div class="small">Find what you love</div>
        </div>
      </div>
      <nav aria-label="Main navigation">
        <a href="#" class="active">Home</a>
        <a href="#">Shop</a>
        <a href="#">Deals</a>
        <a href="#">Blog</a>
        <a href="#">Contact</a>
      </nav>

      <div class="actions" aria-hidden="false">
        <button class="icon-btn" title="Wishlist" id="wishlistBtn">‚ù§ <span id="favCount" style="font-weight:700;margin-left:6px">0</span></button>
        <button class="icon-btn" title="Cart" id="cartBtn">üõí <span id="cartCount" style="font-weight:700;margin-left:6px">0</span></button>
      </div>
    </div>

    <div class="hero">
      <div class="hero-left">
        <h1>Everyday essentials, curated for you</h1>
        <p class="lead">Top-rated products, latest deals, and stories from our community ‚Äî all in one place.</p>

        <div class="search" role="search" aria-label="Search products">
          <input type="search" id="search" placeholder="Search for products, categories, or brands" aria-label="Search input">
          <button id="searchBtn">Search</button>
        </div>

        <div class="categories" aria-label="Popular categories">
          <div class="cat">Electronics</div>
          <div class="cat">Home</div>
          <div class="cat">Beauty</div>
          <div class="cat">Fitness</div>
          <div class="cat">Toys</div>
          <div class="cat">Outdoors</div>
        </div>
      </div>

      <aside class="hero-right" aria-label="Suggestions">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <div style="font-weight:800">Suggested for you</div>
          <div class="small">Based on your views</div>
        </div>
        <div class="mini-card" role="article">
          <img src="https://via.placeholder.com/88x88/fff0f0/ff6f61?text=G" alt="Featured gadget">
          <div>
            <div style="font-weight:800">Gadget Pro X</div>
            <div class="small">Now 20% off</div>
            <div style="margin-top:8px;display:flex;gap:8px">
              <button class="btn add" style="padding:8px 10px;font-size:13px" data-id="gpx">Add</button>
              <button class="btn view" style="padding:8px 10px;font-size:13px" data-view="gpx">View</button>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </header>

  <main class="container" id="main">
    <section class="section" aria-labelledby="popular-heading">
      <div class="section-header">
        <h2 id="popular-heading">Popular Items</h2>
        <div class="small">Best sellers this week</div>
      </div>

      <div class="grid products" id="productsGrid" role="list">
        <!-- Product 1 -->
        <article class="product" role="listitem" data-id="p1">
          <div class="prod-media">
            <span class="badge">Top</span>
            <button class="fav" aria-pressed="false" title="Add to wishlist">‚ô°</button>
            <img src="https://via.placeholder.com/360x360/ffe9e6/ff6f61?text=Headphones" alt="Over-ear wireless headphones">
          </div>
          <div class="prod-info">
            <div class="prod-title">Over-ear Wireless Headphones</div>
            <div class="prod-meta">
              <div><span class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> <span class="small">4.8</span></div>
              <div><span class="price">$89</span></div>
            </div>
            <div class="prod-actions">
              <button class="btn add" data-add="p1">Add to Cart</button>
              <button class="btn view" data-view="p1">Quick View</button>
            </div>
          </div>
        </article>

        <!-- Product 2 -->
        <article class="product" role="listitem" data-id="p2">
          <div class="prod-media">
            <button class="fav" aria-pressed="false" title="Add to wishlist">‚ô°</button>
            <img src="https://via.placeholder.com/360x360/eff8ff/2b7bb9?text=Blender" alt="Compact kitchen blender">
          </div>
          <div class="prod-info">
            <div class="prod-title">Compact Kitchen Blender</div>
            <div class="prod-meta">
              <div><span class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> <span class="small">4.5</span></div>
              <div><span class="price">$59</span></div>
            </div>
            <div class="prod-actions">
              <button class="btn add" data-add="p2">Add to Cart</button>
              <button class="btn view" data-view="p2">Quick View</button>
            </div>
          </div>
        </article>

        <!-- Product 3 -->
        <article class="product" role="listitem" data-id="p3">
          <div class="prod-media">
            <span class="badge" style="background:#4f46e5">New</span>
            <button class="fav" aria-pressed="false" title="Add to wishlist">‚ô°</button>
            <img src="https://via.placeholder.com/360x360/f1f8e9/6bbf59?text=Yoga" alt="Yoga mat and accessories">
          </div>
          <div class="prod-info">
            <div class="prod-title">Premium Yoga Kit</div>
            <div class="prod-meta">
              <div><span class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> <span class="small">4.4</span></div>
              <div><span class="price">$39</span></div>
            </div>
            <div class="prod-actions">
              <button class="btn add" data-add="p3">Add to Cart</button>
              <button class="btn view" data-view="p3">Quick View</button>
            </div>
          </div>
        </article>

        <!-- Product 4 -->
        <article class="product" role="listitem" data-id="p4">
          <div class="prod-media">
            <button class="fav" aria-pressed="false" title="Add to wishlist">‚ô°</button>
            <img src="https://via.placeholder.com/360x360/fff7e6/ffb84d?text=Lamp" alt="Minimal desk lamp">
          </div>
          <div class="prod-info">
            <div class="prod-title">Minimal Desk Lamp</div>
            <div class="prod-meta">
              <div><span class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> <span class="small">4.3</span></div>
              <div><span class="price">$29</span></div>
            </div>
            <div class="prod-actions">
              <button class="btn add" data-add="p4">Add to Cart</button>
              <button class="btn view" data-view="p4">Quick View</button>
            </div>
          </div>
        </article>

        <!-- Product 5 -->
        <article class="product" role="listitem" data-id="p5">
          <div class="prod-media">
            <span class="badge" style="background:#06b6d4">Hot</span>
            <button class="fav" aria-pressed="false" title="Add to wishlist">‚ô°</button>
            <img src="https://via.placeholder.com/360x360/eff6ff/60a5fa?text=Watch" alt="Smart fitness watch">
          </div>
          <div class="prod-info">
            <div class="prod-title">Smart Fitness Watch</div>
            <div class="prod-meta">
              <div><span class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> <span class="small">4.6</span></div>
              <div><span class="price">$129</span></div>
            </div>
            <div class="prod-actions">
              <button class="btn add" data-add="p5">Add to Cart</button>
              <button class="btn view" data-view="p5">Quick View</button>
            </div>
          </div>
        </article>

        <!-- Product 6 -->
        <article class="product" role="listitem" data-id="p6">
          <div class="prod-media">
            <button class="fav" aria-pressed="false" title="Add to wishlist">‚ô°</button>
            <img src="https://via.placeholder.com/360x360/f7f7ff/9b8cff?text=Backpack" alt="Everyday travel backpack">
          </div>
          <div class="prod-info">
            <div class="prod-title">Everyday Travel Backpack</div>
            <div class="prod-meta">
              <div><span class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> <span class="small">4.7</span></div>
              <div><span class="price">$69</span></div>
            </div>
            <div class="prod-actions">
              <button class="btn add" data-add="p6">Add to Cart</button>
              <button class="btn view" data-view="p6">Quick View</button>
            </div>
          </div>
        </article>
      </div>
    </section>

    <section class="section" aria-labelledby="deals-heading">
      <div class="section-header">
        <h2 id="deals-heading">Deals of the Day</h2>
        <div class="small">Limited-time offers</div>
      </div>

      <div class="grid deals" id="dealsGrid">
        <article class="deal" data-deal="d1">
          <img class="deal-media" src="https://via.placeholder.com/320x220/fff0f3/ff7c8a?text=Coffee+Maker" alt="Coffee maker">
          <div class="deal-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">Barista Coffee Maker</div>
              <div class="save-badge">Save 30%</div>
            </div>
            <div class="small" style="margin-top:6px">Brew bar quality at home</div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
              <div>
                <div class="price">$69 <span class="oldprice">$99</span></div>
                <div class="small" style="margin-top:6px">Stock: <strong>37</strong></div>
              </div>
              <div style="text-align:right">
                <div class="small">Ends in</div>
                <div class="countdown" data-ends-in="" data-dealid="d1">00:00:00</div>
              </div>
            </div>
            <div class="progress" aria-hidden="true" style="margin-top:10px">
              <span style="width:48%"></span>
            </div>
            <div style="margin-top:10px">
              <button class="btn add" data-add="d1">Buy Deal</button>
            </div>
          </div>
        </article>

        <article class="deal" data-deal="d2">
          <img class="deal-media" src="https://via.placeholder.com/320x220/f7fff2/3ddc84?text=Air+Fryer" alt="Air fryer">
          <div class="deal-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">Air Fryer XL</div>
              <div class="save-badge">Save 25%</div>
            </div>
            <div class="small" style="margin-top:6px">Crispy, healthy meals faster</div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
              <div>
                <div class="price">$89 <span class="oldprice">$119</span></div>
                <div class="small" style="margin-top:6px">Stock: <strong>21</strong></div>
              </div>
              <div style="text-align:right">
                <div class="small">Ends in</div>
                <div class="countdown" data-ends-in="" data-dealid="d2">00:00:00</div>
              </div>
            </div>
            <div class="progress" aria-hidden="true" style="margin-top:10px">
              <span style="width:62%"></span>
            </div>
            <div style="margin-top:10px">
              <button class="btn add" data-add="d2">Buy Deal</button>
            </div>
          </div>
        </article>

        <article class="deal" data-deal="d3">
          <img class="deal-media" src="https://via.placeholder.com/320x220/fff8e6/ffd36b?text=Blender+Pro" alt="High-speed blender">
          <div class="deal-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">Blender Pro 900</div>
              <div class="save-badge">Save 35%</div>
            </div>
            <div class="small" style="margin-top:6px">Smoothies in seconds</div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
              <div>
                <div class="price">$129 <span class="oldprice">$199</span></div>
                <div class="small" style="margin-top:6px">Stock: <strong>12</strong></div>
              </div>
              <div style="text-align:right">
                <div class="small">Ends in</div>
                <div class="countdown" data-ends-in="" data-dealid="d3">00:00:00</div>
              </div>
            </div>
            <div class="progress" aria-hidden="true" style="margin-top:10px">
              <span style="width:80%"></span>
            </div>
            <div style="margin-top:10px">
              <button class="btn add" data-add="d3">Buy Deal</button>
            </div>
          </div>
        </article>
      </div>
    </section>

    <section class="section" aria-labelledby="blog-heading">
      <div class="section-header">
        <h2 id="blog-heading">From Our Blog</h2>
        <div class="small">Latest stories & buying guides</div>
      </div>

      <div class="grid posts">
        <article class="post">
          <img src="https://via.placeholder.com/380x220/eaf6ff/7fb7ff?text=Guide" alt="Product guide">
          <div>
            <div style="font-weight:800">How to choose the perfect headphones</div>
            <div class="small" style="margin-top:6px">From drivers to fit, a short guide to help you choose wisely.</div>
            <div class="small" style="margin-top:8px;color:var(--muted)">Oct 12 ‚Ä¢ 4 min read</div>
          </div>
        </article>

        <article class="post">
          <img src="https://via.placeholder.com/380x220/fff4e6/ffc66b?text=Tips" alt="Kitchen tips">
          <div>
            <div style="font-weight:800">5 kitchen gadgets that save time</div>
            <div class="small" style="margin-top:6px">Smart choices for a faster meal prep.</div>
            <div class="small" style="margin-top:8px;color:var(--muted)">Oct 08 ‚Ä¢ 3 min read</div>
          </div>
        </article>

        <article class="post">
          <img src="https://via.placeholder.com/380x220/f8fff0/94e6a2?text=Wellness" alt="Wellness blog">
          <div>
            <div style="font-weight:800">Creating a home workout routine</div>
            <div class="small" style="margin-top:6px">Simple gear and habits to stay consistent.</div>
            <div class="small" style="margin-top:8px;color:var(--muted)">Sep 29 ‚Ä¢ 5 min read</div>
          </div>
        </article>
      </div>
    </section>

    <footer class="container" role="contentinfo" aria-label="Footer">
      <div>
        <div style="font-weight:800">ShopEase</div>
        <div class="small">¬© 2025 ShopEase Inc. All rights reserved.</div>
      </div>
      <div class="newsletter">
        <div class="small">Subscribe for deals</div>
        <input type="email" placeholder="Your email" aria-label="Email for newsletter">
        <button class="btn add" style="padding:9px 12px">Subscribe</button>
      </div>
    </footer>
  </main>

  <!-- Quick View Modal -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-card" role="document">
      <img src="" alt="" id="modalImg">
      <div class="modal-body">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:900;font-size:18px" id="modalTitle"></div>
          <button id="closeModal" class="icon-btn" aria-label="Close">‚úï</button>
        </div>
        <div class="small" id="modalRating" style="margin-top:6px">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.8</div>
        <p id="modalDesc" style="margin-top:12px;color:var(--muted)">Product description placeholder.</p>
        <div style="margin-top:16px;display:flex;gap:8px;align-items:center">
          <div style="font-weight:900;font-size:20px" id="modalPrice">$89</div>
          <div class="small" id="modalOld" style="text-decoration:line-through;color:var(--muted)">$99</div>
        </div>
        <div style="margin-top:18px;display:flex;gap:8px">
          <button class="btn add" id="modalAdd">Add to Cart</button>
          <button class="btn view" id="modalFav">‚ô° Add to Wishlist</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Basic data for modal and products (minimal)
    const products = {
      p1: {id:'p1', title:'Over-ear Wireless Headphones', price:89, old:119, img:'https://via.placeholder.com/640x640/ffe9e6/ff6f61?text=Headphones', rating:4.8, desc:'Comfortable over-ear wireless headphones with active noise cancellation, 30h battery.'},
      p2: {id:'p2', title:'Compact Kitchen Blender', price:59, old:79, img:'https://via.placeholder.com/640x640/eff8ff/2b7bb9?text=Blender', rating:4.5, desc:'A compact, powerful blender perfect for smoothies and sauces.'},
      p3: {id:'p3', title:'Premium Yoga Kit', price:39, old:59, img:'https://via.placeholder.com/640x640/f1f8e9/6bbf59?text=Yoga+Kit', rating:4.4, desc:'Non-slip mat, blocks and strap ‚Äî everything you need for home practice.'},
      p4: {id:'p4', title:'Minimal Desk Lamp', price:29, old:49, img:'https://via.placeholder.com/640x640/fff7e6/ffb84d?text=Lamp', rating:4.3, desc:'Sleek desk lamp with adjustable brightness and warm light mode.'},
      p5: {id:'p5', title:'Smart Fitness Watch', price:129, old:169, img:'https://via.placeholder.com/640x640/eff6ff/60a5fa?text=Watch', rating:4.6, desc:'Tracks heart rate, sleep and workouts with built-in GPS.'},
      p6: {id:'p6', title:'Everyday Travel Backpack', price:69, old:99, img:'https://via.placeholder.com/640x640/f7f7ff/9b8cff?text=Backpack', rating:4.7, desc:'Durable, water-resistant backpack with laptop compartment.'},
      d1: {id:'d1', title:'Barista Coffee Maker', price:69, old:99, img:'https://via.placeholder.com/640x640/fff0f3/ff7c8a?text=Coffee+Maker', rating:4.7, desc:'Automatic coffee maker with built-in grinder and frother.'},
      d2: {id:'d2', title:'Air Fryer XL', price:89, old:119, img:'https://via.placeholder.com/640x640/f7fff2/3ddc84?text=Air+Fryer', rating:4.6, desc:'Large capacity air fryer for family-sized meals.'},
      d3: {id:'d3', title:'Blender Pro 900', price:129, old:199, img:'https://via.placeholder.com/640x640/fff8e6/ffd36b?text=Blender+Pro', rating:4.8, desc:'High-speed blender with multiple presets and durable blades.'}
    };

    // Cart and wishlist state (persist small state in localStorage)
    const storage = {
      get(key, fallback){ try { const v = localStorage.getItem(key); return v ? JSON.parse(v) : fallback; } catch(e){ return fallback; } },
      set(key, val){ try { localStorage.setItem(key, JSON.stringify(val)); } catch(e){} }
    };

    let cart = storage.get('shop_cart', {}); // {id: qty}
    let wishlist = storage.get('shop_wishlist', {}); // {id:true}

    function updateCounters(){
      const cartCount = Object.values(cart).reduce((s,q)=>s+q,0);
      const favCount = Object.keys(wishlist).length;
      document.getElementById('cartCount').textContent = cartCount;
      document.getElementById('favCount').textContent = favCount;
    }

    // Attach add-to-cart buttons
    document.querySelectorAll('[data-add]').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const id = btn.getAttribute('data-add');
        cart[id] = (cart[id]||0) + 1;
        storage.set('shop_cart', cart);
        updateCounters();
        btn.animate([{transform:'scale(1.02)'},{transform:'scale(1)'}], {duration:200});
      });
    });

    // Wishlist toggle
    document.querySelectorAll('.fav').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const card = btn.closest('[data-id]');
        const id = card ? card.getAttribute('data-id') : null;
        if(!id) return;
        if(wishlist[id]) { delete wishlist[id]; btn.textContent = '‚ô°'; btn.setAttribute('aria-pressed','false'); } 
        else { wishlist[id] = true; btn.textContent = '‚ô•'; btn.setAttribute('aria-pressed','true'); }
        storage.set('shop_wishlist', wishlist);
        updateCounters();
      });
    });

    // Quick view modal
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalPrice = document.getElementById('modalPrice');
    const modalOld = document.getElementById('modalOld');
    const modalRating = document.getElementById('modalRating');
    let currentModalId = null;

    function openModal(id){
      const p = products[id] || {};
      currentModalId = id;
      modalImg.src = p.img || '';
      modalImg.alt = p.title || '';
      modalTitle.textContent = p.title || '';
      modalDesc.textContent = p.desc || '';
      modalPrice.textContent = (p.price ? '$'+p.price : '');
      modalOld.textContent = (p.old ? '$'+p.old : '');
      modalRating.textContent = '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ ' + (p.rating || '');
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }
    function closeModal(){
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    }

    document.querySelectorAll('[data-view]').forEach(btn=>{
      btn.addEventListener('click', ()=> openModal(btn.getAttribute('data-view')));
    });
    document.getElementById('closeModal').addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{
      if(e.target === modal) closeModal();
    });

    // Modal add to cart & wishlist
    document.getElementById('modalAdd').addEventListener('click', ()=>{
      if(!currentModalId) return;
      cart[currentModalId] = (cart[currentModalId]||0) + 1;
      storage.set('shop_cart', cart);
      updateCounters();
      closeModal();
    });
    document.getElementById('modalFav').addEventListener('click', ()=>{
      if(!currentModalId) return;
      if(wishlist[currentModalId]) { delete wishlist[currentModalId]; document.getElementById('modalFav').textContent='‚ô° Add to Wishlist'; }
      else { wishlist[currentModalId] = true; document.getElementById('modalFav').textContent='‚ô• In Wishlist'; }
      storage.set('shop_wishlist', wishlist);
      updateCounters();
    });

    // Initialize counters and wishlist buttons state
    function initWishlistUI(){
      document.querySelectorAll('.product').forEach(card=>{
        const id = card.getAttribute('data-id');
        const btn = card.querySelector('.fav');
        if(id && wishlist[id]) { btn.textContent='‚ô•'; btn.setAttribute('aria-pressed','true'); } else { btn.textContent='‚ô°'; btn.setAttribute('aria-pressed','false'); }
      });
    }
    updateCounters();
    initWishlistUI();

    // Simple search: highlights matching products
    document.getElementById('searchBtn').addEventListener('click', ()=> {
      const q = document.getElementById('search').value.trim().toLowerCase();
      document.querySelectorAll('.product').forEach(card=>{
        const title = card.querySelector('.prod-title').textContent.toLowerCase();
        if(!q || title.includes(q)) { card.style.display='flex' } else { card.style.display='none' }
      });
    });

    // Countdown timers for deals (set ends times a few minutes from now)
    const countdownEls = document.querySelectorAll('.countdown');
    const now = Date.now();
    // If stored previously, keep endTimes, else set new short timers
    let dealEnds = storage.get('deal_ends', null);
    if(!dealEnds){
      dealEnds = {
        d1: now + (1000 * 60 * 60 * 2) + 1000*30, // ~2 hours
        d2: now + (1000 * 60 * 45),                // 45 min
        d3: now + (1000 * 60 * 15)                 // 15 min
      };
      storage.set('deal_ends', dealEnds);
    }

    function formatTime(ms){
      if(ms<=0) return "00:00:00";
      const s = Math.floor(ms/1000);
      const hh = Math.floor(s/3600).toString().padStart(2,'0');
      const mm = Math.floor((s%3600)/60).toString().padStart(2,'0');
      const ss = Math.floor(s%60).toString().padStart(2,'0');
      return `${hh}:${mm}:${ss}`;
    }

    function updateCountdowns(){
      const tNow = Date.now();
      countdownEls.forEach(el=>{
        const id = el.getAttribute('data-dealid');
        const end = dealEnds[id] || tNow;
        const left = end - tNow;
        el.textContent = formatTime(left);
        // Add subtle color change when near end
        if(left < 1000*60*10 && left>0) el.style.color = '#f59e0b';
        if(left <= 0) el.textContent = 'Expired';
      });
    }

    updateCountdowns();
    setInterval(updateCountdowns, 1000);

    // Simple accessibility: keyboard open quick view with Enter on view buttons
    document.querySelectorAll('.btn.view').forEach(btn=>{
      btn.setAttribute('tabindex','0');
      btn.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ openModal(btn.getAttribute('data-view')); } });
    });

    // Prefill modal add/fav labels depending on wishlist
    modal.addEventListener('animationstart', ()=>{});
    // Close modal with Escape
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });

    // Small UX: clicking cart button reveals a basic alert (placeholder)
    document.getElementById('cartBtn').addEventListener('click', ()=>{
      const count = Object.values(cart).reduce((s,q)=>s+q,0);
      if(count===0) alert('Your cart is empty. Add items to get started.');
      else alert('You have ' + count + ' item(s) in your cart.');
    });

    // Link suggested hero buttons to actions
    document.querySelectorAll('[data-id="gpx"]').forEach(b=>{
      b.addEventListener('click', ()=> alert('Suggested item action (demo).'));
    });
  </script>
</body>
</html>