<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopSphere — Home</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0f62fe;
      --accent-2:#ff6b6b;
      --glass: rgba(255,255,255,0.7);
      --shadow: 0 6px 18px rgba(23,23,23,0.08);
      --radius:12px;
      --container:1100px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:#111827;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#eef2ff 120px);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      padding-bottom:80px;
    }

    .wrap{
      max-width:var(--container);
      margin:0 auto;
      padding:28px;
    }

    header.site-header{
      display:flex;
      align-items:center;
      gap:18px;
      justify-content:space-between;
      margin-bottom:22px;
    }

    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      text-decoration:none;
      color:inherit;
    }

    .logo{
      width:46px;height:46px;
      border-radius:10px;
      background:linear-gradient(135deg,#4361ee,#7c3aed);
      display:grid;
      place-items:center;
      color:#fff;
      font-weight:700;
      box-shadow:var(--shadow);
      flex:0 0 46px;
    }

    nav.primary{
      display:flex;
      gap:12px;
      align-items:center;
      margin-left:8px;
    }

    nav.primary a{
      color:var(--muted);
      text-decoration:none;
      font-weight:600;
      padding:8px 10px;
      border-radius:8px;
    }

    nav.primary a:hover{color:var(--accent)}

    .controls{
      display:flex;
      gap:12px;
      align-items:center;
    }

    .search {
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      padding:8px 12px;
      border-radius:14px;
      box-shadow:var(--shadow);
      min-width:260px;
    }

    .search input{
      border:0;
      outline:none;
      font-size:14px;
      background:transparent;
      width:100%;
    }

    .icon-btn{
      border:0;
      background:transparent;
      cursor:pointer;
      color:var(--muted);
      font-size:18px;
      padding:8px;
      border-radius:8px;
    }

    .cart{
      position:relative;
    }

    .cart .count{
      position:absolute;
      top:-6px;
      right:-6px;
      background:var(--accent-2);
      color:#fff;
      font-size:12px;
      padding:3px 7px;
      border-radius:999px;
      font-weight:700;
      box-shadow:0 4px 10px rgba(0,0,0,0.12);
    }

    .hero{
      display:grid;
      grid-template-columns:1fr 360px;
      gap:18px;
      align-items:center;
      margin:10px 0 26px;
    }

    .hero-card{
      background:linear-gradient(180deg,#fff,#f8fafc);
      padding:28px;
      border-radius:16px;
      box-shadow:var(--shadow);
      display:flex;
      gap:18px;
      align-items:center;
    }

    .hero-content h1{
      margin:0;
      font-size:26px;
      line-height:1.05;
    }
    .hero-content p{margin:8px 0 0;color:var(--muted)}

    .hero-cta{
      margin-top:14px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 14px;
      background:var(--accent);
      color:#fff;
      border-radius:12px;
      border:0;
      cursor:pointer;
      font-weight:700;
      box-shadow:0 8px 20px rgba(15,98,254,0.12);
    }
    .btn.secondary{
      background:#ffffff;
      color:var(--accent);
      border:1px solid #e6eefc;
      box-shadow: none;
    }

    .small{
      font-size:13px;
      padding:8px 10px;
      border-radius:10px;
    }

    .hero-visual{
      display:flex;
      justify-content:center;
      align-items:center;
      background:linear-gradient(135deg,#eef2ff,#fff);
      padding:18px;
      border-radius:12px;
      box-shadow: inset 0 -8px 24px rgba(12,74,255,0.03);
      min-height:170px;
    }

    .categories{
      display:flex;
      gap:10px;
      margin:18px 0;
      flex-wrap:wrap;
    }

    .chip{
      background:var(--card);
      padding:8px 12px;
      border-radius:999px;
      color:var(--muted);
      font-weight:600;
      cursor:pointer;
      box-shadow:var(--shadow);
      border:1px solid #fff;
    }
    .chip.active{background:linear-gradient(90deg,#e9f2ff,#fff); color:var(--accent)}

    main.content{
      display:grid;
      gap:24px;
    }

    .section{
      background:transparent;
    }

    .section h2{
      margin:0 0 12px;
      font-size:20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .grid{
      display:grid;
      gap:14px;
    }

    /* product grid */
    .products.grid{
      grid-template-columns:repeat(3,1fr);
    }

    .product{
      background:var(--card);
      padding:14px;
      border-radius:14px;
      box-shadow:var(--shadow);
      display:flex;
      gap:12px;
      align-items:flex-start;
    }

    .product .thumb{
      width:120px;
      min-width:120px;
      height:120px;
      border-radius:12px;
      display:grid;
      place-items:center;
      background:linear-gradient(135deg,#fff,#f7f9ff);
      overflow:hidden;
      position:relative;
      box-shadow:inset 0 -6px 16px rgba(12,74,255,0.03);
    }

    .product .thumb img{width:100%;height:100%;object-fit:cover;display:block}

    .meta{
      flex:1;
    }
    .meta h3{margin:0;font-size:16px}
    .meta p{margin:6px 0 0;color:var(--muted);font-size:13px}
    .price-row{
      margin-top:10px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .price{
      font-size:17px;
      font-weight:800;
      color:#0f172a;
    }
    .old{
      color:var(--muted);
      text-decoration:line-through;
      font-size:13px;
    }

    .actions{
      margin-top:12px;
      display:flex;
      gap:8px;
      align-items:center;
    }

    .rating{
      display:inline-flex;
      gap:4px;
      align-items:center;
      color:#f59e0b;
      font-size:13px;
    }

    /* deals */
    .deals.grid{
      grid-template-columns:repeat(3,1fr);
    }
    .deal{
      background:linear-gradient(180deg,#fff,#fff);
      padding:14px;
      border-radius:14px;
      box-shadow:var(--shadow);
      display:flex;
      gap:12px;
      align-items:center;
      border:1px solid rgba(15,98,254,0.04);
    }
    .deal .badge{
      background:linear-gradient(90deg,#ff7b7b,#ffb86b);
      color:#fff;
      font-weight:800;
      padding:8px 10px;
      border-radius:10px;
      font-size:13px;
      flex-shrink:0;
    }
    .deal .d-info h4{margin:0;font-size:15px}
    .deal .countdown{color:var(--muted);font-size:13px;margin-top:8px}

    /* blog */
    .posts.grid{
      grid-template-columns:repeat(3,1fr);
    }
    .post{
      background:var(--card);
      padding:12px;
      border-radius:12px;
      box-shadow:var(--shadow);
      display:flex;
      gap:12px;
      flex-direction:column;
    }
    .post .img{
      height:140px;
      border-radius:10px;
      overflow:hidden;
      background:linear-gradient(90deg,#f6f7fb,#fff);
    }
    .post h4{margin:10px 0 6px}
    .post p{margin:0;color:var(--muted);font-size:14px}

    footer.site-footer{
      margin-top:28px;
      border-top:1px solid #eef2ff;
      padding-top:20px;
      display:flex;
      gap:20px;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
    }

    .newsletter{
      display:flex;
      gap:8px;
      align-items:center;
    }

    .newsletter input{
      padding:10px 12px;
      border-radius:10px;
      border:1px solid #e6eefc;
      min-width:260px;
    }

    .links{display:flex;gap:18px;flex-wrap:wrap;color:var(--muted)}
    .muted{color:var(--muted)}

    /* responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr}
      .products.grid{grid-template-columns:repeat(2,1fr)}
      .deals.grid{grid-template-columns:repeat(2,1fr)}
      .posts.grid{grid-template-columns:repeat(2,1fr)}
      .search{min-width:180px}
    }
    @media (max-width:640px){
      .wrap{padding:16px}
      header.site-header{flex-direction:column;align-items:flex-start;gap:14px}
      nav.primary{display:none}
      .hero{grid-template-columns:1fr}
      .products.grid{grid-template-columns:1fr}
      .deals.grid{grid-template-columns:1fr}
      .posts.grid{grid-template-columns:1fr}
      .search{width:100%}
      .hero-card{flex-direction:column;align-items:flex-start}
    }

    /* subtle utilities */
    .toast{
      position:fixed;
      right:18px;
      bottom:18px;
      background:linear-gradient(90deg,#0f62fe,#6b8eff);
      color:white;
      padding:12px 16px;
      border-radius:12px;
      box-shadow:0 10px 26px rgba(12,74,255,0.18);
      display:none;
      z-index:1200;
    }

    .sr-only{
      position:absolute!important;
      height:1px;width:1px;
      overflow:hidden;
      clip:rect(1px,1px,1px,1px);
      white-space:nowrap;
    }
  </style>
</head>
<body>
  <div class="wrap" role="document">
    <header class="site-header" role="banner" aria-label="Main header">
      <a class="brand" href="#" aria-label="ShopSphere Home">
        <div class="logo" aria-hidden="true">SS</div>
        <div>
          <div style="font-weight:800;">ShopSphere</div>
          <div style="font-size:12px;color:var(--muted)">Find what you love</div>
        </div>
      </a>

      <nav class="primary" aria-label="Primary">
        <a href="#">Shop</a>
        <a href="#">Deals</a>
        <a href="#">Blog</a>
        <a href="#">About</a>
      </nav>

      <div class="controls" role="group" aria-label="Controls">
        <div class="search" title="Search products">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#94a3b8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11.25" cy="11.25" r="5.25" stroke="#94a3b8" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="searchInput" placeholder="Search popular items..." aria-label="Search popular items"/>
        </div>

        <button class="icon-btn" id="favoritesBtn" title="Favorites" aria-label="Favorites">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>

        <div class="cart" aria-live="polite">
          <button class="icon-btn" id="cartBtn" aria-label="Open cart">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6h15l-1.5 9h-12z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="20" r="1" /><circle cx="18" cy="20" r="1" /></svg>
          </button>
          <span class="count" id="cartCount" aria-hidden="true">0</span>
        </div>
      </div>
    </header>

    <section class="hero" aria-label="Featured">
      <div class="hero-card" role="region" aria-labelledby="hero-title">
        <div class="hero-content">
          <h1 id="hero-title">Fresh picks. Hot deals.</h1>
          <p>Top-rated items and daily offers handpicked for you. Free shipping on orders over $50.</p>
          <div class="hero-cta">
            <button class="btn" id="shopNow">Shop Now</button>
            <button class="btn secondary" id="viewCollections">Collections</button>
          </div>

          <div style="margin-top:14px;display:flex;gap:10px;align-items:center;">
            <div class="small" style="background:#fff;">Free 30-day returns</div>
            <div class="small" style="background:linear-gradient(90deg,#fff,#fff);">Secure payments</div>
          </div>
        </div>

        <div class="hero-visual" aria-hidden="true">
          <!-- illustrative SVG -->
          <svg width="260" height="160" viewBox="0 0 520 320" fill="none" role="img" aria-label="Shopping hero illustration">
            <defs>
              <linearGradient id="g1" x1="0" x2="1">
                <stop offset="0" stop-color="#7c3aed" />
                <stop offset="1" stop-color="#4361ee" />
              </linearGradient>
            </defs>
            <rect x="10" y="20" width="420" height="220" rx="20" fill="url(#g1)" opacity="0.9"/>
            <rect x="60" y="60" width="140" height="140" rx="16" fill="#fff" opacity="0.96"/>
            <rect x="190" y="100" width="200" height="120" rx="12" fill="#ffffff" opacity="0.85"/>
          </svg>
        </div>
      </div>

      <aside aria-label="Quick deals" style="display:flex;flex-direction:column;gap:10px;">
        <div class="chip">Top Rated</div>
        <div class="chip">New Arrivals</div>
        <div class="chip">Under $50</div>
        <div class="chip">Electronics</div>
      </aside>
    </section>

    <div class="categories" role="navigation" aria-label="Categories">
      <button class="chip active" data-cat="all">All</button>
      <button class="chip" data-cat="electronics">Electronics</button>
      <button class="chip" data-cat="home">Home</button>
      <button class="chip" data-cat="fashion">Fashion</button>
      <button class="chip" data-cat="outdoor">Outdoor</button>
      <button class="chip" data-cat="beauty">Beauty</button>
    </div>

    <main class="content" role="main">
      <section class="section" aria-labelledby="popular-title">
        <h2 id="popular-title">
          Popular items
          <small class="muted" style="font-weight:600;">(Trending now)</small>
        </h2>

        <div class="grid products grid" id="productsGrid" aria-live="polite">
          <article class="product" data-name="Wireless Headphones" data-cat="electronics" tabindex="0">
            <div class="thumb" aria-hidden="true">
              <img alt="Wireless Headphones" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='480' height='480'><rect rx='16' width='100%' height='100%' fill='%23f8fafc'/><g fill='%233b82f6'><circle cx='240' cy='180' r='70'/><rect x='170' y='260' width='140' height='20' rx='10'/></g></svg>">
            </div>
            <div class="meta">
              <h3>Wireless Headphones</h3>
              <p class="muted">Comfort-fit noise-cancelling bluetooth earbuds.</p>
              <div class="price-row">
                <div class="price">$89</div>
                <div class="old">$129</div>
                <div class="rating" aria-label="4.6 out of 5 stars">★ 4.6</div>
              </div>
              <div class="actions">
                <button class="btn small add-to-cart">Add to cart</button>
                <button class="btn small secondary">View</button>
              </div>
            </div>
          </article>

          <article class="product" data-name="Stainless Steel Kettle" data-cat="home" tabindex="0">
            <div class="thumb" aria-hidden="true">
              <img alt="Stainless Steel Kettle" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='480' height='480'><rect rx='16' width='100%' height='100%' fill='%23fff7ed'/><g fill='%23f97316'><rect x='130' y='120' width='220' height='160' rx='16'/></g></svg>">
            </div>
            <div class="meta">
              <h3>Stainless Steel Kettle</h3>
              <p class="muted">Fast-boil kettle with auto shut-off.</p>
              <div class="price-row">
                <div class="price">$39</div>
                <div class="old">$59</div>
                <div class="rating" aria-label="4.4 out of 5 stars">★ 4.4</div>
              </div>
              <div class="actions">
                <button class="btn small add-to-cart">Add to cart</button>
                <button class="btn small secondary">View</button>
              </div>
            </div>
          </article>

          <article class="product" data-name="Trail Running Shoes" data-cat="outdoor" tabindex="0">
            <div class="thumb" aria-hidden="true">
              <img alt="Trail Running Shoes" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='480' height='480'><rect rx='16' width='100%' height='100%' fill='%23eefde7'/><g fill='%231b9e5f'><path d='M120 200c40-80 200-60 240 0z'/></g></svg>">
            </div>
            <div class="meta">
              <h3>Trail Running Shoes</h3>
              <p class="muted">Lightweight with high grip for wet trails.</p>
              <div class="price-row">
                <div class="price">$74</div>
                <div class="old">$99</div>
                <div class="rating" aria-label="4.7 out of 5 stars">★ 4.7</div>
              </div>
              <div class="actions">
                <button class="btn small add-to-cart">Add to cart</button>
                <button class="btn small secondary">View</button>
              </div>
            </div>
          </article>

          <article class="product" data-name="Smart Coffee Maker" data-cat="home" tabindex="0">
            <div class="thumb" aria-hidden="true">
              <img alt="Smart Coffee Maker" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='480' height='480'><rect rx='16' width='100%' height='100%' fill='%23fff1f2'/><g fill='%23ef476f'><rect x='130' y='90' width='120' height='200' rx='14'/></g></svg>">
            </div>
            <div class="meta">
              <h3>Smart Coffee Maker</h3>
              <p class="muted">Wi-Fi enabled brewer with app controls.</p>
              <div class="price-row">
                <div class="price">$129</div>
                <div class="old">$169</div>
                <div class="rating" aria-label="4.5 out of 5 stars">★ 4.5</div>
              </div>
              <div class="actions">
                <button class="btn small add-to-cart">Add to cart</button>
                <button class="btn small secondary">View</button>
              </div>
            </div>
          </article>

          <article class="product" data-name="Classic Denim Jacket" data-cat="fashion" tabindex="0">
            <div class="thumb" aria-hidden="true">
              <img alt="Classic Denim Jacket" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='480' height='480'><rect rx='16' width='100%' height='100%' fill='%23f8fafc'/><g fill='%231f2937'><path d='M120 80h240v240H120z' opacity='.08'/></g></svg>">
            </div>
            <div class="meta">
              <h3>Classic Denim Jacket</h3>
              <p class="muted">Timeless fit with durable seams.</p>
              <div class="price-row">
                <div class="price">$59</div>
                <div class="old">$79</div>
                <div class="rating" aria-label="4.3 out of 5 stars">★ 4.3</div>
              </div>
              <div class="actions">
                <button class="btn small add-to-cart">Add to cart</button>
                <button class="btn small secondary">View</button>
              </div>
            </div>
          </article>

          <article class="product" data-name="Vitamin C Serum" data-cat="beauty" tabindex="0">
            <div class="thumb" aria-hidden="true">
              <img alt="Vitamin C Serum" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='480' height='480'><rect rx='16' width='100%' height='100%' fill='%23fff7ed'/><g fill='%23f59e0b'><circle cx='240' cy='160' r='64'/></g></svg>">
            </div>
            <div class="meta">
              <h3>Vitamin C Serum</h3>
              <p class="muted">Brightening formula with hyaluronic acid.</p>
              <div class="price-row">
                <div class="price">$24</div>
                <div class="old">$39</div>
                <div class="rating" aria-label="4.8 out of 5 stars">★ 4.8</div>
              </div>
              <div class="actions">
                <button class="btn small add-to-cart">Add to cart</button>
                <button class="btn small secondary">View</button>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section class="section" aria-labelledby="deals-title">
        <h2 id="deals-title">
          Hot deals
          <small class="muted">Limited time offers</small>
        </h2>

        <div class="grid deals grid" id="dealsGrid" aria-live="polite">
          <div class="deal" data-ends-in="36">
            <div class="badge">35% OFF</div>
            <div class="d-info">
              <h4>Smartwatch Series 5</h4>
              <div class="countdown"><span class="time">--:--:--</span> left</div>
              <div style="margin-top:8px"><button class="btn small">Shop now</button></div>
            </div>
          </div>

          <div class="deal" data-ends-in="12">
            <div class="badge">25% OFF</div>
            <div class="d-info">
              <h4>Portable Projector</h4>
              <div class="countdown"><span class="time">--:--:--</span> left</div>
              <div style="margin-top:8px"><button class="btn small">Shop now</button></div>
            </div>
          </div>

          <div class="deal" data-ends-in="72">
            <div class="badge">50% OFF</div>
            <div class="d-info">
              <h4>Outdoor Camping Kit</h4>
              <div class="countdown"><span class="time">--:--:--</span> left</div>
              <div style="margin-top:8px"><button class="btn small">Shop now</button></div>
            </div>
          </div>
        </div>
      </section>

      <section class="section" aria-labelledby="blog-title">
        <h2 id="blog-title">
          From our blog
          <small class="muted">Tips, guides & reviews</small>
        </h2>

        <div class="grid posts grid" id="postsGrid">
          <article class="post">
            <div class="img" aria-hidden="true">
              <img alt="How to choose headphones" style="width:100%;height:100%;object-fit:cover" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='360'><rect rx='12' width='100%' height='100%' fill='%23eef2ff'/><g fill='%233b82f6'><rect x='40' y='40' width='120' height='120' rx='12'/></g></svg>">
            </div>
            <h4>How to choose the perfect headphones</h4>
            <p class="muted">A simple guide to matching fit, sound signature, and noise cancellation for your lifestyle.</p>
            <div style="margin-top:8px"><a href="#" class="muted">Read more →</a></div>
          </article>

          <article class="post">
            <div class="img" aria-hidden="true">
              <img alt="Home coffee setup" style="width:100%;height:100%;object-fit:cover" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='360'><rect rx='12' width='100%' height='100%' fill='%23fff7ed'/><g fill='%23f97316'><circle cx='120' cy='120' r='50'/></g></svg>">
            </div>
            <h4>Make coffee like a barista at home</h4>
            <p class="muted">The best affordable machines and techniques to extract a great cup every morning.</p>
            <div style="margin-top:8px"><a href="#" class="muted">Read more →</a></div>
          </article>

          <article class="post">
            <div class="img" aria-hidden="true">
              <img alt="Trail running tips" style="width:100%;height:100%;object-fit:cover" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='360'><rect rx='12' width='100%' height='100%' fill='%23eefde7'/><g fill='%231b9e5f'><path d='M40 40h160v160H40z'/></g></svg>">
            </div>
            <h4>Trail running: gear and training</h4>
            <p class="muted">From shoes to hydration, what matters when hitting variable terrain.</p>
            <div style="margin-top:8px"><a href="#" class="muted">Read more →</a></div>
          </article>
        </div>
      </section>

    </main>

    <footer class="site-footer" role="contentinfo">
      <div>
        <strong>ShopSphere</strong>
        <div class="muted" style="font-size:13px">© <span id="year"></span> All rights reserved.</div>
      </div>

      <div class="newsletter" aria-label="Newsletter signup">
        <label for="subscribe" class="sr-only">Email</label>
        <input id="subscribe" placeholder="Your email address" type="email" aria-label="Your email address" />
        <button class="btn" id="subscribeBtn">Subscribe</button>
      </div>

      <div class="links" aria-hidden="false">
        <a href="#" class="muted">Customer Care</a>
        <a href="#" class="muted">Shipping</a>
        <a href="#" class="muted">Privacy</a>
        <a href="#" class="muted">Terms</a>
      </div>
    </footer>

  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">Added to cart</div>

  <script>
    (function(){
      // small helpers
      function $(sel,root=document){return root.querySelector(sel)}
      function $all(sel,root=document){return Array.from(root.querySelectorAll(sel))}

      // set year
      document.getElementById('year').textContent = new Date().getFullYear();

      // Cart state
      let cartCount = 0;
      const cartCountEl = document.getElementById('cartCount');
      const toast = document.getElementById('toast');
      function showToast(msg){
        toast.textContent = msg;
        toast.style.display = 'block';
        clearTimeout(showToast._t);
        showToast._t = setTimeout(()=>{ toast.style.display = 'none'; }, 1600);
      }

      // add to cart buttons
      $all('.add-to-cart').forEach(btn=>{
        btn.addEventListener('click', function(e){
          cartCount++;
          cartCountEl.textContent = cartCount;
          showToast('Added to cart');
        });
      });

      // search filter
      const searchInput = document.getElementById('searchInput');
      const productEls = $all('#productsGrid .product');
      function filterProducts(q){
        q = (q||'').trim().toLowerCase();
        productEls.forEach(p=>{
          const name = p.dataset.name.toLowerCase();
          const cat = (p.dataset.cat||'').toLowerCase();
          const match = !q || name.includes(q) || cat.includes(q);
          p.style.display = match ? '' : 'none';
        });
      }
      searchInput.addEventListener('input',()=>filterProducts(searchInput.value));
      // initial
      filterProducts('');

      // category chips
      $all('.categories .chip').forEach(chip=>{
        chip.addEventListener('click', ()=>{
          $all('.categories .chip').forEach(c=>c.classList.remove('active'));
          chip.classList.add('active');
          const cat = chip.dataset.cat;
          if(cat === 'all') productEls.forEach(p=>p.style.display='');
          else productEls.forEach(p=>{
            p.style.display = (p.dataset.cat===cat) ? '' : 'none';
          });
        });
      });

      // deals countdown
      function pad(n){return String(n).padStart(2,'0')}
      function updateDealCountdowns(){
        const deals = $all('#dealsGrid .deal');
        deals.forEach(d=>{
          const hours = Number(d.dataset.endsIn || d.dataset.endsIn) || Number(d.dataset.endsIn);
          // each dataset stores hours until end; compute actual end time when first called
          if(!d._end){
            const ms = (parseFloat(d.dataset.endsIn) || 0) * 3600 * 1000;
            d._end = Date.now() + ms;
          }
          const diff = Math.max(0, d._end - Date.now());
          const h = Math.floor(diff / 3600000);
          const m = Math.floor((diff % 3600000)/60000);
          const s = Math.floor((diff % 60000)/1000);
          $('.time', d).textContent = pad(h) + ':' + pad(m) + ':' + pad(s);
        });
      }
      updateDealCountdowns();
      setInterval(updateDealCountdowns, 1000);

      // subscribe
      document.getElementById('subscribeBtn').addEventListener('click', ()=>{
        const input = document.getElementById('subscribe');
        if(!input.value || !input.value.includes('@')){
          showToast('Enter a valid email');
          return;
        }
        showToast('Subscribed!');
        input.value = '';
      });

      // keyboard accessibility: pressing enter on a product focuses add-to-cart
      productEls.forEach(p=>{
        p.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter'){
            const btn = p.querySelector('.add-to-cart');
            if(btn) btn.click();
          }
        });
      });

      // small interaction: shopNow scrolls to products
      $('#shopNow').addEventListener('click', ()=>{
        document.getElementById('productsGrid').scrollIntoView({behavior:'smooth', block:'start'});
      });

      // basic favorites and cart handlers (demo)
      $('#favoritesBtn').addEventListener('click', ()=> showToast('Added to favorites'));
      $('#cartBtn').addEventListener('click', ()=> showToast('Opening cart...'));

      // a11y: ensure images have alt (they do)
      // End script
    })();
  </script>
</body>
</html>