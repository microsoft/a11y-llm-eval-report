<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopEase — Home</title>
  <meta name="description" content="ShopEase — curated deals, popular items, and helpful blog posts to make your shopping easy." />
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --muted:#69707a;
      --accent:#0563af;
      --accent-2:#ff6b35;
      --glass: rgba(255,255,255,0.6);
      --radius:12px;
      --shadow: 0 6px 18px rgba(20,30,40,0.06);
      --max-width:1200px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:linear-gradient(180deg,#f6f8fb 0%, #eef3f8 100%);
      color:#122028;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }
    .container{
      max-width:var(--max-width);
      margin:28px auto;
      padding:0 20px;
    }
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:22px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:inherit;
    }
    .logo{
      width:56px;
      height:56px;
      border-radius:12px;
      background:linear-gradient(135deg,var(--accent),#00a3ff);
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      box-shadow:var(--shadow);
      font-size:18px;
    }
    nav{
      display:flex;
      gap:18px;
      align-items:center;
      flex:1;
      margin-left:22px;
    }
    nav a{
      color:var(--muted);
      text-decoration:none;
      font-weight:600;
      padding:10px 12px;
      border-radius:8px;
    }
    nav a:hover{background:rgba(5,99,175,0.06); color:var(--accent);}
    .search{
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      padding:8px;
      border-radius:12px;
      box-shadow:var(--shadow);
      flex:0 0 380px;
      max-width:45%;
    }
    .search input{
      border:0;
      outline:0;
      font-size:14px;
      width:100%;
      background:transparent;
    }
    .header-actions{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .icon-btn{
      background:var(--card);
      border-radius:10px;
      padding:10px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      box-shadow:var(--shadow);
      cursor:pointer;
      border:0;
    }
    .cart-badge{
      position:relative;
      display:inline-block;
    }
    .cart-count{
      position:absolute;
      top:-6px;
      right:-6px;
      background:var(--accent-2);
      color:#fff;
      font-weight:700;
      font-size:12px;
      width:20px;
      height:20px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 3px 8px rgba(0,0,0,0.12);
    }

    /* Hero */
    .hero{
      background: linear-gradient(90deg, rgba(5,99,175,0.06), rgba(255,107,53,0.02));
      border-radius:14px;
      padding:26px;
      display:flex;
      gap:20px;
      align-items:center;
      box-shadow:var(--shadow);
      margin-bottom:22px;
    }
    .hero-left{flex:1; min-width:220px}
    .hero h1{
      margin:0 0 8px 0;
      font-size:28px;
      letter-spacing:-0.4px;
    }
    .hero p{margin:0 0 16px 0;color:var(--muted)}
    .cta{
      display:inline-flex;
      gap:10px;
      align-items:center;
      background:var(--accent);
      color:white;
      border-radius:10px;
      padding:10px 14px;
      border:0;
      cursor:pointer;
      font-weight:700;
      box-shadow:0 8px 24px rgba(5,99,175,0.12);
    }
    .secondary{
      background:transparent;
      color:var(--accent);
      border:1px solid rgba(5,99,175,0.12);
      padding:8px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
    }
    .hero-right{
      width:320px;
      min-width:160px;
      display:flex;
      gap:10px;
      justify-content:flex-end;
    }
    .hero-card{
      background:linear-gradient(135deg,#fff,#ffffffcc);
      padding:14px;
      border-radius:12px;
      width:150px;
      box-shadow:var(--shadow);
      display:flex;
      gap:12px;
      align-items:center;
    }
    .thumb{
      width:56px;
      height:56px;
      border-radius:12px;
      background:linear-gradient(135deg,#f9a, #6cf);
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:18px;
    }
    .hero-meta{font-size:14px; color:var(--muted)}
    .price{font-weight:800; color:#132b4a}
    .savings{color:var(--accent-2); font-weight:800}

    /* Sections */
    section.block{
      margin-bottom:28px;
      background:transparent;
    }
    .section-head{
      display:flex;
      justify-content:space-between;
      align-items:end;
      gap:12px;
      margin-bottom:14px;
    }
    .section-title{font-size:18px; font-weight:800}
    .section-sub{color:var(--muted); font-size:13px}
    .grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:16px;
    }
    @media (max-width:1000px){
      .grid{grid-template-columns:repeat(3,1fr)}
      .hero-right{display:none}
    }
    @media (max-width:720px){
      .grid{grid-template-columns:repeat(2,1fr)}
      .search{display:none}
      header{flex-wrap:wrap; gap:12px}
      .hero{flex-direction:column; align-items:flex-start}
    }
    .card{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      box-shadow:var(--shadow);
      transition:transform .16s ease, box-shadow .16s ease;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .card:hover{transform:translateY(-6px); box-shadow:0 18px 30px rgba(20,30,40,0.08)}
    .product-media{
      height:150px;
      border-radius:10px;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:20px;
      background:linear-gradient(135deg,#e0e7ff,#cfeeff);
    }
    .product-info{display:flex;flex-direction:column;gap:6px}
    .p-title{font-weight:700}
    .p-meta{color:var(--muted); font-size:13px}
    .price-row{display:flex;align-items:center;justify-content:space-between;gap:8px}
    .price-current{font-weight:900}
    .price-old{color:var(--muted); text-decoration:line-through; font-size:13px}
    .rating{
      display:inline-flex;
      gap:6px;
      align-items:center;
      color:#ffb020;
      font-weight:700;
      font-size:13px;
    }
    .btn-row{display:flex;gap:8px; margin-top:6px}
    .btn{
      flex:1;
      padding:8px 10px;
      border-radius:10px;
      border:0;
      cursor:pointer;
      font-weight:700;
    }
    .btn-add{background:linear-gradient(90deg,var(--accent),#00a3ff); color:white}
    .btn-view{background:transparent;border:1px solid rgba(5,99,175,0.08); color:var(--muted)}
    /* Deals */
    .deals{
      display:grid;
      grid-template-columns:2fr 1fr;
      gap:16px;
      align-items:stretch;
    }
    @media (max-width:900px){
      .deals{grid-template-columns:1fr; gap:12px}
    }
    .deal-main{
      background:linear-gradient(135deg,#fff,#ffffffea);
      padding:14px;
      border-radius:12px;
      box-shadow:var(--shadow);
      display:flex;
      gap:12px;
      align-items:center;
    }
    .deal-left{flex:1}
    .deal-right{
      background:linear-gradient(135deg,#fff,#fff0);
      padding:12px;
      border-radius:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      min-width:220px;
      align-items:flex-start;
      justify-content:space-between;
    }
    .countdown{
      display:flex;
      gap:8px;
      align-items:center;
      font-weight:800;
      color:#122028;
    }
    .cd-item{
      background:#122028;
      color:white;
      padding:8px 10px;
      border-radius:8px;
      min-width:58px;
      text-align:center;
      font-size:14px;
    }
    /* Blog */
    .blog-list{display:flex;flex-direction:column;gap:12px}
    .post{
      background:var(--card);
      padding:12px;
      border-radius:12px;
      box-shadow:var(--shadow);
      display:flex;
      gap:12px;
      align-items:center;
    }
    .post-thumb{
      width:120px;
      height:76px;
      border-radius:8px;
      background:linear-gradient(135deg,#f6d365,#fda085);
      color:white;
      font-weight:700;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .post-meta{flex:1; display:flex;flex-direction:column; gap:6px}
    .muted-small{color:var(--muted); font-size:13px}
    /* Footer */
    footer{
      margin-top:28px;
      padding:24px;
      border-radius:12px;
      background:linear-gradient(180deg, #ffffff, #fbfdff);
      box-shadow:var(--shadow);
    }
    .footer-grid{display:flex;gap:20px;justify-content:space-between;flex-wrap:wrap}
    .newsletter{
      display:flex;
      gap:8px;
      align-items:center;
      margin-top:8px;
    }
    .newsletter input{
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(18,32,40,0.06);
      outline:0;
      min-width:220px;
    }
    .newsletter button{padding:10px 12px;border-radius:10px;border:0;background:var(--accent);color:white;cursor:pointer}
    /* Cart drawer */
    .drawer{
      position:fixed;
      right:18px;
      top:80px;
      width:320px;
      max-height:70vh;
      background:var(--card);
      border-radius:12px;
      box-shadow:0 20px 40px rgba(20,30,40,0.12);
      overflow:auto;
      transform:translateY(-10px) scale(.98);
      opacity:0;
      pointer-events:none;
      transition:all .18s ease;
      z-index:60;
      padding:12px;
    }
    .drawer.open{transform:none;opacity:1;pointer-events:auto}
    .cart-item{display:flex;gap:10px;align-items:center;padding:8px 6px;border-bottom:1px solid rgba(0,0,0,0.04)}
    .cart-item:last-child{border-bottom:0}
    .cart-item-thumb{width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,#e0f7fa,#b2ebf2);display:flex;align-items:center;justify-content:center;font-weight:700}
    .cart-summary{padding:10px 6px; display:flex; align-items:center; justify-content:space-between; gap:10px}
    .empty{color:var(--muted); text-align:center; padding:28px 6px}
    .badge-new{background:linear-gradient(90deg,#ff6b35,#ff9b6a); color:white; padding:6px 8px; border-radius:999px; font-weight:800; font-size:12px}
    /* small helpers */
    .muted{color:var(--muted)}
  </style>
</head>
<body>
  <div class="container" id="page">
    <header>
      <a class="brand" href="#" aria-label="ShopEase Home">
        <div class="logo" aria-hidden="true">SE</div>
        <div>
          <div style="font-weight:800">ShopEase</div>
          <div style="font-size:12px;color:var(--muted)">Smart shopping made simple</div>
        </div>
      </a>

      <nav aria-label="Primary navigation">
        <a href="#">Home</a>
        <a href="#">Categories</a>
        <a href="#">Deals</a>
        <a href="#">Blog</a>
        <a href="#">Support</a>
      </nav>

      <div class="search" role="search" aria-label="Product search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 21l-4.35-4.35" stroke="#9aa9b6" stroke-width="2" stroke-linecap="round"/>
          <circle cx="11" cy="11" r="6" stroke="#9aa9b6" stroke-width="2"/>
        </svg>
        <input id="searchInput" placeholder="Search products, categories..." aria-label="Search products" />
      </div>

      <div class="header-actions" role="region" aria-label="Account and cart">
        <button class="icon-btn" title="Account" aria-label="Account">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM4 20a8 8 0 0 1 16 0" stroke="#2b3b43" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>

        <div class="cart-badge">
          <button id="cartBtn" class="icon-btn" aria-haspopup="dialog" aria-controls="cartDrawer" aria-expanded="false" title="Shopping cart">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 6h15l-1.5 9h-12z" stroke="#2b3b43" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="10" cy="20" r="1" fill="#2b3b43"/><circle cx="18" cy="20" r="1" fill="#2b3b43"/></svg>
          </button>
          <div class="cart-count" id="cartCount" aria-live="polite">0</div>
        </div>
      </div>
    </header>

    <main>
      <section class="hero" aria-labelledby="hero-heading">
        <div class="hero-left">
          <div style="display:flex;gap:8px;align-items:center;margin-bottom:10px">
            <div class="badge-new" aria-hidden="true">Big Sale</div>
            <div class="muted-small">Up to 60% off selected items</div>
          </div>
          <h1 id="hero-heading">Discover deals and popular picks — handpicked for you</h1>
          <p>Explore today's top sellers, limited-time deals, and read helpful guides from our shopping experts.</p>
          <div style="display:flex;gap:10px">
            <button class="cta" id="shopNowBtn">Shop Now</button>
            <button class="secondary">Browse Categories</button>
          </div>
        </div>

        <div class="hero-right" aria-hidden="true">
          <div class="hero-card">
            <div class="thumb">S</div>
            <div>
              <div class="hero-meta">Top Seller</div>
              <div class="price">$129 <span class="muted-small" style="font-weight:700">Smart Speaker</span></div>
            </div>
          </div>

          <div class="hero-card">
            <div class="thumb" style="background:linear-gradient(135deg,#ff9b6a,#ff6b35)">D</div>
            <div>
              <div class="hero-meta">Deal</div>
              <div class="price savings">Save 35%</div>
            </div>
          </div>
        </div>
      </section>

      <section class="block" aria-labelledby="popular-heading">
        <div class="section-head">
          <div>
            <div id="popular-heading" class="section-title">Popular items</div>
            <div class="section-sub">Top rated and trending now</div>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <div class="muted-small">Sort by:</div>
            <select id="sortSelect" aria-label="Sort products">
              <option value="popular">Most popular</option>
              <option value="rating">Top rated</option>
              <option value="low">Price: Low to High</option>
              <option value="high">Price: High to Low</option>
            </select>
          </div>
        </div>

        <div class="grid" id="productsGrid" aria-live="polite">
          <!-- Products injected by JS -->
        </div>
      </section>

      <section class="block" aria-labelledby="deals-heading">
        <div class="section-head">
          <div>
            <div id="deals-heading" class="section-title">Limited-time deals</div>
            <div class="section-sub">Hot offers ending soon — hurry!</div>
          </div>
          <div>
            <div class="muted-small">Ends in</div>
          </div>
        </div>

        <div class="deals" id="dealsArea">
          <!-- Deals injected by JS -->
        </div>
      </section>

      <section class="block" aria-labelledby="blog-heading">
        <div class="section-head">
          <div>
            <div id="blog-heading" class="section-title">From our blog</div>
            <div class="section-sub">Guides and inspiration</div>
          </div>
          <div><a href="#" class="muted-small">View all posts →</a></div>
        </div>

        <div class="blog-list" id="blogList">
          <!-- Posts injected by JS -->
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-grid">
        <div style="max-width:520px">
          <div style="font-weight:800">ShopEase</div>
          <div class="muted-small" style="margin-top:6px">A curated marketplace with smart recommendations and great prices. Free returns — always.</div>
          <div class="newsletter">
            <input id="newsEmail" placeholder="Enter your email" aria-label="Newsletter email"/>
            <button id="subscribeBtn">Subscribe</button>
          </div>
        </div>

        <div style="display:flex;gap:24px;flex-wrap:wrap">
          <div>
            <div style="font-weight:800;margin-bottom:8px">Company</div>
            <div class="muted-small">About</div>
            <div class="muted-small">Careers</div>
            <div class="muted-small">Press</div>
          </div>
          <div>
            <div style="font-weight:800;margin-bottom:8px">Support</div>
            <div class="muted-small">Help Center</div>
            <div class="muted-small">Returns</div>
            <div class="muted-small">Contact Us</div>
          </div>
        </div>
      </div>

      <div style="margin-top:18px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
        <div class="muted-small">© 2026 ShopEase. All rights reserved.</div>
        <div style="display:flex;gap:12px" aria-hidden="true">
          <div class="muted-small">Terms</div>
          <div class="muted-small">Privacy</div>
        </div>
      </div>
    </footer>
  </div>

  <!-- Cart Drawer -->
  <aside id="cartDrawer" class="drawer" role="dialog" aria-label="Shopping cart" aria-hidden="true">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <div style="font-weight:800">Your cart</div>
      <button id="closeCart" class="icon-btn" aria-label="Close cart">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none"><path d="M6 18L18 6M6 6l12 12" stroke="#122028" stroke-width="1.6" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div id="cartItems"></div>
    <div id="cartEmpty" class="empty">Your cart is empty</div>
    <div class="cart-summary" id="cartSummary" style="display:none">
      <div>
        <div class="muted-small">Subtotal</div>
        <div style="font-weight:900" id="cartTotal">$0.00</div>
      </div>
      <div style="display:flex;flex-direction:column;gap:8px">
        <button class="cta" id="checkoutBtn">Checkout</button>
        <button class="secondary" id="viewCartBtn">View cart</button>
      </div>
    </div>
  </aside>

  <script>
    // Sample product data
    const products = [
      {id:1,name:"Wireless Noise-Canceling Headphones",price:199.00,old:249.00,rating:4.8,tag:"Electronics"},
      {id:2,name:"Compact Smart Projector",price:329.00,old:399.00,rating:4.6,tag:"Home"},
      {id:3,name:"Eco Water Bottle 1L",price:24.00,old:null,rating:4.9,tag:"Outdoors"},
      {id:4,name:"Ergonomic Office Chair",price:189.00,old:239.00,rating:4.5,tag:"Furniture"},
      {id:5,name:"Smart Fitness Watch",price:149.00,old:199.00,rating:4.7,tag:"Wearables"},
      {id:6,name:"Stainless Cookware Set 10pc",price:259.00,old:329.00,rating:4.4,tag:"Kitchen"},
      {id:7,name:"Noise Isolating Earbuds",price:59.00,old:89.00,rating:4.3,tag:"Electronics"},
      {id:8,name:"Minimal Desk Lamp",price:39.00,old:null,rating:4.6,tag:"Home"}
    ];

    const deals = [
      {id:'d1',title:"Holiday Bundle — Speaker + Stand",desc:"Limited quantity. Save 40%",price:129,old:219,endsInHours:20},
      {id:'d2',title:"Kitchen Essentials Set",desc:"Best value for cooking lovers",price:199,old:289,endsInHours:8},
      {id:'d3',title:"Outdoor Adventure Kit",desc:"Free shipping + bonus",price:89,old:129,endsInHours:72}
    ];

    const posts = [
      {id:'p1',title:"5 Ways to Choose the Perfect Headphones",date:"Feb 2, 2026",excerpt:"Everything you need to know about noise cancellation, fit, and battery life.",tag:"Audio"},
      {id:'p2',title:"How to Create a Pleasant Home Office",date:"Jan 28, 2026",excerpt:"Practical tips to upgrade your workspace without breaking the bank.",tag:"Home"},
      {id:'p3',title:"Packing Essentials for a Weekend Hike",date:"Jan 14, 2026",excerpt:"A concise checklist and gear recommendations for lightweight trips.",tag:"Outdoors"}
    ];

    // Render products
    const productsGrid = document.getElementById('productsGrid');

    function makeThumbGradient(name, i){
      const colors = [
        ['#7ad6ff','#5a9fff'],
        ['#ffd4a3','#ff9b6a'],
        ['#d7ffd6','#8ae29e'],
        ['#dfe7ff','#b6c9ff'],
        ['#ffd6f0','#ff9bd8'],
        ['#e6ffe8','#b3ffcc'],
        ['#fff2d6','#ffd086'],
        ['#f0f9ff','#bfe9ff']
      ];
      const c = colors[i % colors.length];
      return `linear-gradient(135deg, ${c[0]}, ${c[1]})`;
    }

    function renderProducts(list){
      productsGrid.innerHTML = '';
      list.forEach((p, idx) => {
        const card = document.createElement('article');
        card.className = 'card';
        card.setAttribute('data-name', p.name.toLowerCase());
        card.innerHTML = `
          <div class="product-media" style="background:${makeThumbGradient(p.name, idx)}" aria-hidden="true">${p.name.split(' ').slice(0,2).map(w=>w[0]).join('')}</div>
          <div class="product-info">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <div class="p-title">${p.name}</div>
                <div class="p-meta">${p.tag}</div>
              </div>
              <div style="text-align:right">
                <div class="rating">★ ${p.rating}</div>
              </div>
            </div>
            <div class="price-row">
              <div>
                <div class="price-current">$${p.price.toFixed(2)}</div>
                ${p.old ? `<div class="price-old">$${p.old.toFixed(2)}</div>` : ''}
              </div>
              <div style="min-width:110px">
                <div style="display:flex;gap:8px">
                  <button class="btn btn-add" data-add="${p.id}">Add</button>
                  <button class="btn btn-view" data-view="${p.id}">View</button>
                </div>
              </div>
            </div>
          </div>
        `;
        productsGrid.appendChild(card);
      });
    }

    renderProducts(products.slice(0,8));

    // Search and sort
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', ()=> filterProducts());

    const sortSelect = document.getElementById('sortSelect');
    sortSelect.addEventListener('change', ()=> filterProducts());

    function filterProducts(){
      const q = (searchInput.value || '').toLowerCase().trim();
      let filtered = products.filter(p => p.name.toLowerCase().includes(q) || p.tag.toLowerCase().includes(q));
      const sort = sortSelect.value;
      if(sort === 'rating') filtered = filtered.sort((a,b)=>b.rating-a.rating);
      if(sort === 'low') filtered = filtered.sort((a,b)=>a.price-b.price);
      if(sort === 'high') filtered = filtered.sort((a,b)=>b.price-a.price);
      if(sort === 'popular') filtered = filtered.sort((a,b)=>b.rating - a.rating); // simple default
      renderProducts(filtered);
      attachAddHandlers();
    }

    // Deals
    const dealsArea = document.getElementById('dealsArea');
    function renderDeals(){
      dealsArea.innerHTML = '';
      const main = document.createElement('div');
      main.className = 'deal-main';
      main.innerHTML = `
        <div class="deal-left">
          <div style="display:flex;justify-content:space-between;align-items:start">
            <div>
              <div style="font-weight:900;font-size:18px">Flash Sale — Today's top picks</div>
              <div class="muted-small" style="margin-top:6px">Grab them before they're gone</div>
            </div>
            <div class="countdown" aria-hidden="true" id="mainCountdown"></div>
          </div>
          <div style="display:flex;gap:10px;margin-top:12px" id="dealCards"></div>
        </div>
      `;
      const aside = document.createElement('div');
      aside.className = 'deal-right';
      aside.innerHTML = `
        <div style="font-weight:800">Deal highlights</div>
        <div class="muted-small">Free returns • 30-day guarantee • Fast shipping</div>
      `;
      dealsArea.appendChild(main);
      dealsArea.appendChild(aside);

      // populate dealCards inside main
      const dealCards = document.createElement('div');
      dealCards.style.display = 'flex';
      dealCards.style.flexDirection = 'column';
      dealCards.style.gap = '10px';
      dealCards.style.marginTop = '14px';
      deals.slice(0,3).forEach((d, idx) => {
        const el = document.createElement('div');
        el.style.display = 'flex';
        el.style.justifyContent = 'space-between';
        el.style.alignItems = 'center';
        el.style.gap = '12px';
        el.innerHTML = `
          <div style="display:flex;gap:12px;align-items:center">
            <div style="width:64px;height:64px;border-radius:10px;background:linear-gradient(135deg,#f3f8ff,#dfefff);display:flex;align-items:center;justify-content:center;font-weight:800">${d.title.split(' ').slice(0,2).map(x=>x[0]).join('')}</div>
            <div>
              <div style="font-weight:800">${d.title}</div>
              <div class="muted-small">${d.desc}</div>
            </div>
          </div>
          <div style="text-align:right">
            <div style="font-weight:900">$${d.price.toFixed(2)}</div>
            <div class="muted-small" style="text-decoration:line-through">$${d.old.toFixed(2)}</div>
            <div style="margin-top:6px"><button class="btn btn-add" data-add-deal="${d.id}">Get Deal</button></div>
          </div>
        `;
        dealCards.appendChild(el);
      });
      main.querySelector('#dealCards').appendChild(dealCards);

      // init countdown for each deal with unique end time
      const mainCd = document.getElementById('mainCountdown');
      initializeCountdowns(deals);
    }

    function initializeCountdowns(items){
      // Each item has endsInHours. We'll create expiration timestamps.
      const now = Date.now();
      items.forEach((d, i) => {
        d.expiresAt = now + d.endsInHours * 3600 * 1000;
      });

      // Update a combined main countdown showing soonest ending deal
      function update(){
        const soonest = items.reduce((a,b)=> a.expiresAt < b.expiresAt ? a : b);
        const remain = Math.max(0, soonest.expiresAt - Date.now());
        const s = Math.floor(remain/1000);
        const days = Math.floor(s/(3600*24));
        const hours = Math.floor((s%(3600*24))/3600);
        const mins = Math.floor((s%3600)/60);
        const secs = s%60;
        const mainCd = document.getElementById('mainCountdown');
        if(mainCd){
          mainCd.innerHTML = `
            <div class="cd-item"><div>${String(days).padStart(2,'0')}</div><div style="font-size:11px;color:#cfe8ff">D</div></div>
            <div class="cd-item"><div>${String(hours).padStart(2,'0')}</div><div style="font-size:11px;color:#cfe8ff">H</div></div>
            <div class="cd-item"><div>${String(mins).padStart(2,'0')}</div><div style="font-size:11px;color:#cfe8ff">M</div></div>
            <div class="cd-item"><div>${String(secs).padStart(2,'0')}</div><div style="font-size:11px;color:#cfe8ff">S</div></div>
          `;
        }
      }
      update();
      setInterval(update, 1000);
    }

    // Blog posts
    const blogList = document.getElementById('blogList');
    function renderBlog(){
      blogList.innerHTML = '';
      posts.forEach(p=>{
        const el = document.createElement('article');
        el.className = 'post';
        el.innerHTML = `
          <div class="post-thumb">${p.tag[0]}</div>
          <div class="post-meta">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800">${p.title}</div>
              <div class="muted-small">${p.date}</div>
            </div>
            <div class="muted-small">${p.excerpt}</div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:6px">
              <div class="muted-small">${p.tag}</div>
              <a href="#" style="font-weight:800;color:var(--accent)">Read →</a>
            </div>
          </div>
        `;
        blogList.appendChild(el);
      });
    }

    // Cart behavior
    let cart = [];
    const cartBtn = document.getElementById('cartBtn');
    const cartDrawer = document.getElementById('cartDrawer');
    const cartCount = document.getElementById('cartCount');
    const cartItemsEl = document.getElementById('cartItems');
    const cartEmpty = document.getElementById('cartEmpty');
    const cartSummary = document.getElementById('cartSummary');
    const cartTotalEl = document.getElementById('cartTotal');
    const closeCart = document.getElementById('closeCart');

    function openCart(){
      cartDrawer.classList.add('open');
      cartDrawer.setAttribute('aria-hidden','false');
      cartBtn.setAttribute('aria-expanded','true');
    }
    function closeCartDrawer(){
      cartDrawer.classList.remove('open');
      cartDrawer.setAttribute('aria-hidden','true');
      cartBtn.setAttribute('aria-expanded','false');
    }

    cartBtn.addEventListener('click', ()=> {
      if(cartDrawer.classList.contains('open')) closeCartDrawer(); else openCart();
    });
    closeCart.addEventListener('click', closeCartDrawer);

    function addToCart(product){
      const existing = cart.find(c=>c.id===product.id);
      if(existing){
        existing.qty += 1;
      } else {
        cart.push({id:product.id,name:product.name,price:product.price,qty:1});
      }
      updateCartUI();
      openCart();
    }

    function updateCartUI(){
      cartCount.textContent = cart.reduce((s,i)=>s+i.qty,0);
      if(cart.length === 0){
        cartItemsEl.innerHTML = '';
        cartEmpty.style.display = 'block';
        cartSummary.style.display = 'none';
        cartTotalEl.textContent = '$0.00';
      } else {
        cartEmpty.style.display = 'none';
        cartSummary.style.display = 'flex';
        cartItemsEl.innerHTML = '';
        cart.forEach(item=>{
          const el = document.createElement('div');
          el.className = 'cart-item';
          el.innerHTML = `
            <div class="cart-item-thumb">${item.name.split(' ')[0][0]}</div>
            <div style="flex:1">
              <div style="font-weight:800">${item.name}</div>
              <div class="muted-small">Qty: ${item.qty}</div>
            </div>
            <div style="text-align:right"><div style="font-weight:900">$${(item.price*item.qty).toFixed(2)}</div><button class="icon-btn" data-remove="${item.id}" style="margin-top:8px"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M6 6l12 12M6 18L18 6" stroke="#122028" stroke-width="1.2" stroke-linecap="round"/></svg></button></div>
          `;
          cartItemsEl.appendChild(el);
        });
        const total = cart.reduce((s,i)=>s+i.price*i.qty,0);
        cartTotalEl.textContent = `$${total.toFixed(2)}`;

        // remove handlers
        cartItemsEl.querySelectorAll('[data-remove]').forEach(btn=>{
          btn.addEventListener('click', (e)=>{
            const id = Number(btn.getAttribute('data-remove'));
            cart = cart.filter(c=>c.id!==id);
            updateCartUI();
          });
        });
      }
    }

    // Attach add-to-cart buttons
    function attachAddHandlers(){
      document.querySelectorAll('[data-add]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const id = Number(btn.getAttribute('data-add'));
          const p = products.find(x=>x.id===id);
          if(p) addToCart(p);
        });
      });

      document.querySelectorAll('[data-add-deal]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const id = btn.getAttribute('data-add-deal');
          const d = deals.find(x=>x.id===id);
          if(d){
            addToCart({id:1000 + Math.random()*1000, name: d.title, price: d.price});
          }
        });
      });

      document.querySelectorAll('[data-view]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const id = Number(btn.getAttribute('data-view'));
          const p = products.find(x=>x.id===id);
          if(p) alert(p.name + "\\n\\nPrice: $" + p.price.toFixed(2));
        });
      });
    }

    // Subscribe button
    document.getElementById('subscribeBtn').addEventListener('click', ()=>{
      const email = document.getElementById('newsEmail').value.trim();
      if(!email || !email.includes('@')) {
        alert('Please enter a valid email.');
        return;
      }
      document.getElementById('newsEmail').value = '';
      alert('Thanks! You have been subscribed.');
    });

    // Shop Now button scrolls to products
    document.getElementById('shopNowBtn').addEventListener('click', ()=>{
      document.getElementById('productsGrid').scrollIntoView({behavior:'smooth', block:'start'});
    });

    // initial renders
    renderDeals();
    renderBlog();
    attachAddHandlers();
    updateCartUI();

    // Accessibility: close drawer on Escape
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') closeCartDrawer();
    });

    // Simple demo: keyboard focus highlight for product add buttons
    document.addEventListener('click', (e)=>{
      if(e.target.matches('.btn-add')) {
        e.target.animate([{transform:'scale(1)'},{transform:'scale(.98)'},{transform:'scale(1)'}], {duration:180, easing:'ease'});
      }
    });
  </script>
</body>
</html>