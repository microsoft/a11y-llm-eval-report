<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MarketPlace â€” Home</title>
  <meta name="description" content="Discover popular items, limited-time deals, and stories from our shopping community." />
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --accent:#0b79d0;
      --accent-2:#ff6b35;
      --muted:#6b7280;
      --glass: rgba(255,255,255,0.6);
      --radius:12px;
      --shadow: 0 6px 20px rgba(16,24,40,0.08);
      --max-width:1200px;
      --gap:18px;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:#0f1724;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: linear-gradient(180deg,#f8fafc 0%, var(--bg) 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center;
      padding:28px 18px;
      align-items:flex-start;
    }
    .container{
      width:100%;
      max-width:var(--max-width);
    }

    header.site-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:22px;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo{
      width:56px;
      height:56px;
      border-radius:12px;
      background:linear-gradient(135deg,var(--accent),#3ab0ff);
      color:white;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:20px;
      box-shadow: var(--shadow);
    }
    .site-title{
      line-height:1;
    }
    .site-title h1{margin:0;font-size:18px}
    .site-title p{margin:0;font-size:12px;color:var(--muted)}

    .actions{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .search{
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--card);
      padding:8px 12px;
      border-radius:10px;
      box-shadow:var(--shadow);
    }
    .search input{
      border:0;
      outline:0;
      width:240px;
      background:transparent;
      font-size:14px;
    }
    .nav{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .btn{
      border:0;
      padding:8px 12px;
      border-radius:10px;
      background:var(--card);
      box-shadow:var(--shadow);
      cursor:pointer;
      font-weight:600;
      color:var(--accent);
    }
    .cart{
      position:relative;
      background:linear-gradient(90deg,var(--accent),#4bd3ff);
      color:white;
      padding:8px 12px;
      border-radius:10px;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .cart .count{
      background:rgba(255,255,255,0.18);
      padding:4px 8px;
      border-radius:999px;
      font-weight:700;
      font-size:13px;
    }

    main{
      display:grid;
      grid-template-columns: 1fr 340px;
      gap:var(--gap);
      align-items:start;
    }
    @media (max-width:980px){
      main{grid-template-columns:1fr}
      .right-column{order:2}
    }

    .hero{
      background:linear-gradient(90deg, rgba(11,121,208,0.08), rgba(255,107,53,0.04));
      border-radius:var(--radius);
      padding:20px;
      display:flex;
      gap:18px;
      align-items:center;
      box-shadow: var(--shadow);
    }
    .hero .left{
      flex:1;
    }
    .hero h2{margin:0 0 6px 0;font-size:20px}
    .hero p{margin:0;color:var(--muted);font-size:14px}
    .hero .cta{
      margin-top:12px;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .primary{
      background:var(--accent);
      color:white;
      border-radius:10px;
      padding:10px 14px;
      border:0;
      cursor:pointer;
      font-weight:700;
      box-shadow: 0 8px 22px rgba(11,121,208,0.16);
    }
    .secondary{
      background:transparent;
      border:1px solid rgba(15,23,36,0.06);
      color:var(--accent);
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
    }
    .hero .art{
      width:160px;
      height:120px;
      background:linear-gradient(135deg,#ffefd5,#e2f5ff);
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--accent-2);
      font-weight:800;
      font-size:40px;
      box-shadow: var(--shadow);
    }

    .section{
      margin-top:18px;
      background:var(--card);
      padding:16px;
      border-radius:12px;
      box-shadow:var(--shadow);
    }
    .section-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      margin-bottom:12px;
    }
    .section-header h3{margin:0;font-size:16px}
    .section-header p{margin:0;color:var(--muted);font-size:13px}

    /* Popular items grid */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width:980px){ .grid{grid-template-columns: repeat(2,1fr)} }
    @media (max-width:560px){ .grid{grid-template-columns: 1fr} }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.9), var(--card));
      padding:12px;
      border-radius:12px;
      display:flex;
      gap:12px;
      align-items:center;
      transition:transform .18s ease, box-shadow .18s ease;
    }
    .card:hover{transform:translateY(-6px); box-shadow:0 18px 40px rgba(16,24,40,0.08)}
    .thumb{
      width:84px;
      height:84px;
      flex:0 0 84px;
      border-radius:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:18px;
    }
    .info{
      flex:1;
    }
    .info h4{margin:0 0 6px 0;font-size:15px}
    .info p{margin:0;color:var(--muted);font-size:13px}
    .meta{
      margin-top:8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    .price{
      font-weight:800;
      color:var(--accent);
    }
    .add-btn{
      background:linear-gradient(90deg,var(--accent-2),#ff8f5e);
      color:white;
      border:0;
      padding:8px 10px;
      border-radius:8px;
      cursor:pointer;
      font-weight:700;
    }

    /* Deals column */
    .right-column{
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .deal-list{display:grid;gap:12px}
    .deal{
      border-radius:12px;
      overflow:hidden;
      display:flex;
      gap:10px;
      align-items:center;
      padding:12px;
      background:linear-gradient(180deg,#fffefc,#fff);
      border:1px solid rgba(11,121,208,0.06);
    }
    .deal .badge{
      font-size:12px;
      font-weight:800;
      color:white;
      background:var(--accent-2);
      padding:6px 8px;
      border-radius:8px;
    }
    .deal .countdown{
      margin-left:auto;
      text-align:right;
      font-size:12px;
      color:var(--muted);
    }

    /* Blog posts */
    .posts{display:grid;gap:12px}
    .post{
      display:flex;
      gap:12px;
      align-items:center;
      padding:10px;
      border-radius:10px;
      background:linear-gradient(180deg,#fff,#fbfbff);
    }
    .post .thumb-small{
      width:84px;height:64px;border-radius:8px;background:linear-gradient(135deg,#f4f6ff,#fff2f0);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent-2)
    }
    .post h5{margin:0;font-size:14px}
    .post p{margin:0;color:var(--muted);font-size:13px}

    footer{
      margin-top:22px;
      display:flex;
      gap:12px;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:13px;
    }

    /* small utilities */
    .tag{font-size:12px;padding:4px 8px;border-radius:999px;background:rgba(11,121,208,0.06);color:var(--accent);font-weight:700}
    .rating{color:#f6b334;font-weight:700;font-size:13px}
    .muted{color:var(--muted);font-size:13px}
    .hidden{display:none}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <div class="container" role="application">
    <header class="site-header" aria-label="Main header">
      <div class="brand">
        <div class="logo" aria-hidden="true">MP</div>
        <div class="site-title">
          <h1>MarketPlace</h1>
          <p>Your curated shopping hub</p>
        </div>
      </div>

      <div class="actions" role="search">
        <div class="search" aria-label="Search items">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 21l-4.35-4.35" stroke="#9AA3B2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="11" cy="11" r="6" stroke="#9AA3B2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <input id="searchInput" type="search" placeholder="Search popular items" aria-label="Search popular items" />
        </div>

        <nav class="nav" aria-label="Top navigation">
          <button class="btn" type="button">Categories</button>
          <button class="btn" type="button">Brands</button>
          <button class="btn" type="button">Support</button>
        </nav>

        <button class="cart" id="cartBtn" aria-label="Open cart" title="Open cart">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6h15l-1.5 9h-13L4 2H2" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="10" cy="20" r="1.6" fill="white"/>
            <circle cx="18" cy="20" r="1.6" fill="white"/>
          </svg>
          <span class="count" id="cartCount" aria-live="polite">0</span>
        </button>
      </div>
    </header>

    <main>
      <section aria-labelledby="hero-heading">
        <div class="hero" role="region" aria-label="Featured">
          <div class="left">
            <h2 id="hero-heading">Spring Refresh: New arrivals & curated picks</h2>
            <p>Hand-selected styles and gadgets that shoppers love. Fast shipping & easy returns.</p>
            <div class="cta">
              <button class="primary" id="shopNow">Shop Now</button>
              <button class="secondary" id="learnMore">Learn More</button>
            </div>
          </div>
          <div class="art" aria-hidden="true">âœ¨</div>
        </div>

        <div class="section" aria-labelledby="popular-heading">
          <div class="section-header">
            <div>
              <h3 id="popular-heading">Popular Right Now</h3>
              <p>Top-rated products trending among buyers</p>
            </div>
            <div class="muted" id="resultsInfo">Showing 8 items</div>
          </div>

          <div class="grid" id="popularGrid" role="list">
            <!-- Card 1 -->
            <article class="card" data-title="Noise-Cancelling Headphones" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#3b82f6,#60a5fa);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><path d="M4 13v3a2 2 0 0 0 2 2h1" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 13v3a2 2 0 0 1-2 2h-1" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 9a10 10 0 0 1 20 0" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </div>
              <div class="info">
                <h4>Noise-Cancelling Headphones</h4>
                <p class="muted">Immersive sound, 30h battery</p>
                <div class="meta">
                  <div>
                    <span class="price">$129</span>
                    <span class="rating" aria-hidden="true">â˜… 4.7</span>
                  </div>
                  <button class="add-btn" data-sku="headphones" aria-label="Add Noise-Cancelling Headphones to cart">Add</button>
                </div>
              </div>
            </article>

            <!-- Card 2 -->
            <article class="card" data-title="Stainless Steel Water Bottle" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#10b981,#34d399);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><path d="M12 3v2" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 7h8" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 7v11a3 3 0 0 0 6 0V7" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </div>
              <div class="info">
                <h4>Stainless Steel Bottle</h4>
                <p class="muted">Keeps drinks cold for 24h</p>
                <div class="meta">
                  <div>
                    <span class="price">$24</span>
                    <span class="rating">â˜… 4.8</span>
                  </div>
                  <button class="add-btn" data-sku="bottle" aria-label="Add Stainless Steel Bottle to cart">Add</button>
                </div>
              </div>
            </article>

            <!-- Card 3 -->
            <article class="card" data-title="Smartwatch Series 5" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#f97316,#fb923c);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><rect x="6" y="4" width="12" height="16" rx="3" stroke="white" stroke-width="1.6"/><circle cx="12" cy="11" r="2" fill="white" /></svg>
              </div>
              <div class="info">
                <h4>Smartwatch Series 5</h4>
                <p class="muted">Health tracking & notifications</p>
                <div class="meta">
                  <div>
                    <span class="price">$199</span>
                    <span class="rating">â˜… 4.6</span>
                  </div>
                  <button class="add-btn" data-sku="watch" aria-label="Add Smartwatch Series 5 to cart">Add</button>
                </div>
              </div>
            </article>

            <!-- Card 4 -->
            <article class="card" data-title="Comfort Running Shoes" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#8b5cf6,#a78bfa);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><path d="M3 13c2-2 5-3 8-3s6 1 9 3v3H3v-3z" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 9C7 6.8 8.8 5 11 5" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </div>
              <div class="info">
                <h4>Comfort Running Shoes</h4>
                <p class="muted">Lightweight & breathable</p>
                <div class="meta">
                  <div>
                    <span class="price">$89</span>
                    <span class="rating">â˜… 4.5</span>
                  </div>
                  <button class="add-btn" data-sku="shoes" aria-label="Add Comfort Running Shoes to cart">Add</button>
                </div>
              </div>
            </article>

            <!-- Card 5 -->
            <article class="card" data-title="Compact Espresso Maker" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#f43f5e,#fb7185);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><path d="M4 3h12v12H4z" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 17h8" stroke="white" stroke-width="1.6" stroke-linecap="round" /></svg>
              </div>
              <div class="info">
                <h4>Compact Espresso Maker</h4>
                <p class="muted">Barista-quality at home</p>
                <div class="meta">
                  <div>
                    <span class="price">$159</span>
                    <span class="rating">â˜… 4.7</span>
                  </div>
                  <button class="add-btn" data-sku="espresso" aria-label="Add Compact Espresso Maker to cart">Add</button>
                </div>
              </div>
            </article>

            <!-- Card 6 -->
            <article class="card" data-title="Indoor Plant Set" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#bbf7d0,#86efac);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><path d="M12 3v7" stroke="#064e3b" stroke-width="1.6" stroke-linecap="round"/><path d="M7 12c1.5 3 4 5 5 9 1-4 3.5-6 5-9" stroke="#064e3b" stroke-width="1.6" stroke-linecap="round"/></svg>
              </div>
              <div class="info">
                <h4>Indoor Plant Set</h4>
                <p class="muted">Low-maintenance greenery</p>
                <div class="meta">
                  <div>
                    <span class="price">$39</span>
                    <span class="rating">â˜… 4.9</span>
                  </div>
                  <button class="add-btn" data-sku="plants" aria-label="Add Indoor Plant Set to cart">Add</button>
                </div>
              </div>
            </article>

            <!-- Card 7 -->
            <article class="card" data-title="Portable Bluetooth Speaker" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#06b6d4,#67e8f9);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><rect x="3" y="7" width="14" height="10" rx="2" stroke="white" stroke-width="1.6"/><circle cx="19" cy="12" r="3" stroke="white" stroke-width="1.6"/></svg>
              </div>
              <div class="info">
                <h4>Bluetooth Speaker</h4>
                <p class="muted">Rich bass, waterproof</p>
                <div class="meta">
                  <div>
                    <span class="price">$59</span>
                    <span class="rating">â˜… 4.4</span>
                  </div>
                  <button class="add-btn" data-sku="speaker" aria-label="Add Bluetooth Speaker to cart">Add</button>
                </div>
              </div>
            </article>

            <!-- Card 8 -->
            <article class="card" data-title="Memory Foam Pillow" role="listitem">
              <div class="thumb" style="background:linear-gradient(135deg,#c7b2ff,#e9d5ff);" aria-hidden="true">
                <svg width="44" height="44" viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="18" height="12" rx="3" stroke="white" stroke-width="1.6"/></svg>
              </div>
              <div class="info">
                <h4>Memory Foam Pillow</h4>
                <p class="muted">Ergonomic comfort for sleepers</p>
                <div class="meta">
                  <div>
                    <span class="price">$34</span>
                    <span class="rating">â˜… 4.8</span>
                  </div>
                  <button class="add-btn" data-sku="pillow" aria-label="Add Memory Foam Pillow to cart">Add</button>
                </div>
              </div>
            </article>
          </div>
        </div>

        <div class="section" aria-labelledby="blogs-heading">
          <div class="section-header">
            <div>
              <h3 id="blogs-heading">From the Blog</h3>
              <p>Tips, guides, and stories from our community</p>
            </div>
            <a href="#" class="tag" aria-label="View all posts">View all</a>
          </div>

          <div class="posts">
            <article class="post" aria-labelledby="post-1">
              <div class="thumb-small" aria-hidden="true">ðŸŒ¿</div>
              <div>
                <h5 id="post-1">How to choose the perfect houseplant</h5>
                <p class="muted">Low-light friendly plants and care tips for beginners.</p>
              </div>
            </article>

            <article class="post" aria-labelledby="post-2">
              <div class="thumb-small" aria-hidden="true">â˜•</div>
              <div>
                <h5 id="post-2">Mastering espresso at home</h5>
                <p class="muted">Simple steps to pull better shots with minimal gear.</p>
              </div>
            </article>

            <article class="post" aria-labelledby="post-3">
              <div class="thumb-small" aria-hidden="true">ðŸŽ§</div>
              <div>
                <h5 id="post-3">Sound quality explained: codecs & drivers</h5>
                <p class="muted">What matters when choosing headphones and earbuds.</p>
              </div>
            </article>
          </div>
        </div>
      </section>

      <aside class="right-column" aria-label="Sidebar">
        <div class="section" aria-labelledby="deals-heading">
          <div class="section-header">
            <div>
              <h3 id="deals-heading">Limited-Time Deals</h3>
              <p>Grab them before they're gone</p>
            </div>
            <button class="secondary" id="seeAllDeals">See all</button>
          </div>

          <div class="deal-list" id="dealsList">
            <div class="deal" data-end="">
              <div>
                <div class="badge">20% OFF</div>
                <div style="font-weight:800;margin-top:8px">Wireless Earbuds</div>
                <div class="muted" style="margin-top:6px">$79 <small style="text-decoration:line-through;color:#cbd5e1">$99</small></div>
              </div>
              <div class="countdown" data-endtime="">
                <div class="muted">Time left</div>
                <div class="timer" aria-live="polite">--:--:--</div>
              </div>
            </div>

            <div class="deal" data-end="">
              <div>
                <div class="badge" style="background:#0b79d0">FLASH</div>
                <div style="font-weight:800;margin-top:8px">4K Streaming Stick</div>
                <div class="muted" style="margin-top:6px">$39 <small style="text-decoration:line-through;color:#cbd5e1">$59</small></div>
              </div>
              <div class="countdown" data-endtime="">
                <div class="muted">Time left</div>
                <div class="timer" aria-live="polite">--:--:--</div>
              </div>
            </div>

            <div class="deal" data-end="">
              <div>
                <div class="badge">SAVE $40</div>
                <div style="font-weight:800;margin-top:8px">Robot Vacuum</div>
                <div class="muted" style="margin-top:6px">$259 <small style="text-decoration:line-through;color:#cbd5e1">$299</small></div>
              </div>
              <div class="countdown" data-endtime="">
                <div class="muted">Time left</div>
                <div class="timer" aria-live="polite">--:--:--</div>
              </div>
            </div>
          </div>
        </div>

        <div class="section" aria-labelledby="newsletter-heading">
          <div class="section-header" style="margin-bottom:10px">
            <div>
              <h3 id="newsletter-heading">Join our newsletter</h3>
              <p>Exclusive deals & new arrival alerts</p>
            </div>
          </div>
          <form id="newsletterForm" onsubmit="return false" aria-label="Newsletter signup">
            <label class="sr-only" for="email">Email address</label>
            <input id="email" type="email" placeholder="Your email" required style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(15,23,36,0.06);margin-bottom:10px"/>
            <button class="primary" type="submit" style="width:100%;">Subscribe</button>
            <div id="newsletterMsg" class="muted" style="margin-top:8px;font-size:13px"></div>
          </form>
        </div>

        <div class="section" aria-labelledby="help-heading">
          <div class="section-header" style="margin-bottom:10px">
            <div>
              <h3 id="help-heading">Need help?</h3>
              <p>We're here for you 24/7</p>
            </div>
            <button class="secondary">Contact</button>
          </div>
          <p class="muted" style="margin:0 0 8px 0">Call: (555) 123-4567</p>
          <p class="muted" style="margin:0">Live chat available in the bottom-right corner</p>
        </div>
      </aside>
    </main>

    <footer>
      <div>Â© <strong>MarketPlace</strong> â€” Curated with care</div>
      <div style="display:flex;gap:12px;align-items:center">
        <a href="#" class="muted">Terms</a>
        <a href="#" class="muted">Privacy</a>
        <a href="#" class="muted">Shipping</a>
      </div>
    </footer>
  </div>

  <script>
    // Simple cart functionality
    (function(){
      const cartCountEl = document.getElementById('cartCount');
      let count = Number(localStorage.getItem('mp_cart_count') || 0);
      cartCountEl.textContent = count;

      function updateCount(n){
        count = Math.max(0, n);
        cartCountEl.textContent = count;
        localStorage.setItem('mp_cart_count', count);
      }

      document.querySelectorAll('.add-btn').forEach(btn=>{
        btn.addEventListener('click', () => {
          // simple animation/feedback
          btn.disabled = true;
          btn.textContent = 'Added';
          setTimeout(()=>{ btn.disabled = false; btn.textContent = 'Add'; }, 900);
          updateCount(count + 1);
        });
      });

      // Shop Now scrolls to popular items
      document.getElementById('shopNow').addEventListener('click', () => {
        document.getElementById('popular-heading').scrollIntoView({behavior:'smooth', block:'start'});
      });

      // Newsletter form
      const newsForm = document.getElementById('newsletterForm');
      const newsMsg = document.getElementById('newsletterMsg');
      newsForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value.trim();
        if(!email || !email.includes('@')) {
          newsMsg.textContent = 'Please provide a valid email address.';
          return;
        }
        newsMsg.textContent = 'Thanks! You will receive our next newsletter.';
        newsForm.reset();
        setTimeout(()=>newsMsg.textContent='', 3500);
      });

      // Deals countdowns: set end times a bit into the future for demo
      const dealEls = document.querySelectorAll('.deal');
      const now = Date.now();
      const futureOffsets = [4*60*60*1000, 2*60*60*1000 + 30*60*1000, 24*60*60*1000]; // 4h, 2.5h, 24h
      dealEls.forEach((el, idx) => {
        const endTime = now + (futureOffsets[idx] || (6*60*60*1000));
        const timerEl = el.querySelector('.timer');
        el.querySelector('.countdown').dataset.endtime = String(endTime);
        function tick(){
          const ms = endTime - Date.now();
          if(ms <= 0){
            timerEl.textContent = 'Expired';
            el.classList.add('expired');
            return;
          }
          const h = Math.floor(ms / (1000*60*60));
          const m = Math.floor(ms / (1000*60)) % 60;
          const s = Math.floor(ms / 1000) % 60;
          timerEl.textContent = String(h).padStart(2,'0') + ':' + String(m).padStart(2,'0') + ':' + String(s).padStart(2,'0');
        }
        tick();
        setInterval(tick, 1000);
      });

      // Search/filter popular items
      const searchInput = document.getElementById('searchInput');
      const popularGrid = document.getElementById('popularGrid');
      const resultsInfo = document.getElementById('resultsInfo');
      function filterItems(q){
        q = (q||'').trim().toLowerCase();
        const items = [...popularGrid.querySelectorAll('.card')];
        let shown = 0;
        items.forEach(card => {
          const title = card.dataset.title.toLowerCase();
          const matches = !q || title.includes(q);
          card.style.display = matches ? 'flex' : 'none';
          if(matches) shown++;
        });
        resultsInfo.textContent = `Showing ${shown} item${shown===1?'':'s'}`;
      }
      let debounceTimer = null;
      searchInput.addEventListener('input', (e) => {
        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(()=>filterItems(e.target.value), 180);
      });

      // Accessibility: keyboard shortcut "/" focuses search
      window.addEventListener('keydown', (e) => {
        if(e.key === '/' && document.activeElement.tagName.toLowerCase() !== 'input'){
          e.preventDefault();
          searchInput.focus();
        }
      });

      // Minimal performance: mark images for lazy load simulation (not using external images)
      // Keep cart accessible
      const cartBtn = document.getElementById('cartBtn');
      cartBtn.addEventListener('click', () => {
        alert('Cart: ' + count + ' item' + (count===1?'':'s') + '. (Demo)');
      });

      // Placeholder for "See all deals"
      document.getElementById('seeAllDeals').addEventListener('click', ()=> alert('Take me to all deals (demo)'));

    })();
  </script>
</body>
</html>