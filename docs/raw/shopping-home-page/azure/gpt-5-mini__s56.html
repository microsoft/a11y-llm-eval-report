<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ShopSphere — Home</title>
  <meta name="description" content="ShopSphere — curated popular items, limited-time deals, and shopping inspiration from our blog.">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%230066cc'/%3E%3Ctext x='50' y='58' font-size='48' text-anchor='middle' fill='white' font-family='Arial'%3ES%3C/text%3E%3C/svg%3E">
  <style>
    :root{
      --bg:#f6f8fb;
      --card:white;
      --accent:#0066cc;
      --muted:#6b7280;
      --success:#10b981;
      --danger:#ef4444;
      --max-width:1200px;
      --radius:12px;
      --shadow: 0 8px 24px rgba(16,24,40,0.08);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: light;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#ffffff 60%);
      font-size:16px;
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .container{
      width:calc(100% - 32px);
      max-width:var(--max-width);
      margin:28px auto;
    }
    header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:20px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:inherit;
    }
    .logo{
      width:56px;
      height:56px;
      background:var(--accent);
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:22px;
      box-shadow:var(--shadow);
    }
    .searchbar{
      flex:1;
      display:flex;
      gap:12px;
      align-items:center;
      background:var(--card);
      padding:8px;
      border-radius:12px;
      box-shadow:var(--shadow);
    }
    input[type="search"]{
      border:0;
      outline:0;
      flex:1;
      font-size:15px;
      padding:8px 6px;
      background:transparent;
    }
    .actions{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .icon-btn{
      background:var(--card);
      border-radius:10px;
      padding:8px 10px;
      display:inline-flex;
      gap:8px;
      align-items:center;
      box-shadow:var(--shadow);
      cursor:pointer;
      border:0;
    }
    .hero{
      background: linear-gradient(90deg,#e6f2ff 0%, #ffffff 60%);
      border-radius:16px;
      padding:20px;
      display:flex;
      gap:20px;
      align-items:center;
      margin-bottom:22px;
      box-shadow:var(--shadow);
    }
    .hero .left{
      flex:1;
    }
    .hero h1{
      margin:0 0 10px 0;
      font-size:26px;
      line-height:1.1;
    }
    .hero p{margin:0 0 14px 0; color:var(--muted)}
    .cta{
      display:inline-flex;
      gap:10px;
    }
    .btn{
      border:0;
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
    }
    .btn-primary{ background:var(--accent); color:white; box-shadow:0 8px 18px rgba(0,102,204,0.16);}
    .btn-outline{ background:transparent; color:var(--accent); border:1px solid rgba(0,102,204,0.12);}
    .hero .right{
      width:320px;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .featured-carousel{
      width:300px;
      height:180px;
      border-radius:12px;
      overflow:hidden;
      position:relative;
      box-shadow:0 10px 30px rgba(2,6,23,0.08);
    }
    .featured-carousel img{width:100%; height:100%; object-fit:cover; display:block}
    .carousel-controls{
      position:absolute;
      bottom:8px;
      right:8px;
      display:flex;
      gap:6px;
    }
    .dot{width:8px; height:8px; border-radius:50%; background:rgba(255,255,255,0.6); cursor:pointer; border:2px solid rgba(0,0,0,0.06)}
    .dot.active{background:var(--accent)}
    main{margin-bottom:40px}
    .section{
      background:var(--card);
      padding:18px;
      border-radius:12px;
      box-shadow:var(--shadow);
      margin-bottom:18px;
    }
    .section h2{
      margin:0 0 12px 0;
      font-size:18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    .grid{
      display:grid;
      gap:16px;
    }
    /* responsive grids */
    .grid.products{grid-template-columns:repeat(auto-fill, minmax(180px, 1fr))}
    .grid.deals{grid-template-columns:repeat(auto-fill, minmax(240px, 1fr))}
    .grid.blogs{grid-template-columns:repeat(auto-fill, minmax(260px, 1fr))}
    .product-card, .deal-card, .blog-card{
      background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.98));
      border-radius:12px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      transition:transform .18s ease, box-shadow .18s ease;
    }
    .product-card:hover, .deal-card:hover, .blog-card:hover{ transform:translateY(-6px) }
    .thumb{ width:100%; height:160px; overflow:hidden; background:#f3f4f6; display:block }
    .thumb img{ width:100%; height:100%; object-fit:cover; display:block }
    .p-body{ padding:12px; display:flex; flex-direction:column; gap:8px; flex:1 }
    .title{ font-weight:600; font-size:15px; color:#0f172a; }
    .meta{ color:var(--muted); font-size:13px }
    .price-row{ display:flex; align-items:center; gap:10px; justify-content:space-between }
    .price{ font-weight:700; color:#08122b }
    .old{ text-decoration:line-through; color:var(--muted); font-weight:600; font-size:13px }
    .rating{ background:#f8fafc; padding:4px 8px; border-radius:999px; font-weight:600; color:#0f172a; font-size:13px }
    .badge{ position:absolute; top:10px; left:10px; background:var(--danger); color:white; padding:6px 8px; border-radius:8px; font-weight:700; font-size:12px }
    .deal-card{ position:relative; }
    .deal-footer{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border-top:1px solid #f3f4f6 }
    .countdown{ font-weight:700; color:var(--danger); font-size:13px }
    .blog-card .thumb{ height:150px }
    .blog-card .p-body{ padding:14px }
    .read-more{ margin-top:auto; display:inline-block; color:var(--accent); font-weight:600; text-decoration:none }
    footer{
      margin-top:10px;
      padding:18px;
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:center;
      color:var(--muted);
      font-size:14px;
    }
    .category-list{ display:flex; gap:10px; flex-wrap:wrap }
    .category{ background:#fff; padding:8px 10px; border-radius:10px; box-shadow:var(--shadow); cursor:pointer; font-size:14px }
    .cart-indicator{ position:relative; display:inline-flex; align-items:center; gap:8px }
    .cart-count{ position:absolute; top:-6px; right:-6px; background:var(--danger); color:white; font-size:12px; padding:2px 6px; border-radius:999px }
    @media (max-width:760px){
      .hero{ flex-direction:column; align-items:stretch }
      .hero .right{ width:100% }
      header{ flex-direction:column; align-items:stretch; gap:12px }
      .grid.deals{grid-template-columns:repeat(auto-fill, minmax(180px, 1fr))}
    }
  </style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <a href="#" class="brand" aria-label="ShopSphere Home">
        <div class="logo" aria-hidden="true">S</div>
        <div>
          <div style="font-weight:800; font-size:18px;">ShopSphere</div>
          <div style="font-size:12px; color:var(--muted)">Curated picks for everyday life</div>
        </div>
      </a>

      <div class="searchbar" role="search" aria-label="Search products">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 21l-4.35-4.35" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="11" cy="11" r="6" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input type="search" id="search" placeholder="Search for products, brands, or categories" aria-label="Search input">
        <button class="btn btn-outline" id="searchBtn">Search</button>
      </div>

      <div class="actions" aria-hidden="false">
        <div class="category-list" aria-hidden="true">
          <div class="category">Electronics</div>
          <div class="category">Home</div>
          <div class="category">Fashion</div>
        </div>

        <button class="icon-btn" id="accountBtn" aria-label="Account">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="#0f172a" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke="#0f172a" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>

        <button class="icon-btn cart-indicator" id="cartBtn" aria-label="Cart" aria-haspopup="dialog">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6h15l-1.5 9h-12L4 3H2" stroke="#0f172a" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="20" r="1" fill="#0f172a"/><circle cx="19" cy="20" r="1" fill="#0f172a"/></svg>
          <span>Cart</span>
          <span class="cart-count" id="cartCount" aria-live="polite">0</span>
        </button>
      </div>
    </header>

    <section class="hero" aria-label="Featured">
      <div class="left">
        <h1>Find everything you love — fast delivery, great prices.</h1>
        <p>Explore hand-picked products, weekly deals, and shopping guides created by our experts.</p>
        <div class="cta">
          <button class="btn btn-primary" onclick="scrollToSection('popular')">Shop Popular</button>
          <button class="btn btn-outline" onclick="scrollToSection('deals')">View Deals</button>
        </div>
      </div>
      <div class="right" aria-hidden="true">
        <div class="featured-carousel" id="carousel" aria-label="Featured products carousel">
          <img src="https://picsum.photos/seed/sofa/600/360" alt="Featured product 1" loading="lazy">
          <div class="carousel-controls" id="carouselDots" aria-hidden="true"></div>
        </div>
      </div>
    </section>

    <main>
      <section class="section" id="popular" aria-labelledby="popularTitle">
        <h2 id="popularTitle">Popular items
          <span style="font-size:13px; color:var(--muted); font-weight:600">Top trending picks this week</span>
        </h2>

        <div style="display:flex; gap:12px; align-items:center; margin-bottom:12px;">
          <div style="display:flex; gap:8px; align-items:center;">
            <label style="font-size:14px; color:var(--muted)">Sort:</label>
            <select id="sortSelect" style="padding:8px; border-radius:8px; border:1px solid #e6eefc;">
              <option value="popular">Most popular</option>
              <option value="priceLow">Price: Low to High</option>
              <option value="priceHigh">Price: High to Low</option>
            </select>
          </div>
          <div style="margin-left:auto; display:flex; gap:8px;">
            <button class="btn" onclick="filterCategory('all')">All</button>
            <button class="btn" onclick="filterCategory('electronics')">Electronics</button>
            <button class="btn" onclick="filterCategory('home')">Home</button>
          </div>
        </div>

        <div class="grid products" id="productsGrid" aria-live="polite">
          <!-- Product 1 -->
          <article class="product-card" data-category="electronics" data-price="129.99" aria-labelledby="p1title">
            <div class="thumb">
              <img src="https://picsum.photos/seed/headphones/600/400" alt="Wireless Headphones" loading="lazy">
            </div>
            <div class="p-body">
              <div class="title" id="p1title">Wireless Headphones</div>
              <div class="meta">Noise-cancelling · 20h battery</div>
              <div style="display:flex; justify-content:space-between; align-items:center;">
                <div>
                  <div class="price-row">
                    <div class="price">$129.99</div>
                    <div class="old">$179.99</div>
                  </div>
                </div>
                <div class="rating" aria-label="4.6 out of 5 stars">★ 4.6</div>
              </div>
              <div style="display:flex; gap:8px; margin-top:8px;">
                <button class="btn btn-primary" onclick="addToCart('Wireless Headphones',129.99)">Add to cart</button>
                <button class="btn" onclick="quickView('Wireless Headphones','Noise-cancelling wireless headphones with long battery life','https://picsum.photos/seed/headphones/900/600')">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product 2 -->
          <article class="product-card" data-category="home" data-price="89.99" aria-labelledby="p2title">
            <div class="thumb">
              <img src="https://picsum.photos/seed/kettle/600/400" alt="Smart Kettle" loading="lazy">
            </div>
            <div class="p-body">
              <div class="title" id="p2title">Smart Kettle</div>
              <div class="meta">Auto temperature control · 1.7L</div>
              <div style="display:flex; justify-content:space-between; align-items:center;">
                <div>
                  <div class="price-row">
                    <div class="price">$89.99</div>
                    <div class="old">$119.99</div>
                  </div>
                </div>
                <div class="rating">★ 4.4</div>
              </div>
              <div style="display:flex; gap:8px; margin-top:8px;">
                <button class="btn btn-primary" onclick="addToCart('Smart Kettle',89.99)">Add to cart</button>
                <button class="btn" onclick="quickView('Smart Kettle','Precision temperature for perfect tea every time','https://picsum.photos/seed/kettle/900/600')">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product 3 -->
          <article class="product-card" data-category="electronics" data-price="249.00" aria-labelledby="p3title">
            <div class="thumb">
              <img src="https://picsum.photos/seed/camera/600/400" alt="Compact Camera" loading="lazy">
            </div>
            <div class="p-body">
              <div class="title" id="p3title">Compact Camera</div>
              <div class="meta">4K video · 24MP sensor</div>
              <div style="display:flex; justify-content:space-between; align-items:center;">
                <div>
                  <div class="price-row">
                    <div class="price">$249.00</div>
                    <div class="old">$329.00</div>
                  </div>
                </div>
                <div class="rating">★ 4.7</div>
              </div>
              <div style="display:flex; gap:8px; margin-top:8px;">
                <button class="btn btn-primary" onclick="addToCart('Compact Camera',249)">Add to cart</button>
                <button class="btn" onclick="quickView('Compact Camera','Lightweight camera with excellent low-light performance','https://picsum.photos/seed/camera/900/600')">Quick view</button>
              </div>
            </div>
          </article>

          <!-- Product 4 -->
          <article class="product-card" data-category="home" data-price="39.99" aria-labelledby="p4title">
            <div class="thumb">
              <img src="https://picsum.photos/seed/plant/600/400" alt="Indoor Plant Set" loading="lazy">
            </div>
            <div class="p-body">
              <div class="title" id="p4title">Indoor Plant Set</div>
              <div class="meta">Low maintenance · Decorative</div>
              <div style="display:flex; justify-content:space-between; align-items:center;">
                <div>
                  <div class="price-row">
                    <div class="price">$39.99</div>
                    <div class="old">$49.99</div>
                  </div>
                </div>
                <div class="rating">★ 4.5</div>
              </div>
              <div style="display:flex; gap:8px; margin-top:8px;">
                <button class="btn btn-primary" onclick="addToCart('Indoor Plant Set',39.99)">Add to cart</button>
                <button class="btn" onclick="quickView('Indoor Plant Set','Three easy-care plants perfect for desks and shelves.','https://picsum.photos/seed/plant/900/600')">Quick view</button>
              </div>
            </div>
          </article>

        </div>
      </section>

      <section class="section" id="deals" aria-labelledby="dealsTitle">
        <h2 id="dealsTitle">Limited-time deals
          <span style="font-size:13px; color:var(--muted); font-weight:600">Deals ending soon — grab them while they last</span>
        </h2>

        <div class="grid deals" id="dealsGrid">
          <article class="deal-card" data-dealid="d1" aria-labelledby="d1title">
            <div class="badge">SAVE 40%</div>
            <div class="thumb">
              <img src="https://picsum.photos/seed/sofa/800/500" alt="Modern Sofa" loading="lazy">
            </div>
            <div class="p-body">
              <div class="title" id="d1title">Modern Sofa</div>
              <div class="meta">Comfortable 3-seater · Durable fabric</div>
            </div>
            <div class="deal-footer">
              <div>
                <div class="price">$499.00</div>
                <div class="old">$829.00</div>
              </div>
              <div style="text-align:right">
                <div class="countdown" data-ends-in="72:00:00" id="dealTimer-1">72:00:00</div>
                <button class="btn btn-primary" style="margin-top:6px" onclick="addToCart('Modern Sofa',499)">Buy now</button>
              </div>
            </div>
          </article>

          <article class="deal-card" data-dealid="d2" aria-labelledby="d2title">
            <div class="badge" style="background:var(--success)">HOT</div>
            <div class="thumb">
              <img src="https://picsum.photos/seed/watch/800/500" alt="Smartwatch" loading="lazy">
            </div>
            <div class="p-body">
              <div class="title" id="d2title">Smartwatch Series 5</div>
              <div class="meta">Fitness tracking · Waterproof</div>
            </div>
            <div class="deal-footer">
              <div>
                <div class="price">$149.00</div>
                <div class="old">$199.00</div>
              </div>
              <div style="text-align:right">
                <div class="countdown" data-ends-in="01:12:30" id="dealTimer-2">01:12:30</div>
                <button class="btn btn-primary" style="margin-top:6px" onclick="addToCart('Smartwatch Series 5',149)">Buy now</button>
              </div>
            </div>
          </article>

          <article class="deal-card" data-dealid="d3" aria-labelledby="d3title">
            <div class="badge">LIMITED</div>
            <div class="thumb">
              <img src="https://picsum.photos/seed/backpack/800/500" alt="Travel Backpack" loading="lazy">
            </div>
            <div class="p-body">
              <div class="title" id="d3title">Travel Backpack</div>
              <div class="meta">Water-resistant · 30L capacity</div>
            </div>
            <div class="deal-footer">
              <div>
                <div class="price">$59.00</div>
                <div class="old">$89.00</div>
              </div>
              <div style="text-align:right">
                <div class="countdown" data-ends-in="00:08:15" id="dealTimer-3">00:08:15</div>
                <button class="btn btn-primary" style="margin-top:6px" onclick="addToCart('Travel Backpack',59)">Buy now</button>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section class="section" id="blog" aria-labelledby="blogTitle">
        <h2 id="blogTitle">From our blog
          <span style="font-size:13px; color:var(--muted); font-weight:600">Inspiration, tips, and product stories</span>
        </h2>

        <div class="grid blogs">
          <article class="blog-card" aria-labelledby="b1title">
            <div class="thumb">
              <img src="https://picsum.photos/seed/blog1/800/600" alt="Decor tips" loading="lazy">
            </div>
            <div class="p-body">
              <div class="meta" style="font-size:13px">Decor · 5 min read</div>
              <div class="title" id="b1title">5 small changes that make a cozy living room</div>
              <p class="meta">Simple updates and budget-friendly ideas to refresh your space this season.</p>
              <a class="read-more" href="#" onclick="openArticle('5 small changes that make a cozy living room')">Read article →</a>
            </div>
          </article>

          <article class="blog-card" aria-labelledby="b2title">
            <div class="thumb">
              <img src="https://picsum.photos/seed/blog2/800/600" alt="Gadgets guide" loading="lazy">
            </div>
            <div class="p-body">
              <div class="meta" style="font-size:13px">Electronics · 7 min read</div>
              <div class="title" id="b2title">How to choose the right headphones for you</div>
              <p class="meta">An easy checklist to pick headphones for work, travel, or fitness.</p>
              <a class="read-more" href="#" onclick="openArticle('How to choose the right headphones for you')">Read article →</a>
            </div>
          </article>

          <article class="blog-card" aria-labelledby="b3title">
            <div class="thumb">
              <img src="https://picsum.photos/seed/blog3/800/600" alt="Travel tips" loading="lazy">
            </div>
            <div class="p-body">
              <div class="meta" style="font-size:13px">Travel · 6 min read</div>
              <div class="title" id="b3title">Packing smarter: essentials for weekend trips</div>
              <p class="meta">A practical packing list with compact gear picks to save space and weight.</p>
              <a class="read-more" href="#" onclick="openArticle('Packing smarter: essentials for weekend trips')">Read article →</a>
            </div>
          </article>
        </div>
      </section>
    </main>

    <footer>
      <div>
        © <span id="year"></span> ShopSphere • <span style="color:var(--muted)">Free returns • 24/7 support</span>
      </div>
      <div style="display:flex; gap:12px; align-items:center;">
        <a href="#" style="color:var(--muted); text-decoration:none">Privacy</a>
        <a href="#" style="color:var(--muted); text-decoration:none">Terms</a>
        <a href="#" style="color:var(--muted); text-decoration:none">Contact</a>
      </div>
    </footer>
  </div>

  <!-- Quick view modal -->
  <div id="modal" role="dialog" aria-modal="true" aria-hidden="true" style="position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(2,6,23,0.5); z-index:60;">
    <div style="width:90%; max-width:800px; border-radius:12px; overflow:hidden; background:white; box-shadow:0 30px 60px rgba(2,6,23,0.36);">
      <div style="display:flex; gap:12px; padding:18px;">
        <img id="modalImg" src="" alt="" style="width:40%; height:220px; object-fit:cover; border-radius:8px">
        <div style="flex:1">
          <h3 id="modalTitle" style="margin:0 0 8px 0"></h3>
          <p id="modalDesc" style="margin:0 0 12px 0; color:var(--muted)"></p>
          <div style="display:flex; gap:8px;">
            <button class="btn btn-primary" id="modalAddBtn">Add to cart</button>
            <button class="btn" onclick="closeModal()">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Basic interactions: cart count, quick view modal, simple carousel, countdown timers, sorting, filtering
    const cartCountEl = document.getElementById('cartCount');
    let cartCount = 0;
    function addToCart(name, price) {
      cartCount++;
      cartCountEl.textContent = cartCount;
      cartCountEl.classList.add('pulse');
      setTimeout(()=>cartCountEl.classList.remove('pulse'),300);
      // simple visual confirmation
      const toast = document.createElement('div');
      toast.textContent = `${name} added to cart`;
      Object.assign(toast.style, {
        position:'fixed', right:'20px', bottom:'20px', background:'#111827', color:'#fff', padding:'10px 14px',
        borderRadius:'10px', boxShadow:'0 8px 20px rgba(2,6,23,0.3)', zIndex:120
      });
      document.body.appendChild(toast);
      setTimeout(()=>toast.remove(),2200);
    }

    // Quick view modal
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalAddBtn = document.getElementById('modalAddBtn');
    let currentQuick = null;

    function quickView(title, desc, img) {
      currentQuick = title;
      modalTitle.textContent = title;
      modalDesc.textContent = desc;
      modalImg.src = img;
      modal.setAttribute('aria-hidden','false');
      modal.style.display = 'flex';
      modalAddBtn.onclick = () => { addToCart(currentQuick, 0); closeModal(); };
    }
    function closeModal(){
      modal.setAttribute('aria-hidden','true');
      modal.style.display = 'none';
    }
    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal();
    });

    // Carousel
    const carousel = document.getElementById('carousel');
    const images = [
      {src:'https://picsum.photos/seed/sofa/600/360', alt:'Featured Sofa'},
      {src:'https://picsum.photos/seed/desk/600/360', alt:'Minimal Desk'},
      {src:'https://picsum.photos/seed/lamp/600/360', alt:'Designer Lamp'}
    ];
    let carouselIndex = 0;
    const carouselImg = carousel.querySelector('img');
    const dotsContainer = document.getElementById('carouselDots');

    function renderDots(){
      dotsContainer.innerHTML = '';
      images.forEach((_,i)=>{
        const dot = document.createElement('div');
        dot.className = 'dot' + (i===carouselIndex ? ' active' : '');
        dot.onclick = ()=>{ carouselIndex = i; updateCarousel(); };
        dotsContainer.appendChild(dot);
      });
    }
    function updateCarousel(){
      const item = images[carouselIndex];
      carouselImg.src = item.src;
      carouselImg.alt = item.alt;
      renderDots();
    }
    renderDots();
    setInterval(()=> {
      carouselIndex = (carouselIndex+1) % images.length;
      updateCarousel();
    }, 4500);

    // Countdown timers for deals
    function parseTimeString(s){
      // format HH:MM:SS
      const parts = s.split(':').map(Number);
      if(parts.length!==3) return 0;
      return parts[0]*3600 + parts[1]*60 + parts[2];
    }
    function formatHMS(secs){
      const h = Math.floor(secs/3600).toString().padStart(2,'0');
      const m = Math.floor((secs%3600)/60).toString().padStart(2,'0');
      const s = Math.floor(secs%60).toString().padStart(2,'0');
      return `${h}:${m}:${s}`;
    }
    const countdownEls = Array.from(document.querySelectorAll('.countdown'));
    const remaining = countdownEls.map(el => parseTimeString(el.getAttribute('data-ends-in')||'00:00:00'));
    setInterval(()=>{
      countdownEls.forEach((el, idx)=>{
        if(remaining[idx] > 0){
          remaining[idx]--;
          el.textContent = formatHMS(remaining[idx]);
          if(remaining[idx] <= 3600) el.style.color = 'var(--danger)';
        } else {
          el.textContent = 'Ended';
          el.style.color = 'var(--muted)';
        }
      });
    }, 1000);

    // Simple sorting and filtering for products
    const productsGrid = document.getElementById('productsGrid');
    const productCards = Array.from(productsGrid.querySelectorAll('.product-card'));

    function filterCategory(cat){
      productCards.forEach(card=>{
        const c = card.getAttribute('data-category');
        if(cat === 'all' || c === cat) card.style.display = '';
        else card.style.display = 'none';
      });
    }
    function sortProducts(mode){
      let sorted = productCards.slice();
      if(mode === 'priceLow'){
        sorted.sort((a,b)=> parseFloat(a.getAttribute('data-price')) - parseFloat(b.getAttribute('data-price')));
      } else if(mode === 'priceHigh'){
        sorted.sort((a,b)=> parseFloat(b.getAttribute('data-price')) - parseFloat(a.getAttribute('data-price')));
      } else {
        // keep initial order
      }
      productsGrid.innerHTML = '';
      sorted.forEach(c=>productsGrid.appendChild(c));
    }
    document.getElementById('sortSelect').addEventListener('change', (e)=> sortProducts(e.target.value));

    // Helpers
    function scrollToSection(id){
      document.getElementById(id).scrollIntoView({behavior:'smooth', block:'start'});
    }
    function openArticle(title){
      alert('Open article: ' + title);
    }
    // Set year
    document.getElementById('year').textContent = new Date().getFullYear();

    // simple accessibility: focus trap in modal when opened (minimal)
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && modal.style.display === 'flex') closeModal();
    });

    // Simulate initial product data ordering stable
    window.addEventListener('load', ()=> {
      // Ensure consistent ordering on load
      sortProducts('popular');
    });
  </script>
</body>
</html>