<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
            line-height: 1.6;
            color: #333;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .example {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background-color: #f9f9f9;
        }

        .example h2 {
            margin-top: 0;
            font-size: 1.2em;
            color: #34495e;
        }

        .expand-button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            text-align: left;
            transition: background-color 0.3s;
        }

        .expand-button:hover {
            background-color: #2980b9;
        }

        .expand-button:focus {
            outline: 2px solid #2c3e50;
            outline-offset: 2px;
        }

        .expand-icon {
            transition: transform 0.3s;
            display: inline-block;
        }

        .expand-icon.expanded {
            transform: rotate(90deg);
        }

        .details {
            margin-top: 15px;
            padding: 15px;
            background-color: white;
            border-left: 4px solid #3498db;
            border-radius: 4px;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
        }

        .details.collapsed {
            max-height: 0;
            opacity: 0;
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
        }

        .details.expanded {
            max-height: 500px;
            opacity: 1;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Examples</h1>

    <div class="example">
        <h2>Example 1: Basic Expand/Collapse</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details1">
            <span class="expand-icon" aria-hidden="true">▶</span>
            <span>Click to expand</span>
        </button>
        <div id="details1" class="details collapsed" role="region" aria-labelledby="button1">
            <p>This is the expanded content. It contains additional information that is hidden by default.</p>
            <p>You can include any HTML content here, including paragraphs, lists, images, and more.</p>
        </div>
    </div>

    <div class="example">
        <h2>Example 2: FAQ Style</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details2">
            <span class="expand-icon" aria-hidden="true">▶</span>
            <span>What is an expand/collapse widget?</span>
        </button>
        <div id="details2" class="details collapsed" role="region">
            <p><strong>Answer:</strong> An expand/collapse widget is an interactive UI component that allows users to show or hide content on demand. This helps keep interfaces clean and organized while making additional information available when needed.</p>
        </div>
    </div>

    <div class="example">
        <h2>Example 3: Content with List</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details3">
            <span class="expand-icon" aria-hidden="true">▶</span>
            <span>View features</span>
        </button>
        <div id="details3" class="details collapsed" role="region">
            <p>Key features of this widget:</p>
            <ul>
                <li>Fully accessible with ARIA attributes</li>
                <li>Keyboard navigable</li>
                <li>Smooth animations</li>
                <li>Customizable styling</li>
                <li>Semantic HTML structure</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <h2>Example 4: Multiple Paragraphs</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details4">
            <span class="expand-icon" aria-hidden="true">▶</span>
            <span>Read more about accessibility</span>
        </button>
        <div id="details4" class="details collapsed" role="region">
            <p>Accessibility is crucial for web applications. This widget implements several accessibility best practices:</p>
            <p>The button includes <code>aria-expanded</code> to indicate its state, and <code>aria-controls</code> to associate it with the content it controls. The content region has a <code>role="region"</code> to identify it as a landmark.</p>
            <p>Keyboard users can activate the button using Enter or Space keys, and screen readers will announce the state changes appropriately.</p>
        </div>
    </div>

    <script>
        document.querySelectorAll('.example').forEach((example) => {
            const button = example.querySelector('.expand-button');
            const details = example.querySelector('.details');
            const icon = example.querySelector('.expand-icon');

            button.addEventListener('click', () => {
                const isExpanded = button.getAttribute('aria-expanded') === 'true';
                
                button.setAttribute('aria-expanded', !isExpanded);
                
                if (isExpanded) {
                    details.classList.remove('expanded');
                    details.classList.add('collapsed');
                    icon.classList.remove('expanded');
                    button.querySelector('span:last-child').textContent = 
                        button.querySelector('span:last-child').textContent.replace('collapse', 'expand').replace('Hide', 'View').replace('Close', 'Read more about');
                } else {
                    details.classList.remove('collapsed');
                    details.classList.add('expanded');
                    icon.classList.add('expanded');
                    const text = button.querySelector('span:last-child').textContent;
                    if (text.includes('Click to expand')) {
                        button.querySelector('span:last-child').textContent = 'Click to collapse';
                    } else if (text.startsWith('What is')) {
                        // Keep question text for FAQ
                    } else if (text.includes('View')) {
                        button.querySelector('span:last-child').textContent = text.replace('View', 'Hide');
                    } else if (text.includes('Read more')) {
                        button.querySelector('span:last-child').textContent = text.replace('Read more about', 'Close');
                    }
                }
            });
        });
    </script>
</body>
</html>