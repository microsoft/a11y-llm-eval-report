<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            color: #333;
        }
        .example {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            max-width: 600px;
        }
        .example h2 {
            margin-top: 0;
            color: #2c3e50;
        }
        .trigger {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 16px;
            width: 100%;
            text-align: left;
            transition: background 0.3s;
        }
        .trigger:hover {
            background: #2980b9;
        }
        .trigger[aria-expanded="true"] {
            background: #27ae60;
        }
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            background: #f9f9f9;
            border-radius: 3px;
            padding: 0 15px;
        }
        .details[open] {
            max-height: 500px; /* Adjust based on content */
            padding: 15px;
        }
        .content {
            margin: 0;
        }
        /* Accessibility improvements */
        .trigger:focus {
            outline: 2px solid #3498db;
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Demo</h1>

    <div class="example">
        <h2>Example 1: Simple FAQ Item</h2>
        <button class="trigger" aria-expanded="false" aria-controls="content1">
            What is an expand/collapse widget?
        </button>
        <div class="details" id="content1">
            <div class="content">
                <p>An expand/collapse widget is an interactive UI element that allows users to show or hide additional content. It improves user experience by keeping interfaces clean while providing access to more information when needed.</p>
            </div>
        </div>
    </div>

    <div class="example">
        <h2>Example 2: Product Features</h2>
        <button class="trigger" aria-expanded="false" aria-controls="content2">
            Key Features
        </button>
        <div class="details" id="content2">
            <div class="content">
                <ul>
                    <li>Responsive design that works on all devices</li>
                    <li>Smooth animations for better user experience</li>
                    <li>Accessible keyboard navigation support</li>
                    <li>Customizable styling and behavior</li>
                    <li>Lightweight implementation with minimal JavaScript</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="example">
        <h2>Example 3: Support Information</h2>
        <button class="trigger" aria-expanded="true" aria-controls="content3">
            Contact Support
        </button>
        <div class="details" id="content3" open>
            <div class="content">
                <p><strong>Email:</strong> support@example.com</p>
                <p><strong>Phone:</strong> 1-800-123-4567</p>
                <p><strong>Hours:</strong> Monday - Friday, 9 AM - 6 PM EST</p>
                <p><strong>Live Chat:</strong> Available 24/7 on our website</p>
            </div>
        </div>
    </div>

    <script>
        // Get all trigger buttons
        const triggers = document.querySelectorAll('.trigger');
        
        triggers.forEach(trigger => {
            trigger.addEventListener('click', function() {
                const targetId = this.getAttribute('aria-controls');
                const target = document.getElementById(targetId);
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                
                // Toggle expanded state
                this.setAttribute('aria-expanded', !isExpanded);
                target.toggleAttribute('open');
                
                // Optional: Update button text
                const buttonText = this.textContent;
                if (isExpanded) {
                    this.innerHTML = buttonText + ' <span style="float: right;">▲</span>';
                } else {
                    this.innerHTML = buttonText.replace(' <span style="float: right;">▲</span>', '') + ' <span style="float: right;">▼</span>';
                }
            });
            
            // Initialize button text with arrow
            const initialText = trigger.textContent;
            trigger.innerHTML = initialText + ' <span style="float: right;">' + (trigger.getAttribute('aria-expanded') === 'true' ? '▲' : '▼') + '</span>';
        });

        // Keyboard accessibility
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                const trigger = e.target.closest('.trigger');
                if (trigger) {
                    e.preventDefault();
                    trigger.click();
                }
            }
        });
    </script>
</body>
</html>