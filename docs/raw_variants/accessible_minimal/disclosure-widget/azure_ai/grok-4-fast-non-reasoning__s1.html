<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            max-width: 800px;
        }
        .example {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .example h3 {
            margin: 0;
            padding: 15px;
            background-color: #f5f5f5;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.3s ease;
        }
        .example h3:hover {
            background-color: #e0e0e0;
        }
        .example h3[aria-expanded="true"] {
            background-color: #d0d0d0;
        }
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            background-color: #fafafa;
        }
        .details[aria-hidden="false"] {
            max-height: 500px; /* Adjust based on content */
            padding: 15px;
        }
        .details p {
            margin: 0 0 10px 0;
        }
        /* Accessibility focus styles */
        .example h3:focus {
            outline: 2px solid #007bff;
            outline-offset: -2px;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Demo</h1>
    
    <div class="example">
        <h3 tabindex="0" role="button" aria-expanded="false" aria-controls="content1">
            What is HTML?
        </h3>
        <div id="content1" class="details" aria-hidden="true">
            <p>HTML (HyperText Markup Language) is the standard markup language used to create and structure content on the web. It defines the meaning and structure of web content, such as headings, paragraphs, lists, links, images, and more.</p>
            <p>HTML elements are represented by tags, which are enclosed in angle brackets. For example, &lt;p&gt; creates a paragraph, and &lt;h1&gt; creates a top-level heading.</p>
        </div>
    </div>

    <div class="example">
        <h3 tabindex="0" role="button" aria-expanded="false" aria-controls="content2">
            What is CSS?
        </h3>
        <div id="content2" class="details" aria-hidden="true">
            <p>CSS (Cascading Style Sheets) is a stylesheet language used to describe the presentation of a document written in HTML or XML. It controls the layout, colors, fonts, and overall visual design of web pages.</p>
            <p>CSS can be applied in three ways: inline styles, internal stylesheets within &lt;style&gt; tags, or external stylesheets linked via the &lt;link&gt; element.</p>
        </div>
    </div>

    <div class="example">
        <h3 tabindex="0" role="button" aria-expanded="false" aria-controls="content3">
            What is JavaScript?
        </h3>
        <div id="content3" class="details" aria-hidden="true">
            <p>JavaScript is a programming language that enables interactive web pages. It is primarily used to add dynamic behavior to web applications, handle user interactions, and manipulate the DOM (Document Object Model).</p>
            <p>Modern JavaScript can also be used for server-side development (Node.js), mobile applications, and desktop applications.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const headers = document.querySelectorAll('.example h3');
            
            headers.forEach(header => {
                header.addEventListener('click', toggleContent);
                header.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleContent.call(this);
                    }
                });
            });

            function toggleContent() {
                const content = this.nextElementSibling;
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                
                this.setAttribute('aria-expanded', !isExpanded);
                content.setAttribute('aria-hidden', isExpanded);
                
                // Focus management for accessibility
                if (!isExpanded) {
                    content.querySelector('p')?.focus();
                }
            }
        });
    </script>
</body>
</html>