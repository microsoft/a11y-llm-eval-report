<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            color: #333;
        }
        .example {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            max-width: 600px;
        }
        .example h3 {
            margin-top: 0;
            color: #007acc;
        }
        .trigger {
            background: #007acc;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 16px;
            transition: background 0.3s ease;
        }
        .trigger:hover {
            background: #005a9e;
        }
        .trigger:focus {
            outline: 2px solid #007acc;
            outline-offset: 2px;
        }
        .details {
            margin-top: 10px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            background: #f9f9f9;
            border-radius: 4px;
            padding: 0 15px;
        }
        .details.expanded {
            max-height: 500px; /* Adjust based on content */
            padding: 15px;
        }
        .details p {
            margin: 0;
        }
        /* Accessibility: Skip links and ARIA */
        .details[aria-hidden="true"] {
            display: none; /* For screen readers */
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Demo</h1>
    
    <div class="example">
        <h3>Example 1: Basic Information</h3>
        <button class="trigger" aria-expanded="false" aria-controls="details1" id="trigger1">
            Expand/Collapse Basic Info
        </button>
        <div class="details" id="details1" aria-labelledby="trigger1" role="region">
            <p>This is the basic information about the expand/collapse widget. It allows users to show or hide content dynamically, improving the user experience by reducing clutter on the page. This example demonstrates a simple toggle functionality.</p>
        </div>
    </div>
    
    <div class="example">
        <h3>Example 2: Detailed Features</h3>
        <button class="trigger" aria-expanded="false" aria-controls="details2" id="trigger2">
            Expand/Collapse Features
        </button>
        <div class="details" id="details2" aria-labelledby="trigger2" role="region">
            <p>The widget includes smooth transitions for a better visual effect, proper ARIA attributes for accessibility, and keyboard navigation support. It works well on both desktop and mobile devices, ensuring all users can interact with it effectively.</p>
            <ul>
                <li>Smooth CSS transitions</li>
                <li>ARIA compliance for screen readers</li>
                <li>Keyboard focus management</li>
                <li>Responsive design</li>
            </ul>
        </div>
    </div>
    
    <div class="example">
        <h3>Example 3: Usage Instructions</h3>
        <button class="trigger" aria-expanded="false" aria-controls="details3" id="trigger3">
            Expand/Collapse Instructions
        </button>
        <div class="details" id="details3" aria-labelledby="trigger3" role="region">
            <p>To use this widget, simply click the button to expand or collapse the content. For keyboard users, tab to the button and press Enter or Space to toggle. The content will animate smoothly, providing feedback on the state change.</p>
        </div>
    </div>

    <script>
        // JavaScript for expand/collapse functionality
        document.addEventListener('DOMContentLoaded', function() {
            const triggers = document.querySelectorAll('.trigger');
            
            triggers.forEach(trigger => {
                trigger.addEventListener('click', function() {
                    const targetId = this.getAttribute('aria-controls');
                    const details = document.getElementById(targetId);
                    const isExpanded = this.getAttribute('aria-expanded') === 'true';
                    
                    // Toggle expanded state
                    this.setAttribute('aria-expanded', !isExpanded);
                    details.classList.toggle('expanded');
                    
                    // Update button text for better UX
                    this.textContent = isExpanded ? 'Expand ' + this.textContent.substring(7) : 'Collapse ' + this.textContent.substring(8);
                });
                
                // Keyboard accessibility
                trigger.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.click();
                    }
                });
            });
        });
    </script>
</body>
</html>