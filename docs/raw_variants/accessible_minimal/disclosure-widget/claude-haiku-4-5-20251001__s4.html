<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            padding: 2rem;
            line-height: 1.6;
        }

        h1 {
            color: #333;
            margin-bottom: 2rem;
            text-align: center;
        }

        .example {
            margin-bottom: 1.5rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .widget-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            background-color: #f9f9f9;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s ease;
        }

        .widget-title:hover {
            background-color: #f0f0f0;
        }

        .widget-title:focus-visible {
            outline: 2px solid #0066cc;
            outline-offset: -2px;
        }

        .widget-title h2 {
            font-size: 1.1rem;
            color: #333;
            margin: 0;
            flex: 1;
        }

        .toggle-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            color: #666;
            transition: transform 0.3s ease;
            flex-shrink: 0;
            margin-left: 1rem;
        }

        .toggle-icon.expanded {
            transform: rotate(180deg);
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .details.expanded {
            max-height: 500px;
            padding: 1rem;
            border-top: 1px solid #e0e0e0;
        }

        .details p {
            color: #555;
            margin-bottom: 0.5rem;
        }

        .details p:last-child {
            margin-bottom: 0;
        }

        .details ul {
            margin-left: 1.5rem;
            color: #555;
        }

        .details li {
            margin-bottom: 0.5rem;
        }

        .details li:last-child {
            margin-bottom: 0;
        }

        .example-label {
            display: block;
            font-size: 0.875rem;
            color: #999;
            padding: 0.5rem 1rem 0 1rem;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Demo</h1>

    <div class="example">
        <span class="example-label">Example 1: Basic Widget</span>
        <button class="widget-title" aria-expanded="false" aria-controls="details-1">
            <h2>What is HTML?</h2>
            <span class="toggle-icon" aria-hidden="true">▼</span>
        </button>
        <div class="details" id="details-1">
            <p>HTML (HyperText Markup Language) is the standard markup language used to create web pages. It provides the structure and content of websites by using a system of tags and elements that tell web browsers how to display text, images, links, and other media.</p>
        </div>
    </div>

    <div class="example">
        <span class="example-label">Example 2: Widget with List</span>
        <button class="widget-title" aria-expanded="false" aria-controls="details-2">
            <h2>Key Features of CSS</h2>
            <span class="toggle-icon" aria-hidden="true">▼</span>
        </button>
        <div class="details" id="details-2">
            <p>CSS (Cascading Style Sheets) is used to style and layout web pages. Here are some key features:</p>
            <ul>
                <li>Selectors for targeting HTML elements</li>
                <li>Properties for styling colors, fonts, and spacing</li>
                <li>Responsive design with media queries</li>
                <li>Flexbox and Grid for layout</li>
                <li>Animations and transitions</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <span class="example-label">Example 3: Pre-expanded Widget</span>
        <button class="widget-title expanded" aria-expanded="true" aria-controls="details-3">
            <h2>JavaScript Basics</h2>
            <span class="toggle-icon expanded" aria-hidden="true">▼</span>
        </button>
        <div class="details expanded" id="details-3">
            <p>JavaScript is a programming language that enables interactive web pages. It can update content, control multimedia, animate images, and much more. JavaScript is essential for creating dynamic and interactive user experiences on the web.</p>
            <p>This widget starts in an expanded state to demonstrate the initial open state.</p>
        </div>
    </div>

    <div class="example">
        <span class="example-label">Example 4: Widget with Multiple Paragraphs</span>
        <button class="widget-title" aria-expanded="false" aria-controls="details-4">
            <h2>Web Accessibility Standards</h2>
            <span class="toggle-icon" aria-hidden="true">▼</span>
        </button>
        <div class="details" id="details-4">
            <p>Web accessibility ensures that websites are usable by everyone, including people with disabilities. This includes those using screen readers, keyboard navigation, or other assistive technologies.</p>
            <p>Key principles include providing alternative text for images, ensuring proper heading structure, using semantic HTML, and maintaining sufficient color contrast. Following WCAG guidelines helps create inclusive web experiences.</p>
            <p>Accessible design benefits all users by improving usability, navigation, and overall user experience.</p>
        </div>
    </div>

    <script>
        document.querySelectorAll('.widget-title').forEach(button => {
            button.addEventListener('click', function() {
                const detailsId = this.getAttribute('aria-controls');
                const details = document.getElementById(detailsId);
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                const icon = this.querySelector('.toggle-icon');

                this.setAttribute('aria-expanded', !isExpanded);
                details.classList.toggle('expanded');
                icon.classList.toggle('expanded');
            });

            button.addEventListener('keydown', function(event) {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    this.click();
                }
            });
        });
    </script>
</body>
</html>