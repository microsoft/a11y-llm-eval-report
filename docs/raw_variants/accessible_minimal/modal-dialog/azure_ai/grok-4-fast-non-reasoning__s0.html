<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Dialog Example</title>
    <style>
        /* Reset and base styles for accessibility */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.5;
            color: #333;
            padding: 20px;
            background-color: #f5f5f5;
        }

        /* Button styles */
        .trigger {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .trigger:hover {
            background-color: #0056b3;
        }

        .trigger:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }

        /* Modal overlay */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay[open] {
            display: flex;
        }

        /* Modal content */
        .modal-content {
            background-color: white;
            padding: 24px;
            border-radius: 8px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            border-bottom: 1px solid #eee;
            padding-bottom: 12px;
        }

        .modal-title {
            font-size: 1.5em;
            font-weight: bold;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            padding: 4px;
            border-radius: 4px;
            transition: color 0.3s ease;
        }

        .modal-close:hover {
            color: #000;
            background-color: #f0f0f0;
        }

        .modal-close:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            border-top: 1px solid #eee;
            padding-top: 12px;
        }

        .btn {
            padding: 8px 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
            border-color: #007bff;
        }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

        .btn-secondary {
            background-color: transparent;
            color: #007bff;
        }

        .btn-secondary:hover {
            background-color: #f0f8ff;
        }

        .btn:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }

        /* Focus management for accessibility */
        .modal-content:focus {
            outline: none;
        }

        /* Screen reader only text */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Responsive design */
        @media (max-width: 600px) {
            .modal-content {
                width: 95%;
                padding: 16px;
            }

            .modal-title {
                font-size: 1.25em;
            }
        }
    </style>
</head>
<body>
    <h1>Modal Dialog Example</h1>
    <p>This example demonstrates an accessible modal dialog component. Click the button below to open the modal.</p>

    <button class="trigger" aria-describedby="modal-description">Open Modal</button>

    <div class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" id="modal" tabindex="-1">
        <div class="modal-content" role="document">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title">Welcome to the Modal</h2>
                <button class="modal-close" aria-label="Close modal" data-close-modal>Ã—</button>
            </div>
            <div class="modal-body">
                <p id="modal-description">This is an example of an accessible modal dialog. It includes proper ARIA attributes, keyboard navigation, and focus management. The modal is closed by default and can be opened using the trigger button.</p>
                <p>You can close the modal by clicking the close button, pressing the Escape key, or clicking outside the modal content.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-close-modal>Cancel</button>
                <button class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        (function() {
            const modal = document.getElementById('modal');
            const trigger = document.querySelector('.trigger');
            const closeButtons = document.querySelectorAll('[data-close-modal]');
            const overlay = modal.parentElement;

            // Open modal
            trigger.addEventListener('click', function(e) {
                e.preventDefault();
                modal.setAttribute('open', '');
                modal.focus();
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
            });

            // Close modal functions
            function closeModal() {
                modal.removeAttribute('open');
                document.body.style.overflow = ''; // Restore scrolling
                trigger.focus(); // Return focus to trigger
            }

            // Close on close button clicks
            closeButtons.forEach(button => {
                button.addEventListener('click', closeModal);
            });

            // Close on Escape key
            document.addEventListener('keydown', function(e) {
                if (modal.hasAttribute('open') && e.key === 'Escape') {
                    e.preventDefault();
                    closeModal();
                }
            });

            // Close on overlay click (outside modal content)
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    closeModal();
                }
            });

            // Trap focus within modal for accessibility
            modal.addEventListener('focus', function(e) {
                if (modal.hasAttribute('open')) {
                    const focusableElements = modal.querySelectorAll(
                        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const firstFocusable = focusableElements[0];
                    const lastFocusable = focusableElements[focusableElements.length - 1];

                    if (e.target === lastFocusable) {
                        e.preventDefault();
                        firstFocusable.focus();
                    } else if (e.target === firstFocusable && e.shiftKey) {
                        e.preventDefault();
                        lastFocusable.focus();
                    }
                }
            }, true);
        })();
    </script>
</body>
</html>