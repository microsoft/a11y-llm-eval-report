<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Dialog Example</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f2f5;
        }

        .trigger {
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            background-color: #4a6cf7;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .trigger:hover {
            background-color: #3a5ce5;
        }

        .trigger:focus-visible {
            outline: 3px solid #4a6cf7;
            outline-offset: 2px;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-overlay.open {
            display: flex;
        }

        .modal {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid #e5e7eb;
        }

        .modal-header h2 {
            font-size: 20px;
            color: #1a1a2e;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #6b7280;
            cursor: pointer;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .modal-close:hover {
            background-color: #f3f4f6;
            color: #1a1a2e;
        }

        .modal-close:focus-visible {
            outline: 3px solid #4a6cf7;
            outline-offset: 2px;
        }

        .modal-body {
            padding: 24px;
        }

        .modal-body p {
            font-size: 15px;
            line-height: 1.6;
            color: #4b5563;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            padding: 16px 24px;
            border-top: 1px solid #e5e7eb;
        }

        .btn-cancel {
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            background-color: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .btn-cancel:hover {
            background-color: #e5e7eb;
        }

        .btn-cancel:focus-visible {
            outline: 3px solid #4a6cf7;
            outline-offset: 2px;
        }

        .btn-confirm {
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 500;
            color: #fff;
            background-color: #4a6cf7;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .btn-confirm:hover {
            background-color: #3a5ce5;
        }

        .btn-confirm:focus-visible {
            outline: 3px solid #4a6cf7;
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <button class="trigger" aria-haspopup="dialog">Open Modal</button>

    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDescription" id="modalDialog">
            <div class="modal-header">
                <h2 id="modalTitle">Modal Dialog</h2>
                <button class="modal-close" aria-label="Close modal" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <p id="modalDescription">This is an example modal dialog component. It demonstrates a common UI pattern used to display content that requires user attention or interaction. You can close this modal by clicking the close button, pressing the Escape key, or clicking outside the modal.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="btnCancel">Cancel</button>
                <button class="btn-confirm" id="btnConfirm">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        const triggerBtn = document.querySelector('.trigger');
        const overlay = document.getElementById('modalOverlay');
        const modal = document.getElementById('modalDialog');
        const closeBtn = document.getElementById('modalClose');
        const cancelBtn = document.getElementById('btnCancel');
        const confirmBtn = document.getElementById('btnConfirm');

        let previouslyFocusedElement = null;

        function openModal() {
            previouslyFocusedElement = document.activeElement;
            overlay.classList.add('open');
            closeBtn.focus();
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            overlay.classList.remove('open');
            document.body.style.overflow = '';
            if (previouslyFocusedElement) {
                previouslyFocusedElement.focus();
            }
        }

        function trapFocus(e) {
            if (!overlay.classList.contains('open')) return;

            const focusableElements = modal.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstFocusable = focusableElements[0];
            const lastFocusable = focusableElements[focusableElements.length - 1];

            if (e.key === 'Tab') {
                if (e.shiftKey) {
                    if (document.activeElement === firstFocusable) {
                        e.preventDefault();
                        lastFocusable.focus();
                    }
                } else {
                    if (document.activeElement === lastFocusable) {
                        e.preventDefault();
                        firstFocusable.focus();
                    }
                }
            }
        }

        triggerBtn.addEventListener('click', openModal);
        closeBtn.addEventListener('click', closeModal);
        cancelBtn.addEventListener('click', closeModal);
        confirmBtn.addEventListener('click', closeModal);

        overlay.addEventListener('click', function (e) {
            if (e.target === overlay) {
                closeModal();
            }
        });

        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && overlay.classList.contains('open')) {
                closeModal();
            }
            trapFocus(e);
        });
    </script>
</body>
</html>