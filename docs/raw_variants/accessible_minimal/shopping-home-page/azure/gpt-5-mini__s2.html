<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopSmart — Home</title>
  <meta name="description" content="ShopSmart — discover popular items, special deals, and our latest blog posts. Fast delivery, great prices." />
  <style>
    :root{
      --bg:#f6f7f9;
      --card:#ffffff;
      --primary:#0366d6;
      --accent:#ff6b35;
      --muted:#6b7280;
      --success:#16a34a;
      --danger:#ef4444;
      --focus: 3px solid rgba(3,102,214,0.25);
      --radius:10px;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: light;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,var(--bg),#ffffff);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.35;
      font-size:16px;
    }
    a{color:var(--primary); text-decoration:none}
    a:focus{outline:var(--focus); border-radius:6px}
    header{
      background:linear-gradient(90deg,#ffffffcc, #f8fafc);
      border-bottom:1px solid #e6e9ee;
      position:sticky;
      top:0;
      z-index:50;
      backdrop-filter: blur(6px);
    }
    .container{max-width:1100px; margin:0 auto; padding:1rem;}
    .topbar{display:flex; align-items:center; gap:1rem; justify-content:space-between;}
    .brand{display:flex; align-items:center; gap:.75rem; text-decoration:none; color:inherit}
    .brand svg{width:40px;height:40px;flex:0 0 40px}
    .search{flex:1; max-width:520px; display:flex; gap:.5rem; align-items:center}
    .search label{display:none}
    .search input{
      width:100%;
      padding:.6rem .75rem;
      border:1px solid #dbe3ee;
      border-radius:8px;
      background:#fff;
      outline:none;
    }
    .search input:focus{box-shadow:var(--focus); border-color:var(--primary)}
    nav[aria-label="Primary"]{display:flex; gap:1rem; align-items:center}
    .nav-links a{padding:.5rem .6rem; border-radius:8px; color:var(--muted); font-weight:600}
    .nav-links a:focus, .nav-links a:hover{background:#f1f5f9; color:var(--primary)}
    .skip-link{
      position:absolute;
      left:-999px;
      top:auto;
      width:1px;height:1px;overflow:hidden;
    }
    .skip-link:focus{
      left:1rem; top:1rem; width:auto; height:auto; padding:.5rem .75rem; background:#000; color:#fff; z-index:60; border-radius:6px;
    }

    main{padding:1.25rem 0;}
    .hero{
      display:flex; align-items:center; gap:1.25rem; background:linear-gradient(180deg,#fff,#fbfdff);
      border-radius:var(--radius); padding:1rem; margin-bottom:1rem; border:1px solid #eef2f6;
    }
    .hero .left{flex:1}
    .hero h1{margin:0 0 .25rem 0; font-size:1.5rem}
    .hero p{margin:0; color:var(--muted)}
    .hero .actions{margin-top:.75rem; display:flex; gap:.5rem; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; gap:.5rem; padding:.55rem .8rem; border-radius:8px; border:1px solid transparent;
      font-weight:700; cursor:pointer; background:var(--primary); color:#fff;
    }
    .btn.secondary{background:#fff; color:var(--primary); border-color:#e6eefc}
    .btn:focus{outline:var(--focus)}
    .grid{display:grid; gap:1rem}
    .grid.cols-3{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .card{
      background:var(--card); border-radius:10px; padding:1rem; border:1px solid #eef2f6;
      display:flex; flex-direction:column; gap:.6rem;
    }
    .product-media{height:140px; border-radius:8px; background:linear-gradient(135deg,#f8fafc,#eef2f6); display:flex; align-items:center; justify-content:center; color:var(--muted); font-size:.95rem}
    .product-title{font-weight:700; font-size:1rem; margin:0}
    .product-desc{color:var(--muted); font-size:.9rem}
    .price-row{display:flex; align-items:center; justify-content:space-between; gap:.5rem}
    .price{font-weight:800; color:#08132a}
    .old-price{color:var(--muted); text-decoration:line-through; font-weight:600}
    .meta{display:flex; gap:.5rem; align-items:center; color:var(--muted); font-size:.9rem}
    .star{color:#f59e0b}
    .actions-row{display:flex; gap:.5rem; margin-top:.5rem}
    .add-btn{flex:1; padding:.55rem; border-radius:8px; background:var(--accent); color:#fff; border:none; font-weight:700; cursor:pointer}
    .fav-btn{background:#fff; border:1px solid #e6eefc; color:var(--primary); padding:.4rem .55rem; border-radius:8px; cursor:pointer}
    .add-btn:focus, .fav-btn:focus{outline:var(--focus)}
    .badge{background:var(--accent); color:#fff; padding:.25rem .45rem; border-radius:999px; font-weight:700; font-size:.8rem}

    section h2{margin:.25rem 0 .5rem 0; font-size:1.1rem}
    .deals{display:grid; gap:1rem; grid-template-columns:repeat(auto-fit, minmax(260px,1fr))}
    .deal-timer{font-weight:800; color:var(--danger)}
    .deal-note{color:var(--muted); font-size:.9rem}

    .blog-list{display:grid; gap:1rem}
    .blog-item{display:flex; gap:1rem; align-items:flex-start}
    .blog-thumb{width:120px; height:80px; border-radius:8px; background:linear-gradient(135deg,#fff,#f1f5f9); display:flex; align-items:center; justify-content:center; color:var(--muted); font-weight:700}
    .blog-meta{color:var(--muted); font-size:.9rem}
    footer{margin-top:2rem; padding:1rem 0; border-top:1px solid #eef2f6; background:transparent}
    .footer-grid{display:flex; gap:1rem; flex-wrap:wrap; align-items:center; justify-content:space-between}
    .sr-only{position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden;}

    /* Responsive */
    @media (max-width:720px){
      .topbar{flex-direction:column; align-items:stretch; gap:.75rem}
      .hero{flex-direction:column}
      .search{max-width:none}
    }

    /* Focus visible for keyboard users */
    :focus:not(:focus-visible){outline:none}
    :focus-visible{outline:var(--focus)}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to main content</a>

  <header role="banner" aria-label="Site header">
    <div class="container topbar">
      <a href="#" class="brand" aria-label="ShopSmart home">
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#0366d6"/><stop offset="1" stop-color="#0ea5a4"/></linearGradient></defs>
          <rect rx="12" width="64" height="64" fill="url(#g)"></rect>
          <path d="M20 36h24l4-14H18z" fill="#fff" opacity=".95"></path>
          <circle cx="26" cy="46" r="3.5" fill="#fff"></circle>
          <circle cx="42" cy="46" r="3.5" fill="#fff"></circle>
        </svg>
        <span>
          <strong>ShopSmart</strong><span style="display:block;font-size:.85rem;color:var(--muted)">Everyday essentials, delivered</span>
        </span>
      </a>

      <form class="search" role="search" aria-label="Search products">
        <label for="q">Search products</label>
        <input id="q" name="q" type="search" placeholder="Search popular items, brands, categories..." aria-label="Search products" />
        <button class="btn" type="submit" aria-label="Search">Search</button>
      </form>

      <nav aria-label="Primary" role="navigation">
        <div class="nav-links" aria-hidden="false">
          <a href="#popular">Popular</a>
          <a href="#deals">Deals</a>
          <a href="#blog">Blog</a>
        </div>
        <div>
          <a href="#cart" class="btn secondary" aria-label="View cart">Cart (<span id="cart-count">0</span>)</a>
        </div>
      </nav>
    </div>
  </header>

  <main id="main" tabindex="-1">
    <div class="container">
      <div class="hero" role="region" aria-label="Hero">
        <div class="left">
          <h1>Find the items you love — fast</h1>
          <p>Curated picks, limited-time deals, and helpful guides to make shopping simple. Free returns on eligible items.</p>
          <div class="actions" role="group" aria-label="Hero actions">
            <a href="#deals" class="btn">Shop deals</a>
            <a href="#popular" class="btn secondary">Browse popular</a>
          </div>
        </div>
        <div class="right" aria-hidden="false" style="min-width:220px;">
          <div class="card" aria-hidden="false">
            <div style="display:flex;align-items:center;justify-content:space-between">
              <div>
                <div style="font-weight:700">Free shipping</div>
                <div style="color:var(--muted);font-size:.95rem">On orders over $50</div>
              </div>
              <div class="badge" aria-hidden="true">Save</div>
            </div>
            <p class="deal-note" style="margin-top:.5rem">Fast fulfillment across the country with tracking updates.</p>
          </div>
        </div>
      </div>

      <!-- Popular Items -->
      <section id="popular" aria-labelledby="popular-heading" role="region">
        <h2 id="popular-heading">Popular items</h2>
        <p class="deal-note">Customers love these — top-rated and trending this week.</p>

        <div class="grid cols-3" aria-live="polite" aria-label="Popular items list">
          <!-- Product 1 -->
          <article class="card" role="article" aria-labelledby="p1-title">
            <div class="product-media" role="img" aria-label="Wireless headphones in charcoal">
              <svg width="120" height="80" viewBox="0 0 120 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <rect width="120" height="80" rx="8" fill="#eef2f6"></rect>
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="12" fill="#6b7280">Headphones</text>
              </svg>
            </div>
            <div>
              <h3 id="p1-title" class="product-title">QuietWave Wireless Headphones</h3>
              <p class="product-desc">Active noise cancellation, up to 30 hours battery life.</p>
            </div>
            <div class="meta" aria-hidden="false">
              <span class="star" aria-hidden="true">★ ★ ★ ★ ☆</span>
              <span aria-label="Rating">4.2</span>
              <span aria-hidden="true">•</span>
              <span aria-label="Number of reviews">1,284 reviews</span>
            </div>
            <div class="price-row" aria-hidden="false">
              <div>
                <div class="price" aria-label="Price">$129</div>
                <div class="old-price" aria-hidden="true">$179</div>
              </div>
              <div style="display:flex;flex-direction:column;align-items:flex-end;gap:.4rem">
                <div class="badge" aria-hidden="true">Top</div>
              </div>
            </div>
            <div class="actions-row">
              <button class="add-btn" data-id="p1" aria-label="Add QuietWave Wireless Headphones to cart">Add to cart</button>
              <button class="fav-btn" aria-pressed="false" aria-label="Add to wishlist">♡</button>
            </div>
          </article>

          <!-- Product 2 -->
          <article class="card" role="article" aria-labelledby="p2-title">
            <div class="product-media" role="img" aria-label="Classic leather wallet">
              <svg width="120" height="80" viewBox="0 0 120 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <rect width="120" height="80" rx="8" fill="#fff7ed"></rect>
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="12" fill="#b45309">Wallet</text>
              </svg>
            </div>
            <div>
              <h3 id="p2-title" class="product-title">Genuine Leather Wallet</h3>
              <p class="product-desc">Slim design with 8 card slots and coin pocket.</p>
            </div>
            <div class="meta">
              <span class="star">★ ★ ★ ★ ★</span>
              <span aria-label="Rating">4.8</span>
              <span aria-hidden="true">•</span>
              <span aria-label="Number of reviews">642 reviews</span>
            </div>
            <div class="price-row">
              <div>
                <div class="price" aria-label="Price">$49</div>
              </div>
              <div><div class="badge" aria-hidden="true">New</div></div>
            </div>
            <div class="actions-row">
              <button class="add-btn" data-id="p2" aria-label="Add Genuine Leather Wallet to cart">Add to cart</button>
              <button class="fav-btn" aria-pressed="false" aria-label="Add wallet to wishlist">♡</button>
            </div>
          </article>

          <!-- Product 3 -->
          <article class="card" role="article" aria-labelledby="p3-title">
            <div class="product-media" role="img" aria-label="Insulated travel mug">
              <svg width="120" height="80" viewBox="0 0 120 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <rect width="120" height="80" rx="8" fill="#ecfeff"></rect>
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="12" fill="#0ea5a4">Mug</text>
              </svg>
            </div>
            <div>
              <h3 id="p3-title" class="product-title">ThermoGo Travel Mug</h3>
              <p class="product-desc">Keeps drinks hot for 8 hours, leak-proof lid.</p>
            </div>
            <div class="meta">
              <span class="star">★ ★ ★ ★ ☆</span>
              <span aria-label="Rating">4.5</span>
              <span aria-hidden="true">•</span>
              <span aria-label="Number of reviews">2,031 reviews</span>
            </div>
            <div class="price-row">
              <div>
                <div class="price" aria-label="Price">$24</div>
              </div>
              <div><div class="badge" aria-hidden="true">Popular</div></div>
            </div>
            <div class="actions-row">
              <button class="add-btn" data-id="p3" aria-label="Add ThermoGo Travel Mug to cart">Add to cart</button>
              <button class="fav-btn" aria-pressed="false" aria-label="Add mug to wishlist">♡</button>
            </div>
          </article>

          <!-- Product 4 -->
          <article class="card" role="article" aria-labelledby="p4-title">
            <div class="product-media" role="img" aria-label="Eco tote bag">
              <svg width="120" height="80" viewBox="0 0 120 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <rect width="120" height="80" rx="8" fill="#f0fdf4"></rect>
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="12" fill="#16a34a">Tote</text>
              </svg>
            </div>
            <div>
              <h3 id="p4-title" class="product-title">EcoCarry Reusable Tote</h3>
              <p class="product-desc">Sturdy canvas with reinforced handles. Machine washable.</p>
            </div>
            <div class="meta">
              <span class="star">★ ★ ★ ★ ★</span>
              <span aria-label="Rating">4.9</span>
              <span aria-hidden="true">•</span>
              <span aria-label="Number of reviews">3,511 reviews</span>
            </div>
            <div class="price-row">
              <div>
                <div class="price" aria-label="Price">$15</div>
              </div>
              <div></div>
            </div>
            <div class="actions-row">
              <button class="add-btn" data-id="p4" aria-label="Add EcoCarry Reusable Tote to cart">Add to cart</button>
              <button class="fav-btn" aria-pressed="false" aria-label="Add tote to wishlist">♡</button>
            </div>
          </article>

          <!-- Product 5 -->
          <article class="card" role="article" aria-labelledby="p5-title">
            <div class="product-media" role="img" aria-label="Smart LED bulb">
              <svg width="120" height="80" viewBox="0 0 120 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <rect width="120" height="80" rx="8" fill="#fff7f6"></rect>
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="12" fill="#ef4444">Bulb</text>
              </svg>
            </div>
            <div>
              <h3 id="p5-title" class="product-title">Lumo Smart LED Bulb</h3>
              <p class="product-desc">Adjustable white and color light, works with voice assistants.</p>
            </div>
            <div class="meta">
              <span class="star">★ ★ ★ ★ ☆</span>
              <span aria-label="Rating">4.4</span>
              <span aria-hidden="true">•</span>
              <span aria-label="Number of reviews">889 reviews</span>
            </div>
            <div class="price-row">
              <div>
                <div class="price" aria-label="Price">$12</div>
                <div class="old-price" aria-hidden="true">$18</div>
              </div>
              <div><div class="badge" aria-hidden="true">Deal</div></div>
            </div>
            <div class="actions-row">
              <button class="add-btn" data-id="p5" aria-label="Add Lumo Smart LED Bulb to cart">Add to cart</button>
              <button class="fav-btn" aria-pressed="false" aria-label="Add bulb to wishlist">♡</button>
            </div>
          </article>

          <!-- Product 6 -->
          <article class="card" role="article" aria-labelledby="p6-title">
            <div class="product-media" role="img" aria-label="Organic cotton tee">
              <svg width="120" height="80" viewBox="0 0 120 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <rect width="120" height="80" rx="8" fill="#f8fafc"></rect>
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="12" fill="#475569">T-Shirt</text>
              </svg>
            </div>
            <div>
              <h3 id="p6-title" class="product-title">PureLoop Organic Tee</h3>
              <p class="product-desc">Soft, breathable organic cotton — classic fit.</p>
            </div>
            <div class="meta">
              <span class="star">★ ★ ★ ★ ☆</span>
              <span aria-label="Rating">4.3</span>
              <span aria-hidden="true">•</span>
              <span aria-label="Number of reviews">1,980 reviews</span>
            </div>
            <div class="price-row">
              <div>
                <div class="price" aria-label="Price">$22</div>
              </div>
              <div></div>
            </div>
            <div class="actions-row">
              <button class="add-btn" data-id="p6" aria-label="Add PureLoop Organic Tee to cart">Add to cart</button>
              <button class="fav-btn" aria-pressed="false" aria-label="Add tee to wishlist">♡</button>
            </div>
          </article>
        </div>
      </section>

      <!-- Deals -->
      <section id="deals" aria-labelledby="deals-heading" role="region" style="margin-top:1.25rem">
        <h2 id="deals-heading">Limited-time deals</h2>
        <p class="deal-note">Hurry — offers end soon. Times update live.</p>
        <div class="deals" role="list" aria-live="polite">
          <article class="card" role="listitem" aria-labelledby="d1-title">
            <h3 id="d1-title" class="product-title">Smart Fitness Watch — 25% off</h3>
            <p class="product-desc">Heart rate monitoring, sleep tracking, water resistant.</p>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:.5rem">
              <div>
                <div class="price" aria-label="Sale price">$89</div>
                <div class="old-price" aria-hidden="true">$119</div>
              </div>
              <div>
                <div class="deal-timer" data-end="2026-02-28T23:59:59Z" aria-live="off" aria-atomic="true">Loading...</div>
                <div class="deal-note">Deal ends in <span class="sr-only">time remaining</span></div>
              </div>
            </div>
            <div style="margin-top:.6rem" class="actions-row">
              <button class="add-btn" data-id="d1" aria-label="Add Smart Fitness Watch to cart">Add to cart</button>
              <a href="#details" class="btn secondary" aria-label="View deal details">Details</a>
            </div>
          </article>

          <article class="card" role="listitem" aria-labelledby="d2-title">
            <h3 id="d2-title" class="product-title">Noise Cancelling Earbuds — 40% off</h3>
            <p class="product-desc">Compact case with fast charging.</p>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:.5rem">
              <div>
                <div class="price" aria-label="Sale price">$59</div>
                <div class="old-price" aria-hidden="true">$99</div>
              </div>
              <div>
                <div class="deal-timer" data-end="2026-02-20T12:00:00Z" aria-live="off" aria-atomic="true">Loading...</div>
              </div>
            </div>
            <div style="margin-top:.6rem" class="actions-row">
              <button class="add-btn" data-id="d2" aria-label="Add Noise Cancelling Earbuds to cart">Add to cart</button>
              <a href="#details" class="btn secondary" aria-label="View deal details">Details</a>
            </div>
          </article>

          <article class="card" role="listitem" aria-labelledby="d3-title">
            <h3 id="d3-title" class="product-title">Air Purifier — 30% off</h3>
            <p class="product-desc">Quiet mode and HEPA filtration for medium rooms.</p>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:.5rem">
              <div>
                <div class="price" aria-label="Sale price">$139</div>
                <div class="old-price" aria-hidden="true">$199</div>
              </div>
              <div>
                <div class="deal-timer" data-end="2026-03-05T23:59:59Z" aria-live="off" aria-atomic="true">Loading...</div>
              </div>
            </div>
            <div style="margin-top:.6rem" class="actions-row">
              <button class="add-btn" data-id="d3" aria-label="Add Air Purifier to cart">Add to cart</button>
              <a href="#details" class="btn secondary" aria-label="View deal details">Details</a>
            </div>
          </article>
        </div>
      </section>

      <!-- Blog posts -->
      <section id="blog" aria-labelledby="blog-heading" role="region" style="margin-top:1.25rem">
        <h2 id="blog-heading">From our blog</h2>
        <p class="deal-note">Guides, inspiration, and tips for smarter shopping.</p>
        <div class="blog-list" role="list">
          <article class="blog-item" role="listitem" aria-labelledby="b1-title">
            <div class="blog-thumb" role="img" aria-label="Image for 5 ways to style a tee">TEE</div>
            <div>
              <h3 id="b1-title" style="margin:0;font-size:1rem"><a href="#post1">5 Ways to Style Your Everyday Tee</a></h3>
              <div class="blog-meta">By Jane Doe • Feb 2, 2026</div>
              <p class="product-desc" style="margin-top:.4rem">Simple styling tricks to elevate a classic tee from casual to refined in minutes.</p>
              <p><a href="#post1" class="btn secondary" style="margin-top:.4rem;display:inline-block">Read more</a></p>
            </div>
          </article>

          <article class="blog-item" role="listitem" aria-labelledby="b2-title">
            <div class="blog-thumb" role="img" aria-label="Image for travel essentials">TRVL</div>
            <div>
              <h3 id="b2-title" style="margin:0;font-size:1rem"><a href="#post2">Travel Essentials: What to Pack for a Weekend</a></h3>
              <div class="blog-meta">By Team ShopSmart • Jan 28, 2026</div>
              <p class="product-desc" style="margin-top:.4rem">A compact packing list that keeps you prepared without overpacking.</p>
              <p><a href="#post2" class="btn secondary" style="margin-top:.4rem;display:inline-block">Read more</a></p>
            </div>
          </article>

          <article class="blog-item" role="listitem" aria-labelledby="b3-title">
            <div class="blog-thumb" role="img" aria-label="Image for home air care">HOME</div>
            <div>
              <h3 id="b3-title" style="margin:0;font-size:1rem"><a href="#post3">Keeping Indoor Air Clean: A Beginner's Guide</a></h3>
              <div class="blog-meta">By Alex Kim • Jan 12, 2026</div>
              <p class="product-desc" style="margin-top:.4rem">How air purifiers, plants, and habits can improve the air you breathe at home.</p>
              <p><a href="#post3" class="btn secondary" style="margin-top:.4rem;display:inline-block">Read more</a></p>
            </div>
          </article>
        </div>
      </section>

      <!-- Live region for screen reader announcements -->
      <div id="announcements" class="sr-only" role="status" aria-live="polite"></div>

    </div>
  </main>

  <footer role="contentinfo" aria-label="Footer">
    <div class="container footer-grid">
      <div>
        <strong>ShopSmart</strong>
        <div style="color:var(--muted);font-size:.95rem">© 2026 ShopSmart Inc. All rights reserved.</div>
      </div>
      <div style="display:flex;gap:1rem;align-items:center;">
        <a href="#help" aria-label="Help center">Help</a>
        <a href="#shipping" aria-label="Shipping information">Shipping</a>
        <a href="#returns" aria-label="Returns and refunds">Returns</a>
      </div>
    </div>
  </footer>

  <script>
    (function(){
      // Simple cart state and announcement
      const cartCountEl = document.getElementById('cart-count');
      const announcements = document.getElementById('announcements');
      let cartCount = 0;

      function announce(message){
        announcements.textContent = message;
      }

      document.addEventListener('click', function(e){
        const add = e.target.closest('.add-btn');
        if(add){
          const id = add.getAttribute('data-id') || 'item';
          cartCount++;
          cartCountEl.textContent = cartCount;
          // Brief visual feedback
          add.textContent = 'Added';
          add.setAttribute('disabled','true');
          setTimeout(() => {
            add.textContent = 'Add to cart';
            add.removeAttribute('disabled');
          }, 1200);
          announce('Added to cart: ' + id + '. You have ' + cartCount + ' items in your cart.');
        }
        const fav = e.target.closest('.fav-btn');
        if(fav){
          const pressed = fav.getAttribute('aria-pressed') === 'true';
          fav.setAttribute('aria-pressed', String(!pressed));
          fav.textContent = !pressed ? '♥' : '♡';
          announce((!pressed ? 'Added to wishlist.' : 'Removed from wishlist.'));
        }
      });

      // Countdown timers for deals
      function updateTimers(){
        const timers = document.querySelectorAll('.deal-timer');
        const now = new Date();
        timers.forEach(el => {
          const end = el.getAttribute('data-end');
          let endDate = new Date(end);
          if(isNaN(endDate)) { el.textContent = 'Ends soon'; return; }
          let diff = endDate - now;
          if(diff <= 0){
            el.textContent = 'Expired';
            el.style.color = 'var(--muted)';
            el.setAttribute('aria-live','polite');
            // Optionally announce when expired
          } else {
            const days = Math.floor(diff / (1000*60*60*24));
            diff -= days * (1000*60*60*24);
            const hours = Math.floor(diff / (1000*60*60));
            diff -= hours * (1000*60*60);
            const minutes = Math.floor(diff / (1000*60));
            const seconds = Math.floor((diff % (1000*60))/1000);
            let text = '';
            if(days>0) text = days + 'd ' + hours + 'h';
            else if(hours>0) text = hours + 'h ' + minutes + 'm';
            else text = minutes + 'm ' + seconds + 's';
            el.textContent = text;
            el.style.color = 'var(--danger)';
          }
        });
      }

      // Initialize and run every second
      updateTimers();
      setInterval(updateTimers, 1000);

      // Keyboard accessibility improvement: focus main on skip link click
      const skip = document.querySelector('.skip-link');
      skip.addEventListener('click', function(e){
        const main = document.getElementById('main');
        if(main){ main.focus(); }
      });

      // Ensure focus-visible behavior for mouse vs keyboard users
      (function(){
        let hadKeyboardEvent = false;
        function handleFirstTab(e){
          if(e.key === 'Tab'){
            document.documentElement.classList.add('user-is-tabbing');
            hadKeyboardEvent = true;
            window.removeEventListener('keydown', handleFirstTab);
          }
        }
        window.addEventListener('keydown', handleFirstTab);
      })();
    })();
  </script>
</body>
</html>