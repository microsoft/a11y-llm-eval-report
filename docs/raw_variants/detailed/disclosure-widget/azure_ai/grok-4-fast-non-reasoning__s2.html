<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expand/Collapse Widget Examples</title>
  <style>
    :root {
      --color-bg: #ffffff;
      --color-text: #1a1a1a;
      --color-muted-text: #6b7280;
      --color-border: #d1d5db;
      --color-focus: #3b82f6;
      --color-shadow: rgba(0, 0, 0, 0.1);
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: var(--color-text);
      background-color: var(--color-bg);
      margin: 0;
      padding: 2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .example {
      border: 1px solid var(--color-border);
      border-radius: 8px;
      margin-bottom: 2rem;
      overflow: hidden;
      box-shadow: 0 1px 3px var(--color-shadow);
    }

    .example h2 {
      margin: 0;
      padding: 1rem 1.5rem;
      background-color: #f9fafb;
      border-bottom: 1px solid var(--color-border);
      font-size: 1.125rem;
      font-weight: 600;
    }

    .accordion {
      border: none;
    }

    .accordion-header {
      display: flex;
      align-items: center;
      width: 100%;
      padding: 1rem 1.5rem;
      background-color: #f9fafb;
      border: none;
      text-align: left;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      color: var(--color-text);
      transition: background-color 0.2s ease;
    }

    .accordion-header:hover {
      background-color: #f3f4f6;
    }

    .accordion-header:focus {
      outline: 2px solid transparent;
      box-shadow: 0 0 0 3px var(--color-focus);
      border-radius: 4px;
    }

    .accordion-header[aria-expanded="true"] {
      background-color: #e5e7eb;
    }

    .accordion-icon {
      margin-left: auto;
      transition: transform 0.2s ease;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--color-muted-text);
    }

    .accordion-header[aria-expanded="true"] .accordion-icon {
      transform: rotate(180deg);
    }

    .accordion-icon svg {
      fill: currentColor;
      width: 16px;
      height: 16px;
    }

    .details {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, padding 0.3s ease;
      background-color: var(--color-bg);
      border-top: 1px solid var(--color-border);
    }

    .details[aria-hidden="false"] {
      max-height: 500px;
      padding: 1rem 1.5rem;
    }

    .details p {
      margin: 0 0 1rem 0;
      color: var(--color-text);
    }

    .details ul {
      margin: 0 0 1rem 1.5rem;
      padding: 0;
      color: var(--color-text);
    }

    .details li {
      margin-bottom: 0.5rem;
    }

    .sr-only:not(:focus):not(:active) {
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }

    @media (forced-colors: active) {
      .accordion-header {
        border: 1px solid ButtonBorder;
        background-color: ButtonFace;
        color: ButtonText;
      }

      .accordion-header:focus {
        border-color: ButtonText;
        background-color: Highlight;
        color: HighlightText;
      }

      .accordion-header[aria-expanded="true"] {
        background-color: Highlight;
        color: HighlightText;
      }

      .details {
        border-color: ButtonBorder;
        background-color: Canvas;
        color: CanvasText;
      }

      .accordion-icon {
        color: CanvasText;
      }
    }

    @media (max-width: 320px) {
      body {
        padding: 1rem;
      }

      .example h2 {
        font-size: 1rem;
        padding: 0.75rem 1rem;
      }

      .accordion-header {
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
      }

      .details[aria-hidden="false"] {
        padding: 0.75rem 1rem;
      }
    }
  </style>
</head>
<body>
  <a href="#maincontent" class="sr-only">Skip to main content</a>

  <header>
    <h1>Expand/Collapse Widget Examples</h1>
  </header>

  <main id="maincontent" tabindex="-1">
    <div class="example">
      <h2>Basic FAQ Item</h2>
      <div class="accordion">
        <button 
          class="accordion-header" 
          id="faq1" 
          aria-expanded="false" 
          aria-controls="faq1-content"
          type="button"
        >
          <span>What are your office hours?</span>
          <span class="accordion-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 10l5 5 5-5H7z"/>
            </svg>
          </span>
        </button>
        <div 
          class="details" 
          id="faq1-content" 
          role="region" 
          aria-labelledby="faq1"
          aria-hidden="true"
          tabindex="-1"
        >
          <p>Our office hours are Monday through Friday, 9:00 AM to 5:00 PM. We are closed on weekends and major holidays.</p>
        </div>
      </div>
    </div>

    <div class="example">
      <h2>Product Features</h2>
      <div class="accordion">
        <button 
          class="accordion-header" 
          id="features1" 
          aria-expanded="true" 
          aria-controls="features1-content"
          type="button"
        >
          <span>Core Functionality</span>
          <span class="accordion-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 10l5 5 5-5H7z"/>
            </svg>
          </span>
        </button>
        <div 
          class="details" 
          id="features1-content" 
          role="region" 
          aria-labelledby="features1"
          aria-hidden="false"
          tabindex="-1"
        >
          <p>Our platform includes essential features for modern workflow management:</p>
          <ul>
            <li>Real-time collaboration tools</li>
            <li>Task assignment and tracking</li>
            <li>Automated notifications</li>
            <li>Progress reporting and analytics</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="example">
      <h2>Accessibility Information</h2>
      <div class="accordion">
        <button 
          class="accordion-header" 
          id="access1" 
          aria-expanded="false" 
          aria-controls="access1-content"
          type="button"
        >
          <span>How does this component support accessibility?</span>
          <span class="accordion-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 10l5 5 5-5H7z"/>
            </svg>
          </span>
        </button>
        <div 
          class="details" 
          id="access1-content" 
          role="region" 
          aria-labelledby="access1"
          aria-hidden="true"
          tabindex="-1"
        >
          <p>This expand/collapse widget follows WCAG 2.2 Level AA guidelines:</p>
          <ul>
            <li><strong>Keyboard accessible:</strong> Can be operated using Tab and Space/Enter keys</li>
            <li><strong>Screen reader support:</strong> Uses proper ARIA attributes (aria-expanded, aria-controls)</li>
            <li><strong>Visible focus:</strong> Clear focus indicators for keyboard navigation</li>
            <li><strong>High contrast support:</strong> Adapts to forced colors mode</li>
            <li><strong>Sufficient contrast:</strong> Text meets 4.5:1 contrast ratio requirements</li>
          </ul>
        </div>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const accordions = document.querySelectorAll('.accordion-header');
      
      accordions.forEach(button => {
        button.addEventListener('click', function() {
          toggleAccordion(this);
        });

        // Handle keyboard activation
        button.addEventListener('keydown', function(event) {
          if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            toggleAccordion(this);
          }
        });
      });

      function toggleAccordion(button) {
        const isExpanded = button.getAttribute('aria-expanded') === 'true';
        const contentId = button.getAttribute('aria-controls');
        const content = document.getElementById(contentId);
        
        if (content) {
          // Toggle aria-expanded
          button.setAttribute('aria-expanded', !isExpanded);
          
          // Toggle content visibility
          content.setAttribute('aria-hidden', isExpanded);
          
          if (!isExpanded) {
            // Focus the content when expanding for screen readers
            content.focus();
          }
        }
      }
    });
  </script>
</body>
</html>