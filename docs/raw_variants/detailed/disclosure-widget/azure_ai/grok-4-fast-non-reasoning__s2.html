<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expand/Collapse Widget Examples</title>
  <style>
    :root {
      --color-bg: #ffffff;
      --color-text: #1a1a1a;
      --color-muted-text: #6b7280;
      --color-border: #d1d5db;
      --color-focus: #3b82f6;
      --color-heading: #111827;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: var(--color-text);
      background-color: var(--color-bg);
      margin: 0;
      padding: 2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .sr-only:not(:focus):not(:active) {
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }

    header {
      margin-bottom: 2rem;
    }

    h1 {
      color: var(--color-heading);
      margin: 0 0 1rem 0;
      font-size: 2rem;
    }

    main {
      margin-bottom: 2rem;
    }

    .example {
      margin-bottom: 3rem;
      border: 1px solid var(--color-border);
      border-radius: 8px;
      overflow: hidden;
    }

    .example h2 {
      background-color: #f9fafb;
      color: var(--color-heading);
      margin: 0;
      padding: 1rem 1.5rem;
      font-size: 1.25rem;
      border-bottom: 1px solid var(--color-border);
    }

    .accordion {
      position: relative;
    }

    .accordion-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      background-color: #f9fafb;
      border: none;
      width: 100%;
      text-align: left;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      color: var(--color-text);
      transition: background-color 0.2s ease;
    }

    .accordion-header:hover {
      background-color: #f3f4f6;
    }

    .accordion-header:focus {
      outline: 2px solid transparent;
      box-shadow: 0 0 0 3px var(--color-focus);
      border-radius: 4px;
    }

    .accordion-icon {
      width: 20px;
      height: 20px;
      transition: transform 0.2s ease;
      display: inline-block;
      flex-shrink: 0;
    }

    .accordion-icon.expanded {
      transform: rotate(180deg);
    }

    .details {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, padding 0.3s ease;
      background-color: var(--color-bg);
    }

    .details.expanded {
      max-height: 500px; /* Adjust based on content */
      padding: 1rem 1.5rem;
    }

    .details p {
      margin: 0 0 1rem 0;
      color: var(--color-text);
    }

    .details ul {
      margin: 0 0 1rem 1.5rem;
      padding: 0;
      color: var(--color-text);
    }

    .details li {
      margin-bottom: 0.5rem;
    }

    .example:last-child {
      margin-bottom: 0;
    }

    @media (max-width: 320px) {
      body {
        padding: 1rem;
      }
      
      .example h2,
      .accordion-header {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      
      .details.expanded {
        padding-left: 1rem;
        padding-right: 1rem;
      }
    }

    @media (forced-colors: active) {
      .accordion-header {
        border: 1px solid ButtonBorder;
        background-color: ButtonFace;
        color: ButtonText;
      }
      
      .accordion-header:hover,
      .accordion-header:focus {
        background-color: Highlight;
        color: HighlightText;
      }
      
      .accordion-icon {
        fill: currentColor;
      }
      
      .details {
        background-color: Canvas;
        color: CanvasText;
      }
      
      .example h2 {
        background-color: ButtonFace;
        color: ButtonText;
        border-bottom-color: ButtonBorder;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="#maincontent" class="sr-only">Skip to main content</a>
    <h1>Expand/Collapse Widget Examples</h1>
  </header>

  <nav aria-label="Breadcrumb">
    <ol style="list-style: none; padding: 0; margin: 0 0 2rem 0; display: flex; gap: 0.5rem;">
      <li><a href="#" style="color: var(--color-muted-text); text-decoration: none;">Home</a></li>
      <li style="color: var(--color-muted-text);">/</li>
      <li style="color: var(--color-text); font-weight: 600;">Components</li>
    </ol>
  </nav>

  <main id="maincontent" tabindex="-1">
    <section class="example">
      <h2>FAQ: What is responsive design?</h2>
      <div class="accordion">
        <button 
          class="accordion-header" 
          id="faq1-header"
          aria-expanded="false"
          aria-controls="faq1-content"
        >
          <span>What is responsive design?</span>
          <svg class="accordion-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M7 10l5 5 5-5z" fill="currentColor"/>
          </svg>
        </button>
        <div class="details" id="faq1-content" role="region" aria-labelledby="faq1-header">
          <p>Responsive design is an approach to web design that makes your web content adapt to different screen sizes and devices. It uses flexible layouts, images, and CSS media queries to ensure that the website looks good and functions well across all devices, from desktop computers to mobile phones.</p>
          <p>The goal is to provide an optimal viewing experience that is easy to read and navigate, with minimal resizing, panning, and scrolling required by the user.</p>
        </div>
      </div>
    </section>

    <section class="example">
      <h2>Product Features</h2>
      <div class="accordion">
        <button 
          class="accordion-header" 
          id="features-header"
          aria-expanded="false"
          aria-controls="features-content"
        >
          <span>Key Features</span>
          <svg class="accordion-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M7 10l5 5 5-5z" fill="currentColor"/>
          </svg>
        </button>
        <div class="details" id="features-content" role="region" aria-labelledby="features-header">
          <p>Our product offers a comprehensive set of features designed to meet your needs:</p>
          <ul>
            <li><strong>Accessibility First:</strong> Built with WCAG 2.2 AA compliance in mind, ensuring everyone can use our product.</li>
            <li><strong>Responsive Design:</strong> Works seamlessly across all devices and screen sizes.</li>
            <li><strong>Performance Optimized:</strong> Fast loading times and smooth interactions.</li>
            <li><strong>Customizable:</strong> Easily adapt the interface to match your brand and preferences.</li>
            <li><strong>Secure:</strong> Enterprise-grade security with regular updates and monitoring.</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="example">
      <h2>Installation Guide</h2>
      <div class="accordion">
        <button 
          class="accordion-header" 
          id="install-header"
          aria-expanded="true"
          aria-controls="install-content"
        >
          <span>Installation Steps</span>
          <svg class="accordion-icon expanded" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M7 10l5 5 5-5z" fill="currentColor"/>
          </svg>
        </button>
        <div class="details expanded" id="install-content" role="region" aria-labelledby="install-header">
          <ol style="margin: 0; padding-left: 1.5rem;">
            <li>Download the latest version from our official website.</li>
            <li>Extract the files to your preferred directory.</li>
            <li>Run the setup wizard and follow the on-screen instructions.</li>
            <li>Configure your preferences and connect to your data sources.</li>
            <li>Restart your application to apply all changes.</li>
          </ol>
          <p><strong>Note:</strong> Make sure you have the required system permissions before installation.</p>
        </div>
      </div>
    </section>
  </main>

  <footer style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--color-border); color: var(--color-muted-text); font-size: 0.875rem;">
    <p>&copy; 2024 Accessibility Examples. All rights reserved.</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const accordions = document.querySelectorAll('.accordion-header');
      
      accordions.forEach(button => {
        button.addEventListener('click', function() {
          const isExpanded = this.getAttribute('aria-expanded') === 'true';
          const content = document.getElementById(this.getAttribute('aria-controls'));
          const icon = this.querySelector('.accordion-icon');
          
          // Toggle aria-expanded
          this.setAttribute('aria-expanded', !isExpanded);
          
          // Toggle expanded class on content and icon
          content.classList.toggle('expanded');
          icon.classList.toggle('expanded');
          
          // Optional: Focus management for better UX
          if (!isExpanded) {
            // When expanding, focus the first focusable element inside
            const firstFocusable = content.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            if (firstFocusable) {
              firstFocusable.focus();
            }
          }
        });
        
        // Handle keyboard events
        button.addEventListener('keydown', function(event) {
          if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            this.click();
          }
        });
      });
    });
  </script>
</body>
</html>