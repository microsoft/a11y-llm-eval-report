<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expand/Collapse Widget Demo - Accessible Components</title>
<style>
:root {
  --color-bg: #ffffff;
  --color-text: #1a1a1a;
  --color-muted-text: #555555;
  --color-link: #0056b3;
  --color-border: #cccccc;
  --color-focus: #1a5fb4;
  --color-btn-bg: #f0f0f0;
  --color-btn-bg-hover: #e0e0e0;
  --color-btn-bg-active: #d0d0d0;
  --color-details-bg: #fafafa;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  font-size: 1rem;
  line-height: 1.5;
  color: var(--color-text);
  background-color: var(--color-bg);
}

.sr-only:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

header {
  border-bottom: 1px solid var(--color-border);
  padding: 0.75rem 1rem;
}

main {
  max-width: 40rem;
  margin: 0 auto;
  padding: 1.5rem 1rem;
}

footer {
  border-top: 1px solid var(--color-border);
  padding: 0.75rem 1rem;
  text-align: center;
  color: var(--color-muted-text);
  font-size: 0.875rem;
}

h1 {
  font-size: 1.75rem;
  margin: 0 0 0.5rem;
}

h2 {
  font-size: 1.25rem;
  margin: 1.5rem 0 0.5rem;
}

p {
  margin: 0 0 1rem;
}

.example {
  border: 1px solid var(--color-border);
  border-radius: 0.375rem;
  margin-bottom: 1.5rem;
  overflow: hidden;
}

.example-label {
  padding: 0.5rem 0.75rem;
  font-size: 0.8125rem;
  color: var(--color-muted-text);
  background-color: var(--color-btn-bg);
  border-bottom: 1px solid var(--color-border);
}

.toggle-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.75rem 1rem;
  border: none;
  background-color: var(--color-btn-bg);
  color: var(--color-text);
  font-size: 1rem;
  font-family: inherit;
  line-height: 1.5;
  cursor: pointer;
  text-align: left;
}

.toggle-btn:hover {
  background-color: var(--color-btn-bg-hover);
}

.toggle-btn:active {
  background-color: var(--color-btn-bg-active);
}

.toggle-btn:focus-visible {
  outline: 2px solid var(--color-focus);
  outline-offset: -2px;
  box-shadow: none;
}

.toggle-btn .icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.25rem;
  height: 1.25rem;
  flex-shrink: 0;
  transition: transform 0.2s ease;
}

.toggle-btn[aria-expanded="true"] .icon {
  transform: rotate(90deg);
}

.toggle-btn .icon svg {
  fill: currentColor;
  width: 0.75rem;
  height: 0.75rem;
}

.details {
  padding: 1rem;
  background-color: var(--color-details-bg);
  border-top: 1px solid var(--color-border);
}

.details[hidden] {
  display: none;
}

.details p:last-child {
  margin-bottom: 0;
}

.details ul {
  margin: 0 0 1rem;
  padding-left: 1.25rem;
}

.details ul:last-child {
  margin-bottom: 0;
}

@media (forced-colors: active) {
  .toggle-btn {
    border: 1px solid ButtonBorder;
  }

  .toggle-btn:focus-visible {
    outline: 2px solid Highlight;
    outline-offset: -2px;
  }

  .example {
    border: 1px solid CanvasText;
  }

  .details {
    border-top: 1px solid CanvasText;
  }

  .toggle-btn .icon svg {
    fill: currentColor;
    stroke: currentColor;
  }
}
</style>
</head>
<body>
<header>
  <a href="#maincontent" class="sr-only">Skip to main content</a>
  <p><strong>Accessible Expand/Collapse Widgets</strong></p>
</header>

<main id="maincontent" tabindex="-1">
  <h1>Expand/Collapse Widget Demo</h1>
  <p>The following examples demonstrate accessible disclosure (expand/collapse) widgets. Each toggle button uses <code>aria-expanded</code> to communicate its state and <code>aria-controls</code> to identify the content it controls.</p>

  <h2>Example 1: What is web accessibility?</h2>
  <div class="example">
    <div class="example-label">Disclosure widget</div>
    <button
      type="button"
      class="toggle-btn"
      aria-expanded="false"
      aria-controls="details-1"
      id="toggle-1"
    >
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 10 14" xmlns="http://www.w3.org/2000/svg" focusable="false">
          <polygon points="0,0 10,7 0,14" />
        </svg>
      </span>
      What is web accessibility?
    </button>
    <div class="details" id="details-1" role="region" aria-labelledby="toggle-1" hidden>
      <p>Web accessibility means that websites, tools, and technologies are designed and developed so that people with disabilities can use them. More specifically, people can perceive, understand, navigate, and interact with the web, and they can contribute to the web.</p>
      <p>Web accessibility encompasses all disabilities that affect access to the web, including auditory, cognitive, neurological, physical, speech, and visual disabilities.</p>
    </div>
  </div>

  <h2>Example 2: Keyboard shortcuts</h2>
  <div class="example">
    <div class="example-label">Disclosure widget</div>
    <button
      type="button"
      class="toggle-btn"
      aria-expanded="false"
      aria-controls="details-2"
      id="toggle-2"
    >
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 10 14" xmlns="http://www.w3.org/2000/svg" focusable="false">
          <polygon points="0,0 10,7 0,14" />
        </svg>
      </span>
      Keyboard shortcuts
    </button>
    <div class="details" id="details-2" role="region" aria-labelledby="toggle-2" hidden>
      <p>Here are some common keyboard shortcuts used in this application:</p>
      <ul>
        <li><strong>Tab</strong> — Move focus to the next interactive element</li>
        <li><strong>Shift + Tab</strong> — Move focus to the previous interactive element</li>
        <li><strong>Enter or Space</strong> — Activate the focused button</li>
        <li><strong>Escape</strong> — Close a dialog or dismiss a notification</li>
      </ul>
    </div>
  </div>

  <h2>Example 3: Initially expanded</h2>
  <div class="example">
    <div class="example-label">Disclosure widget (starts expanded)</div>
    <button
      type="button"
      class="toggle-btn"
      aria-expanded="true"
      aria-controls="details-3"
      id="toggle-3"
    >
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 10 14" xmlns="http://www.w3.org/2000/svg" focusable="false">
          <polygon points="0,0 10,7 0,14" />
        </svg>
      </span>
      Terms and conditions summary
    </button>
    <div class="details" id="details-3" role="region" aria-labelledby="toggle-3">
      <p>By using this service, you agree to the following terms:</p>
      <ul>
        <li>You will use the service in compliance with all applicable laws.</li>
        <li>You are responsible for maintaining the confidentiality of your account.</li>
        <li>We reserve the right to modify or discontinue the service at any time.</li>
        <li>Your use of the service is at your own risk.</li>
      </ul>
      <p>For the full terms and conditions, please contact our support team.</p>
    </div>
  </div>
</main>

<footer>
  <p>Expand/Collapse Widget Demo &mdash; Accessible Components</p>
</footer>

<script>
(function () {
  const toggleButtons = document.querySelectorAll('.toggle-btn[aria-controls]');

  toggleButtons.forEach(function (button) {
    button.addEventListener('click', function () {
      const expanded = button.getAttribute('aria-expanded') === 'true';
      const controlledId = button.getAttribute('aria-controls');
      const controlledElement = document.getElementById(controlledId);

      if (!controlledElement) return;

      if (expanded) {
        button.setAttribute('aria-expanded', 'false');
        controlledElement.setAttribute('hidden', '');
      } else {
        button.setAttribute('aria-expanded', 'true');
        controlledElement.removeAttribute('hidden');
      }
    });
  });
})();
</script>
</body>
</html>