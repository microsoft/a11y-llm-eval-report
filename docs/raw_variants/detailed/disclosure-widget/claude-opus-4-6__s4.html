<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expand/Collapse Widget Demo - Components - Accessibility Examples</title>
<style>
:root {
  --color-bg: #ffffff;
  --color-text: #1a1a1a;
  --color-muted-text: #555555;
  --color-link: #0051a8;
  --color-border: #636363;
  --color-focus: #1a5fb4;
  --color-primary: #0051a8;
  --color-primary-text: #ffffff;
  --color-surface: #f5f5f5;
  --color-surface-hover: #e8e8e8;
  --radius: 6px;
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-size: 1rem;
  line-height: 1.5;
  color: var(--color-text);
  background-color: var(--color-bg);
}

.sr-only:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

header {
  background-color: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-sm) var(--space-md);
}

main {
  max-width: 48rem;
  margin: 0 auto;
  padding: var(--space-lg) var(--space-md);
}

h1 {
  font-size: 1.75rem;
  margin: 0 0 var(--space-sm) 0;
}

h2 {
  font-size: 1.35rem;
  margin: var(--space-xl) 0 var(--space-sm) 0;
}

p {
  margin: 0 0 var(--space-md) 0;
}

.example {
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-lg);
  margin-bottom: var(--space-lg);
  background-color: var(--color-bg);
}

.example + .example {
  margin-top: var(--space-lg);
}

.toggle-button {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-sm) var(--space-md);
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text);
  cursor: pointer;
  line-height: 1.5;
  transition: background-color 0.15s ease;
}

.toggle-button:hover {
  background-color: var(--color-surface-hover);
}

.toggle-button:focus-visible {
  outline: 3px solid var(--color-focus);
  outline-offset: 2px;
  box-shadow: none;
}

.toggle-button:focus {
  outline: 3px solid var(--color-focus);
  outline-offset: 2px;
}

@supports selector(:focus-visible) {
  .toggle-button:focus:not(:focus-visible) {
    outline: none;
  }
}

.toggle-button .icon {
  display: inline-block;
  width: 0.75em;
  height: 0.75em;
  transition: transform 0.2s ease;
  flex-shrink: 0;
}

.toggle-button .icon svg {
  display: block;
  width: 100%;
  height: 100%;
  fill: currentColor;
  stroke: currentColor;
}

.toggle-button[aria-expanded="true"] .icon {
  transform: rotate(90deg);
}

.details {
  margin-top: var(--space-sm);
  padding: var(--space-md);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  background-color: var(--color-surface);
  overflow-wrap: anywhere;
}

.details[hidden] {
  display: none;
}

.details p:last-child {
  margin-bottom: 0;
}

.details ul {
  margin: 0 0 var(--space-md) 0;
  padding-left: var(--space-lg);
}

.details ul:last-child {
  margin-bottom: 0;
}

.details li {
  margin-bottom: var(--space-xs);
}

footer {
  border-top: 1px solid var(--color-border);
  padding: var(--space-md);
  text-align: center;
  color: var(--color-muted-text);
  font-size: 0.875rem;
}

@media (forced-colors: active) {
  .toggle-button {
    border: 2px solid ButtonBorder;
    color: ButtonText;
    background: ButtonFace;
  }

  .toggle-button:hover {
    background: Highlight;
    color: HighlightText;
  }

  .toggle-button:focus {
    outline: 3px solid Highlight;
  }

  .details {
    border: 1px solid CanvasText;
  }

  .example {
    border: 1px solid CanvasText;
  }

  .icon svg {
    fill: currentColor;
    stroke: currentColor;
  }
}

@media (max-width: 320px) {
  main {
    padding: var(--space-md) var(--space-sm);
  }

  .example {
    padding: var(--space-md);
  }

  .toggle-button {
    width: 100%;
    justify-content: flex-start;
  }
}
</style>
</head>
<body>
<header>
  <a href="#maincontent" class="sr-only">Skip to main content</a>
  <nav aria-label="Site">
    <strong>Accessibility Examples</strong>
  </nav>
</header>

<main id="maincontent" tabindex="-1">
  <h1>Expand/Collapse Widget Demo</h1>
  <p>These examples demonstrate accessible expand/collapse (disclosure) widgets. Each toggle button uses <code>aria-expanded</code> to communicate state and <code>aria-controls</code> to identify the controlled content region.</p>

  <h2>Example 1: What is web accessibility?</h2>
  <div class="example">
    <button
      type="button"
      class="toggle-button"
      aria-expanded="false"
      aria-controls="details-1"
      id="toggle-1"
    >
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" focusable="false">
          <path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      What is web accessibility?
    </button>
    <div class="details" id="details-1" role="region" aria-labelledby="toggle-1" hidden>
      <p>Web accessibility means that websites, tools, and technologies are designed and developed so that people with disabilities can use them. More specifically, people can perceive, understand, navigate, and interact with the web, and they can contribute to the web.</p>
      <p>Web accessibility encompasses all disabilities that affect access to the web, including auditory, cognitive, neurological, physical, speech, and visual disabilities.</p>
    </div>
  </div>

  <h2>Example 2: Keyboard shortcuts</h2>
  <div class="example">
    <button
      type="button"
      class="toggle-button"
      aria-expanded="false"
      aria-controls="details-2"
      id="toggle-2"
    >
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" focusable="false">
          <path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      Keyboard shortcuts
    </button>
    <div class="details" id="details-2" role="region" aria-labelledby="toggle-2" hidden>
      <p>Here are some common keyboard shortcuts used in web applications:</p>
      <ul>
        <li><strong>Tab</strong> — Move focus to the next interactive element</li>
        <li><strong>Shift + Tab</strong> — Move focus to the previous interactive element</li>
        <li><strong>Enter or Space</strong> — Activate a button or link</li>
        <li><strong>Escape</strong> — Close a dialog or dismiss a popup</li>
        <li><strong>Arrow keys</strong> — Navigate within composite widgets such as menus, tabs, or grids</li>
      </ul>
    </div>
  </div>

  <h2>Example 3: Frequently asked questions</h2>
  <div class="example">
    <button
      type="button"
      class="toggle-button"
      aria-expanded="false"
      aria-controls="details-3"
      id="toggle-3"
    >
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" focusable="false">
          <path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      Do I need to use ARIA for a disclosure widget?
    </button>
    <div class="details" id="details-3" role="region" aria-labelledby="toggle-3" hidden>
      <p>You can use the native HTML <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements for a built-in disclosure widget with no JavaScript required. However, if you need more control over styling, animation, or behavior, a custom implementation using a <code>&lt;button&gt;</code> with <code>aria-expanded</code> and <code>aria-controls</code> is a solid, accessible approach.</p>
      <p>The key requirements are:</p>
      <ul>
        <li>The toggle must be a <code>&lt;button&gt;</code> (or have <code>role="button"</code>).</li>
        <li>The button must have <code>aria-expanded</code> set to <code>true</code> or <code>false</code> to reflect the current state.</li>
        <li>The controlled content should be hidden when collapsed and visible when expanded.</li>
        <li>Optionally, <code>aria-controls</code> can link the button to the content region.</li>
      </ul>
    </div>
  </div>
</main>

<footer>
  <p>Expand/Collapse Widget Demo — Accessibility Examples</p>
</footer>

<script>
  document.querySelectorAll('.toggle-button').forEach(function(button) {
    button.addEventListener('click', function() {
      var expanded = this.getAttribute('aria-expanded') === 'true';
      var targetId = this.getAttribute('aria-controls');
      var target = document.getElementById(targetId);

      this.setAttribute('aria-expanded', String(!expanded));

      if (expanded) {
        target.setAttribute('hidden', '');
      } else {
        target.removeAttribute('hidden');
      }
    });
  });
</script>
</body>
</html>