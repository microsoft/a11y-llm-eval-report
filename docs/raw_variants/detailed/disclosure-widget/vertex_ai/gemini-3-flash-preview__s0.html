<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accessible Expand/Collapse Widgets - Component Examples</title>
  <style>
    :root {
      --color-bg: #ffffff;
      --color-text: #1a1a1a;
      --color-primary: #005a9c;
      --color-focus: #ffbf47;
      --color-border: #707070;
      --color-bg-muted: #f4f4f4;
    }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      line-height: 1.5;
      margin: 0;
      padding: 2rem;
      background-color: var(--color-bg);
      color: var(--color-text);
    }

    .sr-only:not(:focus):not(:active) {
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }

    main:focus {
      outline: none;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 1.5rem;
    }

    h2 {
      font-size: 1.5rem;
      margin-top: 2rem;
    }

    .example {
      border: 1px solid var(--color-border);
      padding: 1.5rem;
      margin-bottom: 2rem;
      border-radius: 4px;
      max-width: 40rem;
    }

    /* Disclosure Button Styles */
    .disclosure-button {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 0.75rem 1rem;
      font-size: 1.125rem;
      font-weight: bold;
      text-align: left;
      background-color: var(--color-bg-muted);
      border: 2px solid var(--color-border);
      border-radius: 4px;
      cursor: pointer;
      color: var(--color-text);
    }

    .disclosure-button:hover {
      background-color: #e0e0e0;
    }

    .disclosure-button:focus {
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
    }

    .disclosure-button .icon {
      display: inline-block;
      width: 0.75rem;
      height: 0.75rem;
      border-right: 3px solid currentColor;
      border-bottom: 3px solid currentColor;
      transform: rotate(-45deg);
      transition: transform 0.2s ease-in-out;
      margin-left: 1rem;
    }

    .disclosure-button[aria-expanded="true"] .icon {
      transform: rotate(45deg);
    }

    /* Content Container */
    .details {
      padding: 1rem;
      border: 2px solid var(--color-border);
      border-top: none;
      background-color: var(--color-bg);
    }

    .details[hidden] {
      display: none;
    }

    /* Native Details/Summary Styling */
    details.example-native {
      border: 2px solid var(--color-border);
      border-radius: 4px;
    }

    details.example-native summary {
      padding: 0.75rem 1rem;
      font-weight: bold;
      cursor: pointer;
      background-color: var(--color-bg-muted);
    }

    details.example-native summary:focus {
      outline: 3px solid var(--color-focus);
      outline-offset: -3px;
    }

    details.example-native .details {
      border: none;
      padding: 1rem;
    }

    @media (forced-colors: active) {
      .disclosure-button, .details, details.example-native {
        border: 1px solid ButtonBorder;
      }
      .disclosure-button:focus, details.example-native summary:focus {
        outline: 2px solid Highlight;
      }
    }

    @media (max-width: 320px) {
      body {
        padding: 1rem;
      }
      .example {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>

  <header>
    <a href="#maincontent" class="sr-only">Skip to main content</a>
  </header>

  <main id="maincontent" tabindex="-1">
    <h1>Expand/Collapse Widget Examples</h1>
    
    <p>This page demonstrates accessible patterns for disclosure widgets (expand/collapse). These components ensure that screen reader users are notified of state changes and keyboard users can easily operate the controls.</p>

    <section aria-labelledby="heading-custom">
      <h2 id="heading-custom">1. Custom ARIA Disclosure</h2>
      <p>This version uses a standard <code>&lt;button&gt;</code> with <code>aria-expanded</code> and <code>aria-controls</code>.</p>
      
      <div class="example">
        <button 
          type="button" 
          id="btn-1" 
          class="disclosure-button" 
          aria-expanded="false" 
          aria-controls="content-1">
          <span>Shipping Information</span>
          <span class="icon" aria-hidden="true"></span>
        </button>
        <div id="content-1" class="details" hidden>
          <p>Standard shipping takes 3-5 business days. Express shipping is available for an additional fee and typically arrives within 1-2 business days. All orders include a tracking number sent via email.</p>
        </div>
      </div>
    </section>

    <section aria-labelledby="heading-native">
      <h2 id="heading-native">2. Native HTML Details</h2>
      <p>This version uses the native <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements, which have built-in accessibility support.</p>
      
      <div class="example">
        <details class="example-native">
          <summary>Return Policy</summary>
          <div class="details">
            <p>Items can be returned within 30 days of purchase. Products must be in their original packaging and unused condition. Please include your receipt or proof of purchase to process the return.</p>
          </div>
        </details>
      </div>
    </section>

  </main>

  <footer>
    <hr>
    <p>&copy; 2023 Accessible Components Lab. All examples meet WCAG 2.2 AA standards.</p>
  </footer>

  <script>
    /**
     * Simple script to handle the custom disclosure toggle.
     * Native <details> handles its own state.
     */
    document.addEventListener('DOMContentLoaded', () => {
      const toggleButton = document.getElementById('btn-1');
      const content = document.getElementById('content-1');

      if (toggleButton && content) {
        toggleButton.addEventListener('click', () => {
          const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
          
          // Toggle state
          toggleButton.setAttribute('aria-expanded', !isExpanded);
          content.hidden = isExpanded;
        });
      }
    });
  </script>
</body>
</html>