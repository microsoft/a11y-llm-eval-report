<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget - Demonstration</title>
    <style>
        :root {
            --color-bg: #ffffff;
            --color-text: #1a1a1a;
            --color-muted-text: #4a4a4a;
            --color-link: #0056b3;
            --color-border: #cccccc;
            --color-focus: #005fcc;
            --color-button-bg: #f5f5f5;
            --color-button-hover: #e8e8e8;
            --color-button-text: #1a1a1a;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--color-bg);
            color: var(--color-text);
        }

        .sr-only:not(:focus):not(:active) {
            clip: rect(0 0 0 0);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
        }

        header {
            background-color: var(--color-button-bg);
            border-bottom: 1px solid var(--color-border);
            padding: 1rem 2rem;
        }

        header h1 {
            margin: 0;
            font-size: 1.5rem;
        }

        main {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }

        main:focus {
            outline: none;
        }

        .example {
            margin-bottom: 3rem;
            border: 1px solid var(--color-border);
            border-radius: 4px;
            padding: 1.5rem;
            background-color: var(--color-bg);
        }

        .example h2 {
            margin-top: 0;
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .expand-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background-color: var(--color-button-bg);
            color: var(--color-button-text);
            border: 2px solid var(--color-border);
            padding: 0.75rem 1rem;
            font-size: 1rem;
            font-family: inherit;
            cursor: pointer;
            border-radius: 4px;
            width: 100%;
            text-align: left;
            min-width: 0;
        }

        .expand-button:hover {
            background-color: var(--color-button-hover);
        }

        .expand-button:focus {
            outline: 2px solid var(--color-focus);
            outline-offset: 2px;
            box-shadow: 0 0 0 4px rgba(0, 95, 204, 0.1);
        }

        @media (forced-colors: active) {
            .expand-button:focus {
                outline: 2px solid ButtonBorder;
            }
        }

        .expand-icon {
            display: inline-block;
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid currentColor;
            transition: transform 0.2s ease;
            flex-shrink: 0;
        }

        .expand-button[aria-expanded="false"] .expand-icon {
            transform: rotate(-90deg);
        }

        .expand-button[aria-expanded="true"] .expand-icon {
            transform: rotate(0deg);
        }

        .details {
            margin-top: 1rem;
            padding: 1rem;
            background-color: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: 4px;
            overflow-wrap: anywhere;
        }

        .details[hidden] {
            display: none;
        }

        .details p {
            margin-top: 0;
        }

        .details p:last-child {
            margin-bottom: 0;
        }

        .details ul {
            padding-left: 1.5rem;
        }

        footer {
            margin-top: 4rem;
            padding: 2rem;
            text-align: center;
            color: var(--color-muted-text);
            border-top: 1px solid var(--color-border);
        }

        @media (max-width: 320px) {
            body {
                font-size: 14px;
            }

            main {
                padding: 1rem;
            }

            .example {
                padding: 1rem;
            }

            header {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <a href="#maincontent" class="sr-only">Skip to main content</a>
        <h1>Expand/Collapse Widget Demonstration</h1>
    </header>

    <main id="maincontent" tabindex="-1">
        <h2>Examples</h2>

        <div class="example">
            <h3>Basic Expand/Collapse</h3>
            <button type="button" class="expand-button" aria-expanded="false" aria-controls="details1">
                <span class="expand-icon" aria-hidden="true"></span>
                <span>Show more information</span>
            </button>
            <div id="details1" class="details" hidden>
                <p>This is additional content that can be expanded or collapsed. Users can access this content by activating the button above.</p>
                <p>The widget uses proper ARIA attributes to communicate its state to assistive technologies.</p>
            </div>
        </div>

        <div class="example">
            <h3>FAQ Item</h3>
            <button type="button" class="expand-button" aria-expanded="false" aria-controls="details2">
                <span class="expand-icon" aria-hidden="true"></span>
                <span>What are the keyboard shortcuts?</span>
            </button>
            <div id="details2" class="details" hidden>
                <p>You can operate this widget using the following keyboard controls:</p>
                <ul>
                    <li><strong>Enter or Space:</strong> Toggle the expand/collapse state</li>
                    <li><strong>Tab:</strong> Move focus to the next interactive element</li>
                    <li><strong>Shift + Tab:</strong> Move focus to the previous interactive element</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <h3>Product Details</h3>
            <button type="button" class="expand-button" aria-expanded="false" aria-controls="details3">
                <span class="expand-icon" aria-hidden="true"></span>
                <span>View specifications</span>
            </button>
            <div id="details3" class="details" hidden>
                <h4>Technical Specifications</h4>
                <p><strong>Dimensions:</strong> 10" x 8" x 2"</p>
                <p><strong>Weight:</strong> 2.5 lbs</p>
                <p><strong>Material:</strong> Recycled aluminum</p>
                <p><strong>Color options:</strong> Silver, Space Gray, Gold</p>
                <p><strong>Warranty:</strong> 2 years limited warranty</p>
            </div>
        </div>

        <div class="example">
            <h3>Long Content Example</h3>
            <button type="button" class="expand-button" aria-expanded="false" aria-controls="details4">
                <span class="expand-icon" aria-hidden="true"></span>
                <span>Read full article</span>
            </button>
            <div id="details4" class="details" hidden>
                <h4>Understanding Accessibility</h4>
                <p>Accessibility ensures that websites and applications can be used by everyone, including people with disabilities. This includes individuals who are blind or have low vision, are deaf or hard of hearing, have mobility impairments, or have cognitive disabilities.</p>
                <p>When building expand/collapse widgets, it's essential to ensure they work with keyboards, screen readers, and other assistive technologies. The widget should clearly communicate its current state (expanded or collapsed) and allow users to change that state easily.</p>
                <p>Key accessibility features include:</p>
                <ul>
                    <li>Proper semantic HTML and ARIA attributes</li>
                    <li>Keyboard operability with visible focus indicators</li>
                    <li>Sufficient color contrast for all text and controls</li>
                    <li>Support for high contrast and forced colors modes</li>
                    <li>Responsive design that works at narrow viewport widths</li>
                </ul>
                <p>By following these principles, we create inclusive experiences that benefit all users.</p>
            </div>
        </div>
    </main>

    <footer>
        <p>Expand/Collapse Widget Examples</p>
    </footer>

    <script>
        // Initialize all expand/collapse buttons
        const buttons = document.querySelectorAll('.expand-button');
        
        buttons.forEach(button => {
            button.addEventListener('click', function() {
                const expanded = this.getAttribute('aria-expanded') === 'true';
                const controlsId = this.getAttribute('aria-controls');
                const details = document.getElementById(controlsId);
                
                if (!details) return;
                
                // Toggle state
                this.setAttribute('aria-expanded', !expanded);
                details.hidden = expanded;
            });
        });
    </script>
</body>
</html>