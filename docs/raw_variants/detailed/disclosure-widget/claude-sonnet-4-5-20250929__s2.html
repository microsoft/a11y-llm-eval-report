<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expand/Collapse Widget - Demonstration</title>
<style>
:root {
  --color-bg: #ffffff;
  --color-text: #1a1a1a;
  --color-muted-text: #595959;
  --color-border: #cccccc;
  --color-focus: #0066cc;
  --color-link: #0066cc;
  --color-button-bg: #f5f5f5;
  --color-button-hover: #e8e8e8;
  --color-button-active: #d9d9d9;
}

* {
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  line-height: 1.6;
  margin: 0;
  padding: 2rem;
  background-color: var(--color-bg);
  color: var(--color-text);
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.sr-only:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

h1 {
  font-size: 2rem;
  margin-bottom: 1.5rem;
}

h2 {
  font-size: 1.5rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.example {
  margin-bottom: 3rem;
  padding: 1.5rem;
  border: 1px solid var(--color-border);
  border-radius: 4px;
}

.expand-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.75rem 1rem;
  background-color: var(--color-button-bg);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-text);
  cursor: pointer;
  text-align: left;
}

.expand-button:hover {
  background-color: var(--color-button-hover);
}

.expand-button:active {
  background-color: var(--color-button-active);
}

.expand-button:focus {
  outline: 2px solid var(--color-focus);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.1);
}

@media (forced-colors: active) {
  .expand-button:focus {
    outline: 2px solid ButtonBorder;
  }
}

.expand-icon {
  width: 1rem;
  height: 1rem;
  transition: transform 0.2s ease;
  flex-shrink: 0;
  fill: currentColor;
  stroke: currentColor;
}

.expand-button[aria-expanded="true"] .expand-icon {
  transform: rotate(90deg);
}

.details {
  margin-top: 1rem;
  padding: 1rem;
  background-color: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 4px;
}

.details[hidden] {
  display: none;
}

.details p:first-child {
  margin-top: 0;
}

.details p:last-child {
  margin-bottom: 0;
}

.details ul {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.details li {
  margin-bottom: 0.25rem;
}

@media (max-width: 320px) {
  body {
    padding: 1rem;
  }

  .example {
    padding: 1rem;
  }

  .expand-button {
    padding: 0.5rem 0.75rem;
    font-size: 0.9375rem;
  }

  .details {
    padding: 0.75rem;
  }
}
</style>
</head>
<body>
<a href="#maincontent" class="sr-only">Skip to main content</a>

<header>
  <h1>Expand/Collapse Widget Examples</h1>
</header>

<main id="maincontent" tabindex="-1">
  <h2>Basic Expand/Collapse</h2>
  <div class="example">
    <button type="button" class="expand-button" aria-expanded="false" aria-controls="details-1">
      <svg class="expand-icon" aria-hidden="true" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
        <path d="M6 4l4 4-4 4" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>What is accessibility?</span>
    </button>
    <div id="details-1" class="details" hidden>
      <p>Accessibility ensures that digital content and applications are usable by everyone, including people with disabilities. This includes considerations for visual, auditory, motor, and cognitive abilities.</p>
      <p>Key principles include providing text alternatives, ensuring keyboard operability, maintaining sufficient color contrast, and creating predictable, consistent interfaces.</p>
    </div>
  </div>

  <h2>Multiple Expand/Collapse Widgets</h2>
  <div class="example">
    <button type="button" class="expand-button" aria-expanded="false" aria-controls="details-2">
      <svg class="expand-icon" aria-hidden="true" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
        <path d="M6 4l4 4-4 4" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Why is WCAG important?</span>
    </button>
    <div id="details-2" class="details" hidden>
      <p>The Web Content Accessibility Guidelines (WCAG) provide a shared standard for web accessibility. Following WCAG helps ensure your content is accessible to a wide range of users and may be required by law in many jurisdictions.</p>
      <p>WCAG 2.2 Level AA is the most commonly referenced standard for web accessibility compliance.</p>
    </div>
  </div>

  <div class="example">
    <button type="button" class="expand-button" aria-expanded="false" aria-controls="details-3">
      <svg class="expand-icon" aria-hidden="true" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
        <path d="M6 4l4 4-4 4" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>How do I test for accessibility?</span>
    </button>
    <div id="details-3" class="details" hidden>
      <p>Testing for accessibility involves multiple approaches:</p>
      <ul>
        <li>Automated testing tools like Accessibility Insights, axe DevTools, or WAVE</li>
        <li>Manual keyboard navigation testing</li>
        <li>Screen reader testing with NVDA, JAWS, or VoiceOver</li>
        <li>Color contrast verification</li>
        <li>Testing with browser zoom and text scaling</li>
        <li>User testing with people who have disabilities</li>
      </ul>
      <p>No single method catches all issues; a combination of approaches is essential.</p>
    </div>
  </div>

  <h2>Expand/Collapse with Rich Content</h2>
  <div class="example">
    <button type="button" class="expand-button" aria-expanded="false" aria-controls="details-4">
      <svg class="expand-icon" aria-hidden="true" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
        <path d="M6 4l4 4-4 4" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Common accessibility mistakes to avoid</span>
    </button>
    <div id="details-4" class="details" hidden>
      <p>Here are some frequent accessibility issues and how to avoid them:</p>
      <ul>
        <li><strong>Missing alt text:</strong> Always provide meaningful alternative text for informative images, or use empty alt text (alt="") for decorative images.</li>
        <li><strong>Poor color contrast:</strong> Ensure text has at least 4.5:1 contrast ratio against its background (3:1 for large text).</li>
        <li><strong>Keyboard traps:</strong> Users must be able to navigate to and away from all interactive elements using only the keyboard.</li>
        <li><strong>Missing form labels:</strong> Every form input needs a programmatically associated label element.</li>
        <li><strong>Unclear focus indicators:</strong> Focus must be clearly visible with at least 3:1 contrast against adjacent colors.</li>
        <li><strong>Relying on color alone:</strong> Don't use color as the only way to convey information (like errors or required fields).</li>
      </ul>
      <p>Regular testing and following WCAG guidelines helps prevent these issues.</p>
    </div>
  </div>
</main>

<script>
(function() {
  const buttons = document.querySelectorAll('.expand-button');
  
  buttons.forEach(button => {
    button.addEventListener('click', function() {
      const expanded = this.getAttribute('aria-expanded') === 'true';
      const controlsId = this.getAttribute('aria-controls');
      const details = document.getElementById(controlsId);
      
      if (expanded) {
        this.setAttribute('aria-expanded', 'false');
        details.hidden = true;
      } else {
        this.setAttribute('aria-expanded', 'true');
        details.hidden = false;
      }
    });
  });
})();
</script>
</body>
</html>