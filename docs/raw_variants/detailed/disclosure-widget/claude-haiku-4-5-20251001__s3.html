<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget - Examples</title>
    <style>
        :root {
            --color-bg: #ffffff;
            --color-text: #1a1a1a;
            --color-border: #cccccc;
            --color-focus: #0066cc;
            --color-focus-bg: #e6f2ff;
            --color-muted-text: #666666;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            padding: 20px;
            margin: 0;
        }

        header {
            margin-bottom: 40px;
        }

        .sr-only:not(:focus):not(:active) {
            clip: rect(0 0 0 0);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
        }

        h1 {
            font-size: 2rem;
            margin: 0 0 10px 0;
        }

        main {
            max-width: 800px;
            margin: 0 auto;
        }

        .example {
            margin-bottom: 40px;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 20px;
            background-color: #fafafa;
        }

        .example h2 {
            font-size: 1.25rem;
            margin: 0 0 15px 0;
        }

        .example p {
            margin: 0 0 15px 0;
            color: var(--color-muted-text);
            font-size: 0.95rem;
        }

        /* Native details/summary widget styling */
        details {
            border: 1px solid var(--color-border);
            border-radius: 6px;
            padding: 0;
            background-color: var(--color-bg);
        }

        summary {
            padding: 12px 16px;
            cursor: pointer;
            user-select: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--color-text);
        }

        summary:hover {
            background-color: #f5f5f5;
        }

        summary:focus {
            outline: 2px solid var(--color-focus);
            outline-offset: 2px;
            border-radius: 4px;
        }

        summary::marker {
            color: var(--color-focus);
        }

        .details {
            border-top: 1px solid var(--color-border);
            padding: 16px;
            background-color: #fafafa;
        }

        /* Custom button-based expand/collapse */
        .custom-expander {
            border: 1px solid var(--color-border);
            border-radius: 6px;
            padding: 0;
            background-color: var(--color-bg);
        }

        .expander-trigger {
            width: 100%;
            padding: 12px 16px;
            border: none;
            background-color: var(--color-bg);
            border-bottom: 1px solid var(--color-border);
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            color: var(--color-text);
            display: flex;
            align-items: center;
            gap: 10px;
            border-radius: 6px 6px 0 0;
            transition: background-color 0.2s ease;
        }

        .expander-trigger:hover {
            background-color: #f5f5f5;
        }

        .expander-trigger:focus {
            outline: 2px solid var(--color-focus);
            outline-offset: -2px;
            box-shadow: inset 0 0 0 2px var(--color-focus);
        }

        .expander-trigger:active {
            background-color: #eeeeee;
        }

        .expander-trigger[aria-expanded="true"] {
            border-bottom: none;
            border-radius: 6px 6px 0 0;
        }

        .expander-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            transition: transform 0.2s ease;
        }

        .expander-trigger[aria-expanded="true"] .expander-icon {
            transform: rotate(180deg);
        }

        .expander-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 16px;
        }

        .expander-trigger[aria-expanded="true"] + .expander-content {
            max-height: 500px;
            padding: 16px;
        }

        .expander-content-inner {
            background-color: #fafafa;
        }

        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid var(--color-border);
            color: var(--color-muted-text);
            font-size: 0.9rem;
            text-align: center;
        }

        @media (forced-colors: active) {
            details,
            .custom-expander {
                border: 1px solid ButtonBorder;
            }

            summary,
            .expander-trigger {
                border-color: ButtonBorder;
                color: ButtonText;
            }

            summary:focus,
            .expander-trigger:focus {
                outline: 2px solid Highlight;
                outline-offset: 2px;
                box-shadow: none;
            }

            summary:hover,
            .expander-trigger:hover {
                background-color: Canvas;
            }

            .details {
                border-top-color: ButtonBorder;
                background-color: Canvas;
            }

            .expander-content-inner {
                background-color: Canvas;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .expander-icon,
            .expander-content {
                transition: none;
            }
        }
    </style>
</head>
<body>
    <a href="#maincontent" class="sr-only">Skip to main content</a>

    <header>
        <h1>Expand/Collapse Widget Examples</h1>
        <p>Demonstrations of accessible expand/collapse patterns.</p>
    </header>

    <main id="maincontent" tabindex="-1">
        <!-- Example 1: Native details/summary -->
        <div class="example">
            <h2>Native HTML Details/Summary</h2>
            <p>Uses the semantic <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements.</p>
            <details class="details">
                <summary>What is HTML?</summary>
                <div>
                    <p>HTML (HyperText Markup Language) is the standard markup language for creating web pages. It provides the structure and content of web documents, while CSS handles styling and JavaScript provides interactivity.</p>
                </div>
            </details>
        </div>

        <!-- Example 2: Accordion-style custom widget -->
        <div class="example">
            <h2>Custom Button-Based Expander</h2>
            <p>Uses a button with <code>aria-expanded</code> and <code>aria-controls</code> for custom styling and behavior.</p>
            <div class="custom-expander">
                <button
                    class="expander-trigger"
                    aria-expanded="false"
                    aria-controls="content-1"
                >
                    <span class="expander-icon">
                        <svg aria-hidden="true" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 15L5 10h10z"/>
                        </svg>
                    </span>
                    Why is accessibility important?
                </button>
                <div class="expander-content" id="content-1">
                    <div class="expander-content-inner">
                        <p>Accessibility ensures that websites and applications are usable by everyone, including people with disabilities. It benefits all users by improving usability, performance, and user experience. Accessible design is also often required by law in many jurisdictions.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Example 3: Multiple expandable items -->
        <div class="example">
            <h2>Multiple Expandable Sections</h2>
            <p>Multiple details elements that can be expanded independently.</p>

            <details class="details" style="margin-bottom: 15px;">
                <summary>CSS Basics</summary>
                <div>
                    <p>CSS (Cascading Style Sheets) is used to style HTML elements. It controls colors, layouts, fonts, spacing, and more. CSS can be applied inline, internally, or through external stylesheets.</p>
                </div>
            </details>

            <details class="details" style="margin-bottom: 15px;">
                <summary>JavaScript Features</summary>
                <div>
                    <p>JavaScript is a programming language that enables interactive web applications. It can manipulate the DOM, handle user events, make network requests, and create dynamic user experiences.</p>
                </div>
            </details>

            <details class="details">
                <summary>Responsive Design</summary>
                <div>
                    <p>Responsive design ensures websites work well on devices of all sizes. Using media queries, flexible layouts, and scalable images, responsive design provides optimal viewing experiences across smartphones, tablets, and desktops.</p>
                </div>
            </details>
        </div>

        <!-- Example 4: Pre-expanded custom widget -->
        <div class="example">
            <h2>Pre-Expanded Custom Widget</h2>
            <p>A custom expander that starts in the expanded state.</p>
            <div class="custom-expander">
                <button
                    class="expander-trigger"
                    aria-expanded="true"
                    aria-controls="content-4"
                >
                    <span class="expander-icon">
                        <svg aria-hidden="true" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 15L5 10h10z"/>
                        </svg>
                    </span>
                    Getting Started with Web Development
                </button>
                <div class="expander-content" id="content-4">
                    <div class="expander-content-inner">
                        <p>To start learning web development, begin with the fundamentals: HTML for structure, CSS for styling, and JavaScript for interactivity. Practice by building small projects, use version control with Git, and continuously learn new tools and frameworks as you progress in your career.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>All examples follow WCAG 2.2 Level AA accessibility guidelines.</p>
    </footer>

    <script>
        // Custom expander functionality
        document.querySelectorAll('.expander-trigger').forEach(button => {
            button.addEventListener('click', function() {
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                this.setAttribute('aria-expanded', !isExpanded);
            });

            button.addEventListener('keydown', function(event) {
                // Optional: handle Enter and Space (already default for buttons)
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    this.click();
                }
            });
        });
    </script>
</body>
</html>