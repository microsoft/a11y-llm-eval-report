<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expand/Collapse Widget Demo - Components - Accessible UI</title>
<style>
:root {
  --color-bg: #ffffff;
  --color-text: #1a1a1a;
  --color-muted-text: #555555;
  --color-link: #1a5dab;
  --color-border: #6b6b6b;
  --color-focus: #1a5dab;
  --color-surface: #f5f5f5;
  --color-button-bg: #e8e8e8;
  --color-button-hover-bg: #d6d6d6;
  --color-button-active-bg: #c4c4c4;
  --radius: 6px;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-size: 1rem;
  line-height: 1.6;
  color: var(--color-text);
  background-color: var(--color-bg);
}

.sr-only:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

header {
  background-color: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  padding: var(--spacing-sm) var(--spacing-md);
}

header a.skip-link {
  color: var(--color-text);
  background-color: var(--color-bg);
  padding: var(--spacing-sm) var(--spacing-md);
  text-decoration: underline;
  border: 2px solid var(--color-focus);
  border-radius: var(--radius);
  z-index: 1000;
}

main {
  max-width: 48rem;
  margin: 0 auto;
  padding: var(--spacing-lg) var(--spacing-md);
}

h1 {
  font-size: 1.75rem;
  margin: 0 0 var(--spacing-sm) 0;
}

.page-description {
  color: var(--color-muted-text);
  margin: 0 0 var(--spacing-xl) 0;
}

h2 {
  font-size: 1.35rem;
  margin: var(--spacing-xl) 0 var(--spacing-md) 0;
}

.example {
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-lg);
  background-color: var(--color-bg);
}

.example h3 {
  font-size: 1.1rem;
  margin: 0 0 var(--spacing-md) 0;
}

.toggle-button {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: 1rem;
  font-family: inherit;
  color: var(--color-text);
  background-color: var(--color-button-bg);
  border: 2px solid var(--color-border);
  border-radius: var(--radius);
  cursor: pointer;
  line-height: 1.4;
  min-height: 2.75rem;
}

.toggle-button:hover {
  background-color: var(--color-button-hover-bg);
}

.toggle-button:active {
  background-color: var(--color-button-active-bg);
}

.toggle-button:focus-visible {
  outline: 3px solid var(--color-focus);
  outline-offset: 2px;
  box-shadow: none;
}

.toggle-button .chevron {
  display: inline-block;
  width: 0.75em;
  height: 0.75em;
  transition: transform 0.2s ease;
  flex-shrink: 0;
}

.toggle-button .chevron svg {
  display: block;
  width: 100%;
  height: 100%;
  fill: currentColor;
  stroke: currentColor;
}

.toggle-button[aria-expanded="true"] .chevron {
  transform: rotate(90deg);
}

.details {
  margin-top: var(--spacing-sm);
  padding: var(--spacing-md);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  overflow-wrap: anywhere;
}

.details[hidden] {
  display: none;
}

.details p {
  margin: 0 0 var(--spacing-sm) 0;
}

.details p:last-child {
  margin-bottom: 0;
}

.details ul {
  margin: 0;
  padding-left: var(--spacing-lg);
}

.details li {
  margin-bottom: var(--spacing-xs);
}

.details li:last-child {
  margin-bottom: 0;
}

/* Accordion variant */
.accordion {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.accordion .accordion-item {
  border: 1px solid var(--color-border);
  border-bottom: none;
}

.accordion .accordion-item:first-child {
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
}

.accordion .accordion-item:last-child {
  border-bottom: 1px solid var(--color-border);
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
}

.accordion .accordion-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  width: 100%;
  padding: var(--spacing-md);
  font-size: 1rem;
  font-family: inherit;
  font-weight: 600;
  color: var(--color-text);
  background-color: var(--color-surface);
  border: none;
  cursor: pointer;
  line-height: 1.4;
  text-align: left;
}

.accordion .accordion-item:first-child .accordion-button {
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
}

.accordion .accordion-item:last-child .accordion-button:not([aria-expanded="true"]) {
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
}

.accordion .accordion-button:hover {
  background-color: var(--color-button-hover-bg);
}

.accordion .accordion-button:active {
  background-color: var(--color-button-active-bg);
}

.accordion .accordion-button:focus-visible {
  outline: 3px solid var(--color-focus);
  outline-offset: -3px;
  box-shadow: none;
}

.accordion .accordion-button .chevron {
  display: inline-block;
  width: 0.75em;
  height: 0.75em;
  transition: transform 0.2s ease;
  flex-shrink: 0;
}

.accordion .accordion-button .chevron svg {
  display: block;
  width: 100%;
  height: 100%;
  fill: currentColor;
  stroke: currentColor;
}

.accordion .accordion-button[aria-expanded="true"] .chevron {
  transform: rotate(90deg);
}

.accordion .details {
  margin-top: 0;
  border: none;
  border-top: 1px solid var(--color-border);
  border-radius: 0;
}

.accordion .accordion-item:last-child .details {
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
}

footer {
  border-top: 1px solid var(--color-border);
  padding: var(--spacing-md);
  text-align: center;
  color: var(--color-muted-text);
  font-size: 0.875rem;
}

@media (forced-colors: active) {
  .toggle-button {
    border: 2px solid ButtonBorder;
  }

  .toggle-button:focus-visible {
    outline: 3px solid Highlight;
  }

  .details {
    border: 1px solid CanvasText;
  }

  .accordion .accordion-item {
    border-color: CanvasText;
  }

  .accordion .accordion-button:focus-visible {
    outline: 3px solid Highlight;
  }

  .accordion .details {
    border-top: 1px solid CanvasText;
  }
}
</style>
</head>
<body>
<header>
  <a href="#maincontent" class="sr-only skip-link">Skip to main content</a>
  <nav aria-label="Site">
    <strong>Accessible UI Components</strong>
  </nav>
</header>

<main id="maincontent" tabindex="-1">
  <h1>Expand/Collapse Widget</h1>
  <p class="page-description">Demonstrations of accessible disclosure (expand/collapse) patterns using a button with <code>aria-expanded</code> and <code>aria-controls</code>.</p>

  <h2>Simple Expand/Collapse</h2>

  <div class="example">
    <h3>What is web accessibility?</h3>
    <button
      type="button"
      class="toggle-button"
      aria-expanded="false"
      aria-controls="details-1"
      id="toggle-1"
    >
      <span class="chevron" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
      Show details
    </button>
    <div class="details" id="details-1" hidden>
      <p>Web accessibility means that websites, tools, and technologies are designed and developed so that people with disabilities can use them. More specifically, people can perceive, understand, navigate, interact with, and contribute to the web.</p>
      <p>Accessibility encompasses all disabilities that affect access to the web, including auditory, cognitive, neurological, physical, speech, and visual disabilities.</p>
    </div>
  </div>

  <div class="example">
    <h3>System requirements</h3>
    <button
      type="button"
      class="toggle-button"
      aria-expanded="false"
      aria-controls="details-2"
      id="toggle-2"
    >
      <span class="chevron" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
      View system requirements
    </button>
    <div class="details" id="details-2" hidden>
      <p>To run this application, your system must meet the following minimum requirements:</p>
      <ul>
        <li>Operating system: Windows 10 or later, macOS 12 or later, or a recent Linux distribution</li>
        <li>Memory: 4 GB RAM minimum, 8 GB recommended</li>
        <li>Storage: 500 MB of available disk space</li>
        <li>Browser: A modern browser with JavaScript enabled</li>
      </ul>
    </div>
  </div>

  <div class="example">
    <h3>Initially expanded section</h3>
    <button
      type="button"
      class="toggle-button"
      aria-expanded="true"
      aria-controls="details-3"
      id="toggle-3"
    >
      <span class="chevron" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
      Important notice
    </button>
    <div class="details" id="details-3">
      <p>This section is expanded by default to demonstrate an initially visible disclosure widget. Users can collapse it by activating the button above.</p>
      <p>This pattern is useful when content should be visible on page load but can be hidden to reduce visual clutter when not needed.</p>
    </div>
  </div>

  <h2>Accordion Pattern</h2>

  <div class="example">
    <h3>Frequently Asked Questions</h3>
    <div class="accordion">
      <div class="accordion-item">
        <h4>
          <button
            type="button"
            class="accordion-button"
            aria-expanded="false"
            aria-controls="accordion-details-1"
            id="accordion-toggle-1"
          >
            <span class="chevron" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
            How do I create an account?
          </button>
        </h4>
        <div class="details" id="accordion-details-1" role="region" aria-labelledby="accordion-toggle-1" hidden>
          <p>To create an account, select the "Sign Up" link at the top of the page. You will be asked to provide your name, email address, and a password. After submitting the form, check your email for a verification link to complete the process.</p>
        </div>
      </div>
      <div class="accordion-item">
        <h4>
          <button
            type="button"
            class="accordion-button"
            aria-expanded="false"
            aria-controls="accordion-details-2"
            id="accordion-toggle-2"
          >
            <span class="chevron" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
            Can I change my email address?
          </button>
        </h4>
        <div class="details" id="accordion-details-2" role="region" aria-labelledby="accordion-toggle-2" hidden>
          <p>Yes, you can change your email address from your account settings. Navigate to "Settings," then "Profile," and select "Edit email." You will need to verify your new email address before the change takes effect.</p>
        </div>
      </div>
      <div class="accordion-item">
        <h4>
          <button
            type="button"
            class="accordion-button"
            aria-expanded="false"
            aria-controls="accordion-details-3"
            id="accordion-toggle-3"
          >
            <span class="chevron" aria-hidden="true"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 3l5 5-5 5" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
            What payment methods do you accept?
          </button>
        </h4>
        <div class="details" id="accordion-details-3" role="region" aria-labelledby="accordion-toggle-3" hidden>
          <p>We accept the following payment methods:</p>
          <ul>
            <li>Major credit and debit cards (Visa, Mastercard, American Express)</li>
            <li>PayPal</li>
            <li>Bank transfer (for annual plans)</li>
          </ul>
          <p>All transactions are processed securely and your payment information is never stored on our servers.</p>
        </div>
      </div>
    </div>
  </div>

</main>

<footer>
  <p>Expand/Collapse Widget Demo &mdash; built with accessibility in mind.</p>
</footer>

<script>
(function () {
  'use strict';

  function toggleDisclosure(button) {
    var expanded = button.getAttribute('aria-expanded') === 'true';
    var controlsId = button.getAttribute('aria-controls');
    var panel = document.getElementById(controlsId);

    if (!panel) return;

    if (expanded) {
      button.setAttribute('aria-expanded', 'false');
      panel.setAttribute('hidden', '');
    } else {
      button.setAttribute('aria-expanded', 'true');
      panel.removeAttribute('hidden');
    }
  }

  // Attach click handlers to all toggle buttons
  var toggleButtons = document.querySelectorAll('.toggle-button, .accordion-button');
  for (var i = 0; i < toggleButtons.length; i++) {
    toggleButtons[i].addEventListener('click', function () {
      toggleDisclosure(this);
    });
  }
})();
</script>
</body>
</html>