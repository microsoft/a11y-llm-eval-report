<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/collapse widget example - Accessible patterns</title>
  <style>
    :root{
      --color-bg: #ffffff;
      --color-surface: #f6f7f9;
      --color-text: #111827;
      --color-muted-text: #374151;
      --color-link: #1d4ed8;
      --color-link-visited: #5b21b6;
      --color-border: #9ca3af;
      --color-focus: #0b5fff;
      --color-danger: #b91c1c;
      --radius: 12px;
      --space-1: 0.25rem;
      --space-2: 0.5rem;
      --space-3: 0.75rem;
      --space-4: 1rem;
      --space-6: 1.5rem;
      --maxw: 72rem;
      --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    * { box-sizing: border-box; }

    body{
      margin: 0;
      font-family: var(--font);
      line-height: 1.5;
      background: var(--color-bg);
      color: var(--color-text);
    }

    a{ color: var(--color-link); }
    a:visited{ color: var(--color-link-visited); }

    .container{
      max-width: var(--maxw);
      padding: var(--space-6) var(--space-4);
      margin: 0 auto;
    }

    header{
      border-bottom: 1px solid var(--color-border);
      background: var(--color-bg);
    }

    nav{
      border-bottom: 1px solid var(--color-border);
      background: var(--color-bg);
    }

    nav ul{
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-3);
    }

    nav a{
      display: inline-block;
      padding: var(--space-2) var(--space-3);
      border-radius: 999px;
      text-decoration: none;
      border: 1px solid transparent;
    }

    nav a:hover{
      text-decoration: underline;
      text-underline-offset: 0.2em;
    }

    nav a:focus-visible{
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
      border-color: var(--color-focus);
    }

    main{
      padding-block: var(--space-6);
    }

    h1{
      font-size: 1.6rem;
      margin: 0 0 var(--space-2) 0;
    }

    p{
      margin: 0 0 var(--space-4) 0;
      color: var(--color-muted-text);
      max-width: 70ch;
      overflow-wrap: anywhere;
    }

    .example{
      border: 1px solid var(--color-border);
      border-radius: var(--radius);
      padding: var(--space-4);
      margin: var(--space-4) 0;
      background: var(--color-surface);
    }

    .example > h2{
      font-size: 1.15rem;
      margin: 0 0 var(--space-3) 0;
      color: var(--color-text);
    }

    /* Native <details>/<summary> styling with visible focus */
    details.details{
      background: var(--color-bg);
      border: 1px solid var(--color-border);
      border-radius: calc(var(--radius) - 2px);
      padding: var(--space-2) var(--space-3);
    }

    details.details + details.details{
      margin-top: var(--space-3);
    }

    details.details summary{
      cursor: pointer;
      font-weight: 650;
      color: var(--color-text);
      padding: var(--space-2);
      margin: 0;
      border-radius: calc(var(--radius) - 6px);
      list-style: none;
    }

    /* Keep a marker but ensure consistent rendering */
    details.details summary::-webkit-details-marker { display: none; }
    details.details summary::before{
      content: "▸";
      display: inline-block;
      width: 1.25em;
      margin-right: var(--space-1);
      transform-origin: 0.6em 0.7em;
    }
    details.details[open] summary::before{ content: "▾"; }

    details.details summary:focus-visible{
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
    }

    .details__content{
      padding: var(--space-2) var(--space-2) var(--space-3) calc(var(--space-2) + 1.25em);
      color: var(--color-muted-text);
      overflow-wrap: anywhere;
    }

    .details__content p{
      margin: 0 0 var(--space-3) 0;
      color: var(--color-muted-text);
    }

    .details__content ul{
      margin: 0;
      padding-left: 1.25rem;
    }

    .callout{
      border-left: 4px solid var(--color-border);
      padding: var(--space-2) var(--space-3);
      background: #ffffff;
      border-radius: 8px;
      margin: var(--space-3) 0 0 0;
      color: var(--color-muted-text);
    }

    .sr-only:not(:focus):not(:active) {
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }

    footer{
      border-top: 1px solid var(--color-border);
      background: var(--color-bg);
    }

    footer p{
      margin: 0;
      color: var(--color-muted-text);
    }

    /* Reflow helpers */
    .stack{
      display: grid;
      gap: var(--space-4);
    }

    @media (max-width: 40rem){
      .container{ padding-inline: var(--space-3); }
      h1{ font-size: 1.4rem; }
    }

    /* Forced colors / High contrast support */
    @media (forced-colors: active){
      details.details{
        border: 1px solid ButtonBorder;
        background: Canvas;
      }
      details.details summary:focus-visible{
        outline: 2px solid Highlight;
      }
      nav a:focus-visible{
        outline: 2px solid Highlight;
        border-color: Highlight;
      }
      .example{
        border-color: ButtonBorder;
        background: Canvas;
      }
      header, nav, footer{
        border-color: ButtonBorder;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <a href="#maincontent" class="sr-only">Skip to main content</a>
      <strong>UI patterns</strong>
    </div>
  </header>

  <nav aria-label="Primary">
    <div class="container">
      <ul>
        <li><a href="#examples">Examples</a></li>
        <li><a href="#notes">Notes</a></li>
      </ul>
    </div>
  </nav>

  <main id="maincontent" tabindex="-1">
    <div class="container stack">
      <section aria-labelledby="page-title">
        <h1 id="page-title">Expand/collapse widget (native details/summary)</h1>
        <p>
          These examples use the native <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements for an accessible expand/collapse interaction.
          You can toggle using mouse, touch, or keyboard (Tab to the summary, then Enter or Space).
        </p>
      </section>

      <section id="examples" aria-labelledby="examples-title">
        <h2 id="examples-title">Examples</h2>

        <div class="example">
          <h2>Example 1: Single expand/collapse</h2>
          <details class="details">
            <summary>What is included in this section?</summary>
            <div class="details__content">
              <p>
                This panel contains supporting text that becomes available when the section is expanded. It remains in the reading order and reflows well on narrow screens.
              </p>
              <div class="callout">
                Tip: If you need to link to a specific part of the content, include a heading inside the panel.
              </div>
            </div>
          </details>
        </div>

        <div class="example">
          <h2>Example 2: Multiple items (independent)</h2>

          <details class="details">
            <summary>Shipping options</summary>
            <div class="details__content">
              <p>Choose a method that fits your schedule and budget:</p>
              <ul>
                <li>Standard (3–7 business days)</li>
                <li>Express (1–2 business days)</li>
                <li>Pickup (availability varies by location)</li>
              </ul>
            </div>
          </details>

          <details class="details">
            <summary>Return policy</summary>
            <div class="details__content">
              <p>
                Returns are accepted within 30 days when items are in their original condition. If you need support, contact the help team for next steps.
              </p>
              <p>
                Read more: <a href="#notes">Notes about this pattern</a>.
              </p>
            </div>
          </details>

          <details class="details">
            <summary>Accessibility considerations</summary>
            <div class="details__content">
              <p>
                Native details/summary provides built-in semantics and keyboard support in modern browsers. Keep the summary text specific so people can predict what will open.
              </p>
            </div>
          </details>
        </div>
      </section>

      <section id="notes" aria-labelledby="notes-title">
        <h2 id="notes-title">Notes</h2>
        <p>
          The controlled content container in each widget uses the <code>details</code> class on the <code>&lt;details&gt;</code> element, and the widget is wrapped in a <code>div</code> with class <code>example</code>.
          Styles include a visible focus indicator and forced-colors support.
        </p>
      </section>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>End of examples.</p>
    </div>
  </footer>
</body>
</html>