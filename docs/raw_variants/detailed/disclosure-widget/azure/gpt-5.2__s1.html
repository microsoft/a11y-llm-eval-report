<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/collapse widget examples - Accessibility demo</title>
  <style>
    :root{
      --color-bg: #ffffff;
      --color-surface: #f6f7f9;
      --color-text: #111827;
      --color-muted-text: #374151;
      --color-link: #0b3aa4;
      --color-link-visited: #4b1f7a;
      --color-border: #9ca3af;
      --color-focus: #1d4ed8;
      --color-danger: #b91c1c;
      --color-success: #065f46;

      --radius: 12px;
      --space-1: 0.5rem;
      --space-2: 0.75rem;
      --space-3: 1rem;
      --space-4: 1.5rem;
      --max-width: 70rem;
    }

    * { box-sizing: border-box; }
    html { color-scheme: light; }
    body{
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.5;
      background: var(--color-bg);
      color: var(--color-text);
    }

    a{ color: var(--color-link); }
    a:visited{ color: var(--color-link-visited); }
    a:hover{ text-decoration-thickness: 0.15em; text-underline-offset: 0.2em; }

    .wrap{
      max-width: var(--max-width);
      margin-inline: auto;
      padding: var(--space-4);
    }

    header{
      border-bottom: 1px solid var(--color-border);
      background: var(--color-bg);
    }

    nav ul{
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-2);
    }

    nav a{
      display: inline-block;
      padding: 0.35rem 0.5rem;
      border-radius: 8px;
    }
    nav a:focus-visible{
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
    }

    main{ padding-block: var(--space-4); }

    h1{
      font-size: 1.6rem;
      margin: 0 0 var(--space-2) 0;
    }
    h2{
      font-size: 1.2rem;
      margin: 0 0 var(--space-2) 0;
    }

    p{ margin: 0 0 var(--space-3) 0; }
    code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.95em;
      overflow-wrap: anywhere;
    }

    /* Skip link */
    .sr-only:not(:focus):not(:active) {
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }
    .skip-link{
      display: inline-block;
      padding: 0.5rem 0.75rem;
      background: var(--color-bg);
      color: var(--color-text);
      border: 2px solid var(--color-border);
      border-radius: 10px;
      position: absolute;
      left: var(--space-3);
      top: var(--space-3);
      z-index: 999;
    }
    .skip-link:focus{
      clip: auto;
      clip-path: none;
      width: auto;
      height: auto;
      white-space: normal;
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
    }

    /* Examples */
    .example{
      border: 1px solid var(--color-border);
      border-radius: var(--radius);
      padding: var(--space-3);
      background: var(--color-surface);
      margin-block: var(--space-4);
      min-width: 0;
    }

    .details{
      border: 1px solid var(--color-border);
      border-radius: 10px;
      padding: var(--space-3);
      background: var(--color-bg);
      margin-top: var(--space-2);
      min-width: 0;
    }

    /* Make <summary> look like a robust button while staying native */
    details > summary{
      cursor: pointer;
      font-weight: 700;
      padding: 0.5rem 0.75rem;
      border-radius: 10px;
      list-style: none;
      outline: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      border: 2px solid var(--color-border);
      background: var(--color-bg);
      width: fit-content;
      max-width: 100%;
    }
    details > summary::-webkit-details-marker { display: none; }

    details > summary::before{
      content: "▸";
      display: inline-block;
      width: 1.1em;
      text-align: center;
      flex: 0 0 auto;
    }
    details[open] > summary::before{ content: "▾"; }

    details > summary:hover{
      border-color: #6b7280;
    }

    details > summary:focus-visible{
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
    }

    .note{
      color: var(--color-muted-text);
      margin-top: var(--space-2);
    }

    ul{
      margin: 0;
      padding-left: 1.2rem;
    }

    .inline-links{
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: var(--space-2);
    }

    footer{
      border-top: 1px solid var(--color-border);
      padding-block: var(--space-4);
      color: var(--color-muted-text);
    }

    /* Reflow */
    @media (max-width: 28rem){
      .wrap{ padding: var(--space-3); }
      details > summary{ width: 100%; justify-content: space-between; }
      nav ul{ gap: 0.4rem; }
    }

    /* Forced colors support */
    @media (forced-colors: active){
      body{ background: Canvas; color: CanvasText; }
      header, footer{ border-color: CanvasText; }
      .example, .details{
        background: Canvas;
        border: 1px solid CanvasText;
      }
      details > summary{
        background: Canvas;
        border: 2px solid ButtonBorder;
        color: ButtonText;
      }
      details > summary:focus-visible{
        outline: 2px solid Highlight;
      }
      a{ color: LinkText; }
      a:visited{ color: VisitedText; }
    }
  </style>
</head>
<body>
  <header>
    <a href="#maincontent" class="skip-link sr-only">Skip to main content</a>
    <div class="wrap">
      <nav aria-label="Primary">
        <ul>
          <li><a href="#native-details">Native details/summary</a></li>
          <li><a href="#faq">FAQ example</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="maincontent" tabindex="-1" class="wrap">
    <h1>Expand/collapse widget examples</h1>
    <p>
      These examples use the native <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements for predictable keyboard support and clear semantics.
      You can activate the summary with <kbd>Enter</kbd> or <kbd>Space</kbd>.
    </p>

    <section id="native-details" aria-labelledby="native-details-h">
      <div class="example">
        <h2 id="native-details-h">Example 1: Show more information</h2>

        <details>
          <summary>Show shipping and returns information</summary>

          <div class="details">
            <p>
              We ship within 2–4 business days. Returns are accepted within 30 days if the item is in its original condition.
            </p>
            <ul>
              <li>Shipping updates are sent by email.</li>
              <li>Refunds are issued to the original payment method.</li>
              <li>If you need an accessible format for your receipt, contact support.</li>
            </ul>

            <p class="note">
              Tip: Use the links below if you prefer a separate page.
            </p>
            <div class="inline-links">
              <a href="#policy" aria-describedby="policy-note">Read the full policy</a>
              <a href="#support" aria-describedby="policy-note">Contact support</a>
            </div>
            <p id="policy-note" class="sr-only">
              Links in this section are optional and do not affect expanding or collapsing the panel.
            </p>
          </div>
        </details>
      </div>
    </section>

    <section id="faq" aria-labelledby="faq-h">
      <div class="example">
        <h2 id="faq-h">Example 2: FAQ-style accordion (independent items)</h2>
        <p class="note">Each question can be expanded or collapsed independently.</p>

        <details>
          <summary>What information is saved when I expand an item?</summary>
          <div class="details">
            <p>
              Expanding an item does not save personal information. It only shows or hides content on the page.
            </p>
          </div>
        </details>

        <details>
          <summary>Can I use a keyboard to operate this?</summary>
          <div class="details">
            <p>
              Yes. Tab to a question, then press <kbd>Enter</kbd> or <kbd>Space</kbd> to expand or collapse it.
            </p>
          </div>
        </details>

        <details>
          <summary>How do I close an expanded item?</summary>
          <div class="details">
            <p>
              Activate the same question again to collapse it. If multiple items are open, you can collapse each one the same way.
            </p>
          </div>
        </details>
      </div>
    </section>

    <section id="policy" aria-labelledby="policy-h">
      <div class="example">
        <h2 id="policy-h">Additional reading (for context)</h2>
        <p>
          This section exists to give the links in Example 1 a destination. It is not part of the expand/collapse widget.
        </p>
      </div>
    </section>

    <section id="support" aria-labelledby="support-h">
      <div class="example">
        <h2 id="support-h">Support</h2>
        <p>
          If you need help, you can reach support through your organization’s usual channels.
        </p>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <p>
        Manual testing is still recommended, including keyboard-only navigation and at least one screen reader.
      </p>
    </div>
  </footer>
</body>
</html>