<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expand/collapse widget examples - Components - Demo</title>
  <style>
    :root{
      --color-bg:#ffffff;
      --color-surface:#f7f7f8;
      --color-text:#1b1b1f;
      --color-muted-text:#3b3b42;
      --color-border:#6a6a74;
      --color-link:#0b57d0;
      --color-link-visited:#5a2aa5;
      --color-focus:#0b57d0;
      --color-danger:#b00020;
      --radius:12px;
      --space-1:0.5rem;
      --space-2:0.75rem;
      --space-3:1rem;
      --space-4:1.5rem;
      --maxw: 68rem;
      --line: 1.5;
      --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    *{ box-sizing:border-box; }
    html{ color-scheme: light dark; }
    body{
      margin:0;
      font-family: var(--font);
      line-height: var(--line);
      background: var(--color-bg);
      color: var(--color-text);
    }

    a{ color: var(--color-link); }
    a:visited{ color: var(--color-link-visited); }
    a:hover{ text-decoration-thickness: 3px; }
    a:focus-visible{
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
      border-radius: 6px;
    }

    .sr-only:not(:focus):not(:active){
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }

    header{
      border-bottom: 2px solid var(--color-border);
      background: var(--color-surface);
    }
    .wrap{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: var(--space-3);
    }
    header .wrap{
      display:flex;
      align-items:center;
      gap: var(--space-3);
      flex-wrap: wrap;
    }
    .site-title{
      font-size: 1.125rem;
      margin:0;
      font-weight: 700;
    }

    nav{
      border-bottom: 1px solid var(--color-border);
      background: var(--color-bg);
    }
    nav ul{
      list-style:none;
      padding:0;
      margin:0;
      display:flex;
      gap: var(--space-3);
      flex-wrap: wrap;
    }
    nav a{
      display:inline-block;
      padding: 0.4rem 0.2rem;
      text-decoration: underline;
      text-underline-offset: 0.2em;
    }

    main{
      padding: var(--space-4) var(--space-3);
    }
    main:focus{
      outline: none;
    }

    h1{
      font-size: clamp(1.4rem, 2vw + 1rem, 2rem);
      margin: 0 0 var(--space-2) 0;
    }
    p{
      margin: 0 0 var(--space-3) 0;
      color: var(--color-muted-text);
      max-width: 70ch;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: var(--space-3);
    }
    @media (min-width: 52rem){
      .grid{ grid-template-columns: 1fr 1fr; }
    }

    .example{
      border: 2px solid var(--color-border);
      border-radius: var(--radius);
      background: var(--color-bg);
      padding: var(--space-3);
      min-width: 0;
    }
    .example h2{
      margin: 0 0 var(--space-2) 0;
      font-size: 1.15rem;
    }

    /* Native expand/collapse */
    details{
      border: 2px solid var(--color-border);
      border-radius: 10px;
      background: var(--color-surface);
      padding: var(--space-2);
    }
    details > summary{
      cursor: pointer;
      font-weight: 650;
      color: var(--color-text);
      list-style: none;
      padding: 0.25rem;
      border-radius: 8px;
    }
    details > summary::-webkit-details-marker{ display:none; }
    details > summary::before{
      content: "▸";
      display: inline-block;
      width: 1.25em;
      margin-inline-end: 0.15em;
    }
    details[open] > summary::before{ content: "▾"; }

    details > summary:focus-visible{
      outline: 3px solid var(--color-focus);
      outline-offset: 3px;
    }

    details .details{
      margin-top: var(--space-2);
      padding: var(--space-2);
      border-top: 2px solid var(--color-border);
      color: var(--color-text);
      overflow-wrap: anywhere;
    }

    /* Button-controlled region */
    .toggle-row{
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: var(--space-2);
      flex-wrap: wrap;
    }
    .btn{
      appearance:none;
      border: 2px solid var(--color-border);
      border-radius: 10px;
      background: var(--color-surface);
      color: var(--color-text);
      padding: 0.6rem 0.8rem;
      font: inherit;
      font-weight: 650;
      cursor: pointer;
      min-width: 12rem;
    }
    .btn:hover{
      background: #efeff2;
    }
    .btn:active{
      transform: translateY(1px);
    }
    .btn:focus-visible{
      outline: 3px solid var(--color-focus);
      outline-offset: 3px;
    }

    .region{
      border: 2px solid var(--color-border);
      border-radius: 10px;
      background: var(--color-surface);
      padding: var(--space-2);
    }
    .region .details{
      margin-top: var(--space-2);
      padding: var(--space-2);
      border-top: 2px solid var(--color-border);
      overflow-wrap: anywhere;
    }
    .status{
      margin: 0;
      color: var(--color-muted-text);
      font-size: 0.95rem;
    }

    footer{
      border-top: 2px solid var(--color-border);
      background: var(--color-bg);
    }

    @media (forced-colors: active){
      header, nav, footer, .example, details, .btn, .region{
        border-color: CanvasText;
        background: Canvas;
        color: CanvasText;
      }
      a{ color: LinkText; }
      a:visited{ color: VisitedText; }
      details > summary:focus-visible,
      .btn:focus-visible,
      a:focus-visible{
        outline-color: Highlight;
      }
      details .details,
      .region .details{
        border-top-color: CanvasText;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="#maincontent" class="sr-only">Skip to main content</a>
    <div class="wrap">
      <p class="site-title">Components demo</p>
    </div>
  </header>

  <nav aria-label="Primary">
    <div class="wrap">
      <ul>
        <li><a href="#native">Native details/summary</a></li>
        <li><a href="#button">Button-controlled region</a></li>
      </ul>
    </div>
  </nav>

  <main id="maincontent" tabindex="-1">
    <div class="wrap">
      <h1>Expand/collapse widget examples</h1>
      <p>
        These examples show two common patterns for revealing and hiding content. Both support keyboard use and clear focus styles.
      </p>

      <section class="grid" aria-label="Examples">
        <div class="example" id="native">
          <h2>Example 1: Native <code>&lt;details&gt;</code> / <code>&lt;summary&gt;</code></h2>

          <details>
            <summary>More about scheduling</summary>
            <div class="details">
              <p style="margin-top:0;">
                When you open this section, you can read additional guidance without leaving the page.
              </p>
              <ul>
                <li>Press <kbd>Enter</kbd> or <kbd>Space</kbd> on the summary to toggle.</li>
                <li>Focus stays predictable as you move through the content.</li>
                <li>Long text will wrap to avoid horizontal scrolling at narrow widths.</li>
              </ul>
              <p style="margin-bottom:0;">
                Learn more: <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details">MDN: details element</a>
              </p>
            </div>
          </details>
        </div>

        <div class="example" id="button">
          <h2>Example 2: Button toggles a region</h2>

          <div class="region">
            <div class="toggle-row">
              <button type="button" class="btn" id="toggle-info" aria-expanded="false" aria-controls="extra-info">
                Show details
              </button>
              <p class="status" id="toggle-status" aria-live="polite">Details are hidden.</p>
            </div>

            <div class="details" id="extra-info" hidden>
              <p style="margin-top:0;">
                This pattern uses a button with <code>aria-expanded</code> and <code>aria-controls</code>.
                The content container uses the <code>details</code> class and is hidden with the native <code>hidden</code> attribute.
              </p>
              <p style="margin-bottom:0;">
                Tip: After expanding, you can continue tabbing into the revealed content. Press the button again to collapse.
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="wrap">
      <p style="margin:0; color:var(--color-muted-text);">
        Demo page for expand/collapse patterns.
      </p>
    </div>
  </footer>

  <script>
    (function () {
      const btn = document.getElementById('toggle-info');
      const panel = document.getElementById('extra-info');
      const status = document.getElementById('toggle-status');

      function setExpanded(expanded) {
        btn.setAttribute('aria-expanded', String(expanded));
        btn.textContent = expanded ? 'Hide details' : 'Show details';
        panel.hidden = !expanded;
        status.textContent = expanded ? 'Details are shown.' : 'Details are hidden.';
      }

      btn.addEventListener('click', function () {
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        setExpanded(!expanded);
      });

      // Initialize in a known state
      setExpanded(false);
    })();
  </script>
</body>
</html>