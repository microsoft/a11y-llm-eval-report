<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expand/Collapse Widget - Accessibility Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --color-bg: #ffffff;
      --color-text: #1a1a1a;
      --color-muted-text: #555555;
      --color-border: #cccccc;
      --color-focus: #0066cc;
      --color-focus-bg: #e6f0ff;
      --color-hover-bg: #f5f5f5;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background-color: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
      padding: 2rem 1rem;
    }

    header {
      margin-bottom: 2rem;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    p {
      color: var(--color-muted-text);
      margin-bottom: 1rem;
    }

    main {
      max-width: 800px;
      margin: 0 auto;
    }

    .example {
      margin-bottom: 2rem;
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 1.5rem;
      background-color: var(--color-bg);
    }

    .example h2 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
    }

    /* Native details/summary styling */
    details {
      margin-bottom: 1rem;
    }

    summary {
      cursor: pointer;
      padding: 0.75rem;
      background-color: var(--color-hover-bg);
      border: 1px solid var(--color-border);
      border-radius: 4px;
      font-weight: 500;
      user-select: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    summary:hover {
      background-color: #efefef;
    }

    summary:focus {
      outline: 2px solid var(--color-focus);
      outline-offset: 2px;
    }

    summary::marker {
      color: var(--color-text);
    }

    /* Custom button-based expand/collapse */
    .expand-button {
      background-color: var(--color-hover-bg);
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      color: var(--color-text);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      width: 100%;
      text-align: left;
    }

    .expand-button:hover {
      background-color: #efefef;
    }

    .expand-button:focus {
      outline: 2px solid var(--color-focus);
      outline-offset: 2px;
    }

    .expand-button:active {
      background-color: #e0e0e0;
    }

    .expand-icon {
      display: inline-block;
      width: 1.25rem;
      height: 1.25rem;
      flex-shrink: 0;
      transition: transform 0.2s ease;
    }

    .expand-button[aria-expanded="true"] .expand-icon {
      transform: rotate(180deg);
    }

    .details {
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: max-height 0.3s ease, opacity 0.3s ease;
    }

    .details.open {
      max-height: 500px;
      opacity: 1;
    }

    .details-content {
      padding: 1rem;
      background-color: var(--color-bg);
      border: 1px solid var(--color-border);
      border-top: none;
      border-radius: 0 0 4px 4px;
    }

    .details-content p {
      margin-bottom: 0.5rem;
    }

    .details-content ul {
      margin-left: 1.5rem;
      margin-bottom: 0.5rem;
    }

    .details-content li {
      margin-bottom: 0.25rem;
    }

    @media (forced-colors: active) {
      summary {
        border: 1px solid ButtonBorder;
        background-color: Canvas;
        color: ButtonText;
      }

      summary:focus {
        outline: 2px solid Highlight;
        outline-offset: 2px;
      }

      .expand-button {
        border: 1px solid ButtonBorder;
        background-color: Canvas;
        color: ButtonText;
      }

      .expand-button:focus {
        outline: 2px solid Highlight;
        outline-offset: 2px;
      }

      .details-content {
        border: 1px solid ButtonBorder;
        background-color: Canvas;
        color: CanvasText;
      }
    }

    @media (max-width: 320px) {
      body {
        padding: 1rem 0.5rem;
      }

      .example {
        padding: 1rem;
      }

      h1 {
        font-size: 1.5rem;
      }

      summary,
      .expand-button {
        padding: 0.5rem;
        font-size: 0.95rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="#maincontent" class="sr-only">Skip to main content</a>
    <h1>Expand/Collapse Widget Examples</h1>
    <p>Accessible expand/collapse components using native HTML and custom implementations.</p>
  </header>

  <main id="maincontent" tabindex="-1">
    <!-- Example 1: Native details/summary -->
    <div class="example">
      <h2>Native Details/Summary</h2>
      <p>This example uses the semantic HTML <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements.</p>
      
      <details>
        <summary>What is accessibility?</summary>
        <div class="details">
          <div class="details-content">
            <p>Accessibility is the practice of making websites and applications usable by everyone, including people with disabilities. This includes people with visual, auditory, motor, and cognitive disabilities.</p>
            <p>Key principles include:</p>
            <ul>
              <li>Perceivable: Information must be presentable to users in ways they can perceive</li>
              <li>Operable: Users must be able to navigate and interact with content</li>
              <li>Understandable: Content and interface must be clear and easy to understand</li>
              <li>Robust: Content must be compatible with current and future assistive technologies</li>
            </ul>
          </div>
        </div>
      </details>
    </div>

    <!-- Example 2: Custom button-based expand/collapse -->
    <div class="example">
      <h2>Custom Button-Based Expand/Collapse</h2>
      <p>This example uses a button element with <code>aria-expanded</code> and <code>aria-controls</code> attributes.</p>
      
      <button class="expand-button" aria-expanded="false" aria-controls="custom-details-1">
        <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
        Why is keyboard accessibility important?
      </button>
      <div id="custom-details-1" class="details">
        <div class="details-content">
          <p>Keyboard accessibility ensures that all interactive elements can be accessed and operated using only the keyboard. This is essential for:</p>
          <ul>
            <li>Users with motor disabilities who cannot use a mouse</li>
            <li>Users who prefer keyboard navigation for efficiency</li>
            <li>Users using voice control or switch access devices</li>
            <li>Users in environments where a mouse is not available</li>
          </ul>
          <p>All interactive elements should be reachable via Tab key and operable via Enter or Space keys.</p>
        </div>
      </div>
    </div>

    <!-- Example 3: Multiple expand/collapse items -->
    <div class="example">
      <h2>Multiple Expand/Collapse Items</h2>
      <p>Multiple independent expand/collapse widgets can coexist on the same page.</p>
      
      <button class="expand-button" aria-expanded="false" aria-controls="custom-details-2">
        <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
        What is WCAG?
      </button>
      <div id="custom-details-2" class="details">
        <div class="details-content">
          <p>WCAG stands for Web Content Accessibility Guidelines. It is a set of recommendations for making web content more accessible to people with disabilities. WCAG is developed by the World Wide Web Consortium (W3C) and is the international standard for web accessibility.</p>
        </div>
      </div>

      <button class="expand-button" aria-expanded="false" aria-controls="custom-details-3">
        <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
        What is ARIA?
      </button>
      <div id="custom-details-3" class="details">
        <div class="details-content">
          <p>ARIA stands for Accessible Rich Internet Applications. It is a set of attributes that can be added to HTML elements to provide additional information to assistive technologies. ARIA should be used to enhance semantics when native HTML elements do not provide the necessary information.</p>
        </div>
      </div>
    </div>
  </main>

  <style>
    .sr-only:not(:focus):not(:active) {
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }
  </style>

  <script>
    // Handle custom button-based expand/collapse
    const expandButtons = document.querySelectorAll('.expand-button');

    expandButtons.forEach(button => {
      button.addEventListener('click', () => {
        const isExpanded = button.getAttribute('aria-expanded') === 'true';
        const controlsId = button.getAttribute('aria-controls');
        const detailsElement = document.getElementById(controlsId);

        button.setAttribute('aria-expanded', !isExpanded);
        detailsElement.classList.toggle('open');
      });

      // Allow Enter and Space to activate the button (in case of keyboard navigation)
      button.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          button.click();
        }
      });
    });
  </script>
</body>
</html>