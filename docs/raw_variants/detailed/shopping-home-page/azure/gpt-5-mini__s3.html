<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShopEasy - Home</title>

  <style>
    /* Design tokens */
    :root{
      --color-bg: #ffffff;
      --color-surface: #f7f7f9;
      --color-text: #0b1220; /* very dark for contrast */
      --color-muted-text: #4b5563; /* muted but >= 4.5:1 for smaller text avoided; used for subtle text */
      --color-link: #0b66d6;
      --color-border: #e6e9ee;
      --color-focus: #004aad; /* clear strong focus color */
      --color-primary: #0b66d6;
      --color-success: #0a7a3f;
      --color-danger: #b00020;
      --shadow: 0 6px 18px rgba(11,17,32,0.06);
      --radius: 8px;
      --max-width: 1100px;
      --content-gap: 1rem;
      --container-padding: 1rem;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: light dark; /* allow UA to adapt */
    }

    /* Basic reset and layout */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--color-bg);
      color:var(--color-text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      font-size:16px;
    }

    a { color:var(--color-link); text-decoration:underline; }
    a:focus { outline: none; }

    /* Skip link: visible on focus */
    .sr-only {
      position: absolute;
      left: -9999px;
      top: auto;
      width: 1px;
      height: 1px;
      overflow: hidden;
    }
    .sr-only:focus, .sr-only:active {
      position: static;
      width: auto;
      height: auto;
      overflow: visible;
      clip: auto;
      margin: 0 0 1rem 0;
      padding: .5rem 1rem;
      background: var(--color-surface);
      border: 2px solid var(--color-border);
      border-radius: 6px;
      color: var(--color-text);
      text-decoration: none;
      z-index: 1000;
    }

    header, nav, main, footer { display:block; }

    .site-header{
      border-bottom: 1px solid var(--color-border);
      background: var(--color-bg);
    }
    .container{
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--container-padding);
    }

    .topbar{
      display:flex;
      align-items:center;
      gap: 1rem;
      padding: .75rem 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:.5rem;
      text-decoration:none;
      color:var(--color-text);
      font-weight:600;
      font-size:1.125rem;
    }

    .logo{
      width:36px;
      height:36px;
      border-radius:8px;
      background:linear-gradient(180deg,var(--color-primary), #073b93);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      flex:0 0 36px;
      box-shadow: var(--shadow);
    }
    .search {
      margin-left:auto;
      display:flex;
      gap:.5rem;
      align-items:center;
    }

    .search form{
      display:flex;
      align-items:center;
      gap:.5rem;
      background:var(--color-surface);
      border:1px solid var(--color-border);
      padding:.4rem;
      border-radius:8px;
    }

    .search input[type="search"]{
      border:0;
      background:transparent;
      padding:.25rem .5rem;
      min-width:180px;
      font-size:1rem;
      color:var(--color-text);
    }
    .search input[type="search"]:focus{
      outline:none;
    }
    .search button{
      background:var(--color-primary);
      color:white;
      border:0;
      padding:.45rem .6rem;
      border-radius:6px;
      cursor:pointer;
      font-weight:600;
    }
    .search button:focus { outline: none; }

    /* Nav */
    .nav-row{
      display:flex;
      align-items:center;
      gap:1rem;
      padding:.5rem 0;
    }

    .nav-toggle{
      display:none;
      background:transparent;
      border:1px solid var(--color-border);
      padding:.35rem .5rem;
      border-radius:6px;
      background:var(--color-surface);
    }
    .nav-toggle:focus{
      outline:3px solid var(--color-focus);
      outline-offset:2px;
    }

    nav ul{
      list-style:none;
      margin:0;
      padding:0;
      display:flex;
      gap:.75rem;
      align-items:center;
    }
    nav a{
      display:inline-block;
      padding:.5rem .6rem;
      border-radius:6px;
      text-decoration:none;
      color:var(--color-text);
      border:1px solid transparent;
    }
    nav a:focus{
      outline:3px solid var(--color-focus);
      outline-offset:2px;
    }
    .nav-list-collapsed { display:none; }

    /* Main content */
    main {
      padding: 1.25rem 0 3rem;
    }
    main .hero{
      background: linear-gradient(180deg, rgba(11,17,32,0.02), transparent);
      padding: 1rem;
      border-radius: 12px;
      margin-bottom: 1rem;
      border: 1px solid var(--color-border);
    }
    .hero h1{
      margin:0 0 .25rem 0;
      font-size:1.5rem;
    }
    .hero p{ margin:0; color:var(--color-muted-text) }

    .grid{
      display:grid;
      gap:1rem;
      grid-template-columns: repeat(3, minmax(0,1fr));
      margin-top:1rem;
    }

    .card{
      background: white;
      border:1px solid var(--color-border);
      border-radius: var(--radius);
      padding: .75rem;
      box-shadow: var(--shadow);
      display:flex;
      flex-direction:column;
      gap:.5rem;
      min-height:160px;
      min-width:0;
    }

    .product-image{
      background: #fff;
      border-radius:8px;
      display:block;
      width:100%;
      height:120px;
      object-fit:cover;
      border:1px solid var(--color-border);
    }

    .card h3{
      margin:0;
      font-size:1rem;
    }
    .price-row{
      margin-top:auto;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:.5rem;
    }

    .price{ font-weight:700; color:var(--color-text) }
    .old-price{ text-decoration: line-through; color:var(--color-muted-text); font-size:.9rem }

    .btn{
      padding:.45rem .6rem;
      background:var(--color-primary);
      color:white;
      border:0;
      border-radius:6px;
      cursor:pointer;
      font-weight:600;
    }
    .btn:focus{
      outline:3px solid var(--color-focus);
      outline-offset:2px;
    }
    .btn[disabled]{
      opacity:.6;
      cursor:not-allowed;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:.35rem;
      padding:.25rem .5rem;
      border-radius:999px;
      font-size:.85rem;
      background:#fff7ed;
      color: #7a3e00;
      border:1px solid #ffe6cc;
    }

    /* Deals section */
    .deals{
      display:grid;
      gap:1rem;
      grid-template-columns: 1fr 300px;
      align-items:start;
    }
    .deal-list{
      display:flex;
      flex-direction:column;
      gap:.75rem;
    }
    .deal-item{
      display:flex;
      gap:.75rem;
      align-items:center;
      padding:.5rem;
      border-radius:8px;
      border:1px solid var(--color-border);
      background:var(--color-surface);
    }
    .deal-item img{ width:72px; height:72px; border-radius:6px; object-fit:cover; }

    /* Blog */
    .blog-list{ display:flex; flex-direction:column; gap:.75rem; }
    article.post{
      padding:.75rem;
      border:1px solid var(--color-border);
      border-radius:8px;
      background:white;
    }
    article.post h3{ margin:0 0 .25rem 0; font-size:1rem; }
    article.post p{ margin:0; color:var(--color-muted-text) }

    /* Footer */
    footer{
      margin-top:2rem;
      border-top:1px solid var(--color-border);
      padding:1rem 0;
      color:var(--color-muted-text);
      font-size:.95rem;
    }

    /* Responsive behavior */
    @media (max-width: 900px){
      .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      .deals{ grid-template-columns: 1fr; }
      .nav-toggle{ display:inline-flex; }
      .nav-list-collapsed{ display:none; }
      nav ul{ flex-direction:column; align-items:flex-start; gap:.25rem; }
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: 1fr; }
      .search input[type="search"]{ min-width: 120px; }
      .brand{ font-size:1rem; }
      .hero h1{ font-size:1.25rem; }
      body{ font-size:15px; }
    }

    /* Focus visible - visible indicator and meets contrast target */
    :focus {
      outline-offset: 2px;
    }
    :focus-visible {
      outline: 3px solid var(--color-focus);
      outline-offset: 2px;
    }

    /* Long strings handling */
    .card, .product-title { overflow-wrap: anywhere; }

    /* Live region styling (visually hidden but accessible) */
    .visually-hidden {
      position: absolute !important;
      height: 1px; width: 1px;
      overflow: hidden;
      clip: rect(1px, 1px, 1px, 1px);
      white-space: nowrap;
    }

    /* Forced colors support for high contrast */
    @media (forced-colors: active) {
      :root {
        /* don't hardcode colors; system colors will be used below when needed */
      }
      body {
        background: Canvas;
        color: CanvasText;
      }
      .card, .search form, header, footer, .hero, .post {
        forced-color-adjust: auto;
        background: Canvas;
        border-color: ButtonBorder;
      }
      a { color: LinkText; }
      :focus, :focus-visible { outline: 3px solid Highlight; outline-offset: 2px; }
      .btn { background: ButtonFace; color: ButtonText; border: 1px solid ButtonBorder; }
    }

  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="container topbar">
      <a href="#maincontent" class="sr-only">Skip to main content</a>

      <a href="/" class="brand" aria-label="ShopEasy home">
        <span class="logo" aria-hidden="true">S</span>
        <span>ShopEasy</span>
      </a>

      <div class="search" role="search" aria-label="Site search">
        <form id="searchForm" action="/search" method="get" novalidate>
          <label for="searchInput" class="sr-only">Search products, categories, and articles</label>
          <input id="searchInput" name="q" type="search" placeholder="Search products, categories, and articles" aria-label="Search products, categories, and articles" />
          <button type="submit" aria-label="Search">Search</button>
        </form>
      </div>
    </div>

    <nav class="container" aria-label="Main navigation">
      <div class="nav-row">
        <button id="navToggle" class="nav-toggle" aria-expanded="false" aria-controls="primary-navigation">Menu</button>

        <ul id="primary-navigation" class="nav-list" role="navigation">
          <li><a href="/" >Home</a></li>
          <li><a href="/shop" >Shop</a></li>
          <li><a href="/deals" >Deals</a></li>
          <li><a href="/blog" >Blog</a></li>
          <li><a href="/help" >Help</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main id="maincontent" tabindex="-1" class="container" role="main">
    <section class="hero" aria-labelledby="homeHeading">
      <h1 id="homeHeading">Welcome to ShopEasy</h1>
      <p>Discover popular items, today's best deals, and helpful articles to make smart shopping decisions.</p>
    </section>

    <section aria-labelledby="popularHeading">
      <h2 id="popularHeading">Popular items</h2>

      <ul class="grid" role="list">
        <li class="card" role="listitem">
          <img class="product-image" src="https://via.placeholder.com/400x300?text=Wireless+Headphones" alt="Wireless noise-cancelling headphones on a white surface" />
          <h3 class="product-title">Noise-Cancelling Wireless Headphones</h3>
          <p class="product-desc" style="color:var(--color-muted-text); margin:0;">Comfort fit, 30-hour battery life.</p>
          <div class="price-row" aria-hidden="false">
            <div>
              <div class="price">$149.00</div>
              <div class="old-price" aria-hidden="true">$199.00</div>
            </div>
            <div style="display:flex; gap:.5rem;">
              <button class="btn" type="button" data-product="Noise-Cancelling Wireless Headphones" aria-label="Add Noise-Cancelling Wireless Headphones to cart">Add to cart</button>
              <a class="btn" href="/products/headphones" role="button" aria-label="View details for Noise-Cancelling Wireless Headphones" style="background:#fff; color:var(--color-primary); border:1px solid var(--color-border);">Details</a>
            </div>
          </div>
        </li>

        <li class="card" role="listitem">
          <img class="product-image" src="https://via.placeholder.com/400x300?text=Smart+Watch" alt="Smartwatch with black strap displayed on wooden table" />
          <h3 class="product-title">Smart Watch Series 6</h3>
          <p class="product-desc" style="color:var(--color-muted-text); margin:0;">Health monitoring and GPS built-in.</p>
          <div class="price-row">
            <div>
              <div class="price">$199.00</div>
            </div>
            <div style="display:flex; gap:.5rem;">
              <button class="btn" type="button" data-product="Smart Watch Series 6" aria-label="Add Smart Watch Series 6 to cart">Add to cart</button>
              <a class="btn" href="/products/smartwatch" role="button" aria-label="View details for Smart Watch Series 6" style="background:#fff; color:var(--color-primary); border:1px solid var(--color-border);">Details</a>
            </div>
          </div>
        </li>

        <li class="card" role="listitem">
          <img class="product-image" src="https://via.placeholder.com/400x300?text=Espresso+Machine" alt="Compact espresso machine in stainless steel" />
          <h3 class="product-title">Compact Espresso Machine</h3>
          <p class="product-desc" style="color:var(--color-muted-text); margin:0;">Barista-quality espresso at home.</p>
          <div class="price-row">
            <div>
              <div class="price">$249.00</div>
            </div>
            <div style="display:flex; gap:.5rem;">
              <button class="btn" type="button" data-product="Compact Espresso Machine" aria-label="Add Compact Espresso Machine to cart">Add to cart</button>
              <a class="btn" href="/products/espresso" role="button" aria-label="View details for Compact Espresso Machine" style="background:#fff; color:var(--color-primary); border:1px solid var(--color-border);">Details</a>
            </div>
          </div>
        </li>
      </ul>
    </section>

    <section aria-labelledby="dealsHeading" style="margin-top:1.5rem;">
      <h2 id="dealsHeading">Today's deals</h2>
      <div class="deals" role="region" aria-labelledby="dealsHeading">
        <div class="deal-list" role="list">
          <div class="deal-item" role="listitem">
            <img src="https://via.placeholder.com/140x140?text=4K+TV" alt="Ultra HD 4K television angled view" />
            <div style="flex:1; min-width:0;">
              <div style="display:flex; gap:.5rem; align-items:center;">
                <strong>Ultra HD 4K TV - 55"</strong>
                <span class="badge" aria-hidden="true">40% off</span>
              </div>
              <p style="margin:.25rem 0 0 0; color:var(--color-muted-text)">Now $399 (was $669). Limited time offer.</p>
              <div style="margin-top:.5rem;">
                <button class="btn" type="button" data-product="Ultra HD 4K TV - 55&quot;" aria-label="Add Ultra HD 4K TV 55 inch to cart">Add to cart</button>
                <a href="/products/4k-tv" style="margin-left:.5rem;">View</a>
              </div>
            </div>
          </div>

          <div class="deal-item" role="listitem">
            <img src="https://via.placeholder.com/140x140?text=Blender" alt="High-speed kitchen blender with clear jar" />
            <div style="flex:1; min-width:0;">
              <div style="display:flex; gap:.5rem; align-items:center;">
                <strong>Pro Blender</strong>
                <span class="badge" aria-hidden="true">25% off</span>
              </div>
              <p style="margin:.25rem 0 0 0; color:var(--color-muted-text)">Perfect for smoothies and soups.</p>
              <div style="margin-top:.5rem;">
                <button class="btn" type="button" data-product="Pro Blender" aria-label="Add Pro Blender to cart">Add to cart</button>
                <a href="/products/blender" style="margin-left:.5rem;">View</a>
              </div>
            </div>
          </div>

          <div class="deal-item" role="listitem">
            <img src="https://via.placeholder.com/140x140?text=Robot+Vacuum" alt="Robot vacuum cleaner on hardwood floor" />
            <div style="flex:1; min-width:0;">
              <div style="display:flex; gap:.5rem; align-items:center;">
                <strong>Smart Robot Vacuum</strong>
                <span class="badge" aria-hidden="true">15% off</span>
              </div>
              <p style="margin:.25rem 0 0 0; color:var(--color-muted-text)">Cleans and maps your home.</p>
              <div style="margin-top:.5rem;">
                <button class="btn" type="button" data-product="Smart Robot Vacuum" aria-label="Add Smart Robot Vacuum to cart">Add to cart</button>
                <a href="/products/vacuum" style="margin-left:.5rem;">View</a>
              </div>
            </div>
          </div>
        </div>

        <aside aria-labelledby="dealSummaryHeading" style="padding:1rem; border:1px solid var(--color-border); border-radius:8px; background:var(--color-surface); height:max-content;">
          <h3 id="dealSummaryHeading">Deal highlights</h3>
          <p style="margin:.25rem 0 0 0; color:var(--color-muted-text)">New deals are added daily. Sign up for deal alerts and get notified about price drops and exclusive bundles.</p>
          <form id="dealsForm" style="margin-top:.75rem;">
            <label for="email" class="sr-only">Email for deal alerts</label>
            <input id="email" name="email" type="email" placeholder="Your email" required aria-required="true" style="padding:.5rem; width:100%; border:1px solid var(--color-border); border-radius:6px;" />
            <button type="submit" class="btn" style="margin-top:.5rem; width:100%;">Subscribe</button>
            <div id="dealsFormError" role="alert" aria-live="assertive" style="color:var(--color-danger); margin-top:.5rem;"></div>
          </form>
        </aside>
      </div>
    </section>

    <section aria-labelledby="blogHeading" style="margin-top:1.5rem;">
      <h2 id="blogHeading">From our blog</h2>
      <div class="blog-list" role="list">
        <article class="post" role="listitem" aria-labelledby="post1Title">
          <h3 id="post1Title">How to choose the right headphones</h3>
          <p>Learn about noise cancelling, driver size, and battery life to pick the ideal headphones for you.</p>
          <a href="/blog/choose-headphones" aria-label="Read more: How to choose the right headphones">Read article</a>
        </article>

        <article class="post" role="listitem" aria-labelledby="post2Title">
          <h3 id="post2Title">Kitchen appliances worth the investment</h3>
          <p>We tested blenders, ovens, and espresso machines to find products that last and deliver value.</p>
          <a href="/blog/kitchen-appliances" aria-label="Read more: Kitchen appliances worth the investment">Read article</a>
        </article>

        <article class="post" role="listitem" aria-labelledby="post3Title">
          <h3 id="post3Title">Smart home gadgets for beginners</h3>
          <p>Start small and scale up: useful devices that make daily life easier without heavy setup.</p>
          <a href="/blog/smart-home" aria-label="Read more: Smart home gadgets for beginners">Read article</a>
        </article>
      </div>
    </section>

    <!-- Live region for announcements (e.g., add-to-cart) -->
    <div id="a11y-announcements" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>
  </main>

  <footer role="contentinfo">
    <div class="container" style="display:flex; flex-direction:column; gap:.75rem;">
      <div style="display:flex; justify-content:space-between; flex-wrap:wrap; gap:.75rem;">
        <nav aria-label="Footer navigation">
          <ul style="display:flex; gap:1rem; list-style:none; padding:0; margin:0;">
            <li><a href="/about">About</a></li>
            <li><a href="/terms">Terms</a></li>
            <li><a href="/privacy">Privacy</a></li>
            <li><a href="/contact">Contact</a></li>
          </ul>
        </nav>

        <div style="color:var(--color-muted-text);">Â© <span id="year"></span> ShopEasy</div>
      </div>

      <div style="color:var(--color-muted-text); font-size:.95rem;">
        Need help? <a href="/help" aria-label="Get help at ShopEasy help center">Visit our help center</a> or call <a href="tel:+18001234567">1-800-123-4567</a>.
      </div>
    </div>
  </footer>

  <script>
    (function(){
      // Utility to ensure first element focus on skip link activation
      document.getElementById('navToggle').addEventListener('click', function(){
        var nav = document.getElementById('primary-navigation');
        var expanded = this.getAttribute('aria-expanded') === 'true';
        this.setAttribute('aria-expanded', String(!expanded));
        // For small screens, show/hide by toggling a class
        if (!expanded) {
          nav.classList.remove('nav-list-collapsed');
          nav.style.display = 'flex';
        } else {
          nav.style.display = '';
          // On narrow screens the stylesheet hides it by default.
        }
      });

      // Close nav with Escape when toggle expanded
      document.addEventListener('keydown', function(e){
        var toggle = document.getElementById('navToggle');
        var nav = document.getElementById('primary-navigation');
        if (e.key === 'Escape') {
          if (toggle.getAttribute('aria-expanded') === 'true') {
            toggle.setAttribute('aria-expanded', 'false');
            nav.style.display = '';
            toggle.focus();
          }
        }
      });

      // Add to cart interactions - announce in live region
      var live = document.getElementById('a11y-announcements');

      function announce(message) {
        // Replace content to ensure screen readers announce changes
        live.textContent = '';
        setTimeout(function(){ live.textContent = message; }, 100);
      }

      var addButtons = document.querySelectorAll('button[data-product]');
      addButtons.forEach(function(btn){
        btn.addEventListener('click', function(e){
          var name = btn.getAttribute('data-product') || 'item';
          announce(name + ' added to cart.');
          // Simulate simple visual feedback: briefly disable button
          btn.disabled = true;
          var prevText = btn.textContent;
          btn.textContent = 'Added';
          setTimeout(function(){
            btn.disabled = false;
            btn.textContent = prevText;
          }, 1200);
        });
      });

      // Deals form validation - simple client-side check
      var dealsForm = document.getElementById('dealsForm');
      var dealsError = document.getElementById('dealsFormError');
      if (dealsForm) {
        dealsForm.addEventListener('submit', function(e){
          e.preventDefault();
          var email = dealsForm.querySelector('input[type="email"]');
          if (!email.value || !email.value.includes('@')) {
            dealsError.textContent = 'Please enter a valid email address.';
            email.setAttribute('aria-invalid', 'true');
            email.setAttribute('aria-describedby', 'dealsFormError');
            email.focus();
          } else {
            dealsError.textContent = '';
            email.removeAttribute('aria-invalid');
            announce('Subscribed to deal alerts. Check your email for confirmation.');
            // reset simple
            email.value = '';
          }
        });
      }

      // Search form: quick accessible feedback if user searches without query
      var searchForm = document.getElementById('searchForm');
      if (searchForm) {
        searchForm.addEventListener('submit', function(e){
          var q = searchForm.querySelector('input[name="q"]');
          if (!q.value.trim()) {
            e.preventDefault();
            announce('Please enter a search term.');
            q.focus();
          }
        });
      }

      // Progressive enhancement: ensure nav visibility class for wide screens
      function handleResize(){
        var nav = document.getElementById('primary-navigation');
        var toggle = document.getElementById('navToggle');
        if (window.matchMedia('(max-width: 900px)').matches) {
          // Use collapsed by default on small screens
          if (toggle.getAttribute('aria-expanded') !== 'true') {
            nav.style.display = '';
          }
        } else {
          // show nav on larger screens
          nav.style.display = 'flex';
          toggle.setAttribute('aria-expanded', 'false');
        }
      }
      window.addEventListener('resize', handleResize);
      handleResize();

      // Footer year
      document.getElementById('year').textContent = new Date().getFullYear();

      // Ensure no programmatically hidden content is focusable: handled by CSS display
      // Focus management: allow skip link to bring focus to main
      var skip = document.querySelector('.sr-only');
      if (skip) {
        skip.addEventListener('click', function(e){
          var main = document.getElementById('maincontent');
          main.focus();
        });
      }

      // Accessibility: make sure nav links are not in the tab order when nav hidden on small screens
      var primaryNav = document.getElementById('primary-navigation');
      var navLinks = primaryNav.querySelectorAll('a');
      function updateNavTabStops() {
        var expanded = document.getElementById('navToggle').getAttribute('aria-expanded') === 'true';
        var isVisible = primaryNav.style.display === 'flex' || !window.matchMedia('(max-width: 900px)').matches;
        navLinks.forEach(function(link){
          if (isVisible || expanded) {
            link.setAttribute('tabindex', '0');
          } else {
            link.setAttribute('tabindex', '-1');
          }
        });
      }
      document.getElementById('navToggle').addEventListener('click', updateNavTabStops);
      window.addEventListener('resize', updateNavTabStops);
      updateNavTabStops();

    })();
  </script>
</body>
</html>