<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Your Site</title>
    <style>
        /* Screen reader only styles for skip link */
        .sr-only:not(:focus):not(:active) {
            clip: rect(0 0 0 0);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
        }

        /* Reset and base styles */
        * {
            box-sizing: border-box;
        }
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.5;
            margin: 0;
            padding: 0;
            color: #1a1a1a;
            background-color: #ffffff;
        }
        a:focus,
        button:focus,
        input:focus,
        textarea:focus,
        select:focus {
            outline: 3px solid #005a9c;
            outline-offset: 2px;
        }
        @media (forced-colors: active) {
            a:focus,
            button:focus,
            input:focus,
            textarea:focus,
            select:focus {
                outline: 2px solid ButtonBorder;
                outline-offset: 1px;
            }
        }

        /* Layout */
        header {
            background-color: #f0f0f0;
            padding: 1rem 2rem;
            border-bottom: 1px solid #ccc;
        }
        nav {
            background-color: #e8e8e8;
            padding: 0.5rem 2rem;
        }
        nav ul {
            display: flex;
            gap: 1.5rem;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        main {
            padding: 2rem;
            min-height: 80vh;
        }
        footer {
            background-color: #f0f0f0;
            padding: 1rem 2rem;
            border-top: 1px solid #ccc;
            text-align: center;
        }

        /* Form Styles */
        .contact-form {
            max-width: 600px;
            margin: 0 auto;
        }
        .contact-form h1 {
            margin-top: 0;
            color: #1a1a1a;
        }
        .form-field {
            margin-bottom: 1.5rem;
        }
        .form-field label {
            display: block;
            margin-bottom: 0.375rem;
            font-weight: 600;
            color: #1a1a1a;
        }
        .form-field .required-indicator {
            color: #c00;
        }
        .form-field input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #767676;
            border-radius: 4px;
            font-size: 1rem;
            background-color: #ffffff;
            color: #1a1a1a;
        }
        .form-field input:focus {
            border-color: #005a9c;
        }
        @media (forced-colors: active) {
            .form-field input:focus {
                border-color: Highlight;
            }
        }
        .form-field .helper-text {
            font-size: 0.875rem;
            color: #505050;
            margin-top: 0.25rem;
        }
        .form-field .error-message {
            font-size: 0.875rem;
            color: #c00;
            margin-top: 0.25rem;
            font-weight: 600;
        }
        .form-field input[aria-invalid="true"] {
            border-color: #c00;
        }
        .submit-button {
            background-color: #005a9c;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 0.75rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
        }
        .submit-button:hover,
        .submit-button:focus {
            background-color: #003f6b;
        }
        .submit-button:active {
            background-color: #002d4d;
        }
        @media (forced-colors: active) {
            .submit-button {
                background-color: ButtonFace;
                color: ButtonText;
                border: 2px solid ButtonBorder;
            }
        }

        /* Responsive reflow for 320px width */
        @media (max-width: 320px) {
            body {
                min-width: 320px;
            }
            nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }
            main {
                padding: 1rem;
            }
            .contact-form {
                width: 100%;
            }
            .form-field input {
                min-width: 0; /* Allow flex/grid children to shrink */
            }
        }

        /* Long text handling */
        .helper-text {
            overflow-wrap: anywhere;
        }
    </style>
</head>
<body>
    <a href="#maincontent" class="sr-only">Skip to main content</a>
    <header>
        <h1>Your Site</h1>
    </header>
    <nav aria-label="Primary">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact" aria-current="page">Contact</a></li>
            <li><a href="/services">Services</a></li>
        </ul>
    </nav>
    <main id="maincontent" tabindex="-1">
        <div class="contact-form">
            <h1>Contact Us</h1>
            <p>Please fill out the form below to get in touch. We'll respond as soon as possible.</p>

            <form id="contactForm" novalidate aria-label="Contact form">
                <div class="form-field">
                    <label for="full-name">
                        Full Name
                        <span class="required-indicator" aria-hidden="true">*</span>
                    </label>
                    <input
                        type="text"
                        id="full-name"
                        name="fullName"
                        required
                        aria-required="true"
                        aria-describedby="name-error"
                    >
                    <div id="name-error" class="error-message" role="alert" aria-live="assertive"></div>
                </div>

                <div class="form-field">
                    <label for="email">
                        Email Address
                        <span class="required-indicator" aria-hidden="true">*</span>
                    </label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        required
                        aria-required="true"
                        aria-describedby="email-helper email-error"
                    >
                    <div id="email-helper" class="helper-text">
                        Please enter a valid email address (e.g., name@example.com).
                    </div>
                    <div id="email-error" class="error-message" role="alert" aria-live="assertive"></div>
                </div>

                <div class="form-field">
                    <label for="phone">Phone Number (Optional)</label>
                    <input
                        type="tel"
                        id="phone"
                        name="phone"
                        aria-describedby="phone-helper"
                    >
                    <div id="phone-helper" class="helper-text">
                        Please use the format: 123-456-7890. International numbers are accepted.
                    </div>
                </div>

                <button type="submit" class="submit-button">
                    Send Message
                </button>
            </form>
        </div>
    </main>
    <footer>
        <p>&copy; 2023 Your Site. All rights reserved.</p>
        <p><a href="/privacy">Privacy Policy</a> | <a href="/accessibility">Accessibility Statement</a></p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('contactForm');
            const nameInput = document.getElementById('full-name');
            const emailInput = document.getElementById('email');
            const nameError = document.getElementById('name-error');
            const emailError = document.getElementById('email-error');

            function showError(input, errorElement, message) {
                input.setAttribute('aria-invalid', 'true');
                errorElement.textContent = message;
                errorElement.style.display = 'block';
            }

            function clearError(input, errorElement) {
                input.removeAttribute('aria-invalid');
                errorElement.textContent = '';
                errorElement.style.display = 'none';
            }

            function validateName() {
                if (nameInput.value.trim() === '') {
                    showError(nameInput, nameError, 'Full Name is required.');
                    return false;
                } else {
                    clearError(nameInput, nameError);
                    return true;
                }
            }

            function validateEmail() {
                const email = emailInput.value.trim();
                if (email === '') {
                    showError(emailInput, emailError, 'Email Address is required.');
                    return false;
                } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    showError(emailInput, emailError, 'Please enter a valid email address (e.g., name@example.com).');
                    return false;
                } else {
                    clearError(emailInput, emailError);
                    return true;
                }
            }

            nameInput.addEventListener('blur', validateName);
            emailInput.addEventListener('blur', validateEmail);

            form.addEventListener('submit', function(event) {
                event.preventDefault();

                const isNameValid = validateName();
                const isEmailValid = validateEmail();

                if (isNameValid && isEmailValid) {
                    // In a real application, you would submit the form data here.
                    alert('Form submitted successfully! (This is a demo)');
                    form.reset();
                    clearError(nameInput, nameError);
                    clearError(emailInput, emailError);
                } else {
                    // Focus the first invalid field
                    if (!isNameValid) {
                        nameInput.focus();
                    } else if (!isEmailValid) {
                        emailInput.focus();
                    }
                }
            });
        });
    </script>
</body>
</html>