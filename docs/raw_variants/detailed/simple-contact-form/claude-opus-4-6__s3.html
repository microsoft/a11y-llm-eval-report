<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us - My Site</title>
  <style>
    :root {
      --color-bg: #ffffff;
      --color-text: #1a1a1a;
      --color-muted-text: #4a4a4a;
      --color-link: #1a5ca8;
      --color-border: #6b6b6b;
      --color-border-focus: #1a5ca8;
      --color-focus: #1a5ca8;
      --color-danger: #c42b2b;
      --color-success: #1a7a3a;
      --color-required: #c42b2b;
      --color-btn-bg: #1a5ca8;
      --color-btn-text: #ffffff;
      --color-btn-bg-hover: #144a87;
      --color-input-bg: #ffffff;
      --color-field-bg: #f7f7f7;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size: 1rem;
      line-height: 1.5;
      color: var(--color-text);
      background-color: var(--color-bg);
    }

    .sr-only:not(:focus):not(:active) {
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      overflow: hidden;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }

    header {
      background-color: var(--color-field-bg);
      border-bottom: 1px solid var(--color-border);
      padding: 0.75rem 1rem;
    }

    header a.skip-link {
      color: var(--color-link);
      font-weight: 600;
    }

    header a.skip-link:focus {
      outline: 2px solid var(--color-focus);
      outline-offset: 2px;
      padding: 0.25rem 0.5rem;
      background: var(--color-bg);
      border-radius: 4px;
    }

    header p {
      margin: 0;
      font-weight: 700;
      font-size: 1.125rem;
    }

    main {
      max-width: 40rem;
      margin: 0 auto;
      padding: 1.5rem 1rem;
    }

    h1 {
      font-size: 1.75rem;
      margin: 0 0 0.5rem;
    }

    .form-intro {
      margin: 0 0 1.5rem;
      color: var(--color-muted-text);
    }

    .required-note {
      margin: 0 0 1.5rem;
      font-size: 0.875rem;
      color: var(--color-muted-text);
    }

    .form-field {
      margin-bottom: 1.5rem;
    }

    .form-field label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .form-field .required-indicator {
      color: var(--color-required);
      font-weight: 700;
    }

    .form-field .helper-text {
      display: block;
      font-size: 0.875rem;
      color: var(--color-muted-text);
      margin-bottom: 0.375rem;
    }

    .form-field input[type="text"],
    .form-field input[type="email"],
    .form-field input[type="tel"] {
      display: block;
      width: 100%;
      padding: 0.5rem 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      color: var(--color-text);
      background-color: var(--color-input-bg);
      border: 2px solid var(--color-border);
      border-radius: 4px;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    .form-field input:focus {
      outline: none;
      border-color: var(--color-border-focus);
      box-shadow: 0 0 0 3px rgba(26, 92, 168, 0.35);
    }

    .form-field input[aria-invalid="true"] {
      border-color: var(--color-danger);
    }

    .form-field input[aria-invalid="true"]:focus {
      border-color: var(--color-danger);
      box-shadow: 0 0 0 3px rgba(196, 43, 43, 0.35);
    }

    .form-field .error-message {
      display: none;
      font-size: 0.875rem;
      color: var(--color-danger);
      margin-top: 0.25rem;
      font-weight: 600;
    }

    .form-field .error-message::before {
      content: "⚠ ";
    }

    .form-field .error-message[aria-live] {
      display: block;
    }

    .form-field.has-error .error-message {
      display: block;
    }

    .submit-btn {
      display: inline-block;
      padding: 0.625rem 1.5rem;
      font-size: 1rem;
      font-weight: 600;
      line-height: 1.5;
      color: var(--color-btn-text);
      background-color: var(--color-btn-bg);
      border: 2px solid transparent;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    .submit-btn:hover {
      background-color: var(--color-btn-bg-hover);
    }

    .submit-btn:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(26, 92, 168, 0.35);
    }

    footer {
      border-top: 1px solid var(--color-border);
      padding: 1rem;
      text-align: center;
      font-size: 0.875rem;
      color: var(--color-muted-text);
    }

    @media (forced-colors: active) {
      .form-field input {
        border: 2px solid ButtonBorder;
      }

      .form-field input:focus {
        outline: 2px solid Highlight;
        outline-offset: 2px;
        box-shadow: none;
      }

      .form-field input[aria-invalid="true"] {
        border-color: LinkText;
      }

      .submit-btn {
        border: 2px solid ButtonBorder;
      }

      .submit-btn:focus {
        outline: 2px solid Highlight;
        outline-offset: 2px;
        box-shadow: none;
      }

      .form-field .error-message {
        color: LinkText;
      }

      .form-field .required-indicator {
        color: LinkText;
      }

      svg {
        fill: currentColor;
        stroke: currentColor;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="#maincontent" class="skip-link sr-only">Skip to main content</a>
    <p>My Site</p>
  </header>

  <main id="maincontent" tabindex="-1">
    <h1>Contact Us</h1>
    <p class="form-intro">We would love to hear from you. Please fill out the form below and we will get back to you as soon as possible.</p>
    <p class="required-note">Fields marked with <span aria-hidden="true">*</span><span class="sr-only">an asterisk</span> are required.</p>

    <form id="contact-form" novalidate>
      <div class="form-field" id="name-field">
        <label for="full-name">
          Full Name
          <span class="required-indicator" aria-hidden="true">*</span>
        </label>
        <input
          type="text"
          id="full-name"
          name="full-name"
          autocomplete="name"
          aria-required="true"
        >
        <p class="error-message" id="full-name-error">Please enter your full name.</p>
      </div>

      <div class="form-field" id="email-field">
        <label for="email-address">
          Email Address
          <span class="required-indicator" aria-hidden="true">*</span>
        </label>
        <p class="helper-text" id="email-help">Enter your email in the format: name@example.com</p>
        <input
          type="email"
          id="email-address"
          name="email-address"
          autocomplete="email"
          aria-required="true"
          aria-describedby="email-help"
        >
        <p class="error-message" id="email-error">Please enter a valid email address, for example: name@example.com</p>
      </div>

      <div class="form-field" id="phone-field">
        <label for="phone-number">
          Phone Number
          <span class="sr-only">(optional)</span>
        </label>
        <p class="helper-text" id="phone-help">Optional. Preferred format: (123) 456-7890</p>
        <input
          type="tel"
          id="phone-number"
          name="phone-number"
          autocomplete="tel"
          aria-describedby="phone-help"
        >
        <p class="error-message" id="phone-error">Please enter a valid phone number, for example: (123) 456-7890</p>
      </div>

      <button type="submit" class="submit-btn">Submit</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2024 My Site. All rights reserved.</p>
  </footer>

  <script>
    (function () {
      var form = document.getElementById('contact-form');

      function showError(field, inputEl, errorEl) {
        field.classList.add('has-error');
        inputEl.setAttribute('aria-invalid', 'true');
        errorEl.setAttribute('aria-live', 'assertive');

        var describedBy = inputEl.getAttribute('aria-describedby') || '';
        if (describedBy.indexOf(errorEl.id) === -1) {
          inputEl.setAttribute('aria-describedby', (describedBy + ' ' + errorEl.id).trim());
        }
      }

      function clearError(field, inputEl, errorEl) {
        field.classList.remove('has-error');
        inputEl.removeAttribute('aria-invalid');
        errorEl.removeAttribute('aria-live');

        var describedBy = inputEl.getAttribute('aria-describedby') || '';
        var updated = describedBy.replace(errorEl.id, '').replace(/\s+/g, ' ').trim();
        if (updated) {
          inputEl.setAttribute('aria-describedby', updated);
        } else {
          inputEl.removeAttribute('aria-describedby');
        }
      }

      function isValidEmail(value) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
      }

      function isValidPhone(value) {
        // Allow common phone formats
        return /^[\d\s\-\+\(\)\.]+$/.test(value) && value.replace(/\D/g, '').length >= 7;
      }

      function validateField(id) {
        var inputEl, errorEl, field, value;

        if (id === 'full-name') {
          field = document.getElementById('name-field');
          inputEl = document.getElementById('full-name');
          errorEl = document.getElementById('full-name-error');
          value = inputEl.value.trim();

          if (!value) {
            showError(field, inputEl, errorEl);
            return false;
          } else {
            clearError(field, inputEl, errorEl);
            return true;
          }
        }

        if (id === 'email-address') {
          field = document.getElementById('email-field');
          inputEl = document.getElementById('email-address');
          errorEl = document.getElementById('email-error');
          value = inputEl.value.trim();

          if (!value || !isValidEmail(value)) {
            showError(field, inputEl, errorEl);
            // Restore email-help in describedby
            var desc = inputEl.getAttribute('aria-describedby') || '';
            if (desc.indexOf('email-help') === -1) {
              inputEl.setAttribute('aria-describedby', ('email-help ' + desc).trim());
            }
            return false;
          } else {
            clearError(field, inputEl, errorEl);
            // Restore email-help
            if (!inputEl.getAttribute('aria-describedby') || inputEl.getAttribute('aria-describedby').indexOf('email-help') === -1) {
              var current = inputEl.getAttribute('aria-describedby') || '';
              inputEl.setAttribute('aria-describedby', ('email-help ' + current).trim());
            }
            return true;
          }
        }

        if (id === 'phone-number') {
          field = document.getElementById('phone-field');
          inputEl = document.getElementById('phone-number');
          errorEl = document.getElementById('phone-error');
          value = inputEl.value.trim();

          if (value && !isValidPhone(value)) {
            showError(field, inputEl, errorEl);
            var desc2 = inputEl.getAttribute('aria-describedby') || '';
            if (desc2.indexOf('phone-help') === -1) {
              inputEl.setAttribute('aria-describedby', ('phone-help ' + desc2).trim());
            }
            return false;
          } else {
            clearError(field, inputEl, errorEl);
            if (!inputEl.getAttribute('aria-describedby') || inputEl.getAttribute('aria-describedby').indexOf('phone-help') === -1) {
              var current2 = inputEl.getAttribute('aria-describedby') || '';
              inputEl.setAttribute('aria-describedby', ('phone-help ' + current2).trim());
            }
            return true;
          }
        }

        return true;
      }

      // Validate on blur after first submission attempt
      var hasSubmitted = false;

      ['full-name', 'email-address', 'phone-number'].forEach(function (id) {
        var el = document.getElementById(id);
        el.addEventListener('blur', function () {
          if (hasSubmitted) {
            validateField(id);
          }
        });
        el.addEventListener('input', function () {
          if (hasSubmitted) {
            validateField(id);
          }
        });
      });

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        hasSubmitted = true;

        var nameValid = validateField('full-name');
        var emailValid = validateField('email-address');
        var phoneValid = validateField('phone-number');

        if (!nameValid || !emailValid || !phoneValid) {
          // Focus the first invalid field
          if (!nameValid) {
            document.getElementById('full-name').focus();
          } else if (!emailValid) {
            document.getElementById('email-address').focus();
          } else if (!phoneValid) {
            document.getElementById('phone-number').focus();
          }
          return;
        }

        // Form is valid — in a real application, submit the data
        alert('Thank you! Your message has been submitted.');
        form.reset();
        hasSubmitted = false;
      });
    })();
  </script>
</body>
</html>