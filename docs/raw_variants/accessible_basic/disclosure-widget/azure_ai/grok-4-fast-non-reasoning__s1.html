<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 2rem;
        }
        .example {
            margin-bottom: 2rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }
        .example h2 {
            margin: 0;
            padding: 1rem;
            background-color: #f5f5f5;
            font-size: 1.25rem;
        }
        .expandable {
            cursor: pointer;
            padding: 1rem;
            background-color: #e9e9e9;
            border-bottom: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .expandable:hover {
            background-color: #e0e0e0;
        }
        .toggle-icon {
            font-size: 1.2rem;
            transition: transform 0.2s ease;
        }
        .toggle-icon[aria-expanded="true"] {
            transform: rotate(90deg);
        }
        .details {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        .details[aria-expanded="true"] {
            padding: 1rem;
            max-height: 500px; /* Adjust based on content */
        }
        .details p {
            margin: 0 0 1rem 0;
        }
        button:focus,
        .expandable:focus {
            outline: 2px solid #007acc;
            outline-offset: -2px;
        }
        @media (prefers-reduced-motion: reduce) {
            .toggle-icon,
            .details {
                transition: none;
            }
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Demo</h1>
    
    <div class="example">
        <h2>Simple FAQ Item</h2>
        <div class="expandable" role="button" tabindex="0" aria-expanded="false" aria-controls="faq1">
            <span>What is this widget?</span>
            <span class="toggle-icon" aria-hidden="true">+</span>
        </div>
        <div id="faq1" class="details" role="region" aria-labelledby="faq1-label">
            <p>This is a simple expand/collapse widget built with semantic HTML, CSS, and minimal JavaScript. It provides accessible interaction for showing and hiding content sections.</p>
        </div>
    </div>

    <div class="example">
        <h2>Product Features</h2>
        <div class="expandable" role="button" tabindex="0" aria-expanded="false" aria-controls="features1">
            <span>Key Features</span>
            <span class="toggle-icon" aria-hidden="true">+</span>
        </div>
        <div id="features1" class="details" role="region" aria-labelledby="features1-label">
            <ul>
                <li>Accessible keyboard navigation</li>
                <li>Smooth animations for visual feedback</li>
                <li>Screen reader compatible with proper ARIA attributes</li>
                <li>Responsive design for all devices</li>
                <li>Customizable styling</li>
            </ul>
        </div>
    </div>

    <div class="example">
        <h2>Long Content Section</h2>
        <button class="expandable" aria-expanded="false" aria-controls="long1" type="button">
            <span>Read More About Accessibility</span>
            <span class="toggle-icon" aria-hidden="true">+</span>
        </button>
        <div id="long1" class="details" role="region" aria-labelledby="long1-label">
            <p>Accessibility in web design ensures that all users, including those with disabilities, can interact with content effectively. This widget follows WCAG 2.2 Level AA guidelines by providing keyboard support, sufficient color contrast, and proper semantic markup.</p>
            <p>Key principles include perceivable information, operable interface, understandable content, and robust compatibility with assistive technologies.</p>
            <p>Always test with real users and tools like screen readers to ensure the best experience.</p>
        </div>
    </div>

    <script>
        document.querySelectorAll('.expandable').forEach(trigger => {
            const targetId = trigger.getAttribute('aria-controls');
            const target = document.getElementById(targetId);
            const icon = trigger.querySelector('.toggle-icon');
            
            const toggle = () => {
                const isExpanded = trigger.getAttribute('aria-expanded') === 'true';
                trigger.setAttribute('aria-expanded', !isExpanded);
                target.setAttribute('aria-expanded', !isExpanded);
                
                if (icon) {
                    icon.textContent = isExpanded ? '+' : 'âˆ’';
                }
            };

            trigger.addEventListener('click', toggle);
            trigger.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    toggle();
                }
            });
        });
    </script>
</body>
</html>