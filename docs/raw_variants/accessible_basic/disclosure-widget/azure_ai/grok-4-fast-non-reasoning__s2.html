<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 2rem;
            color: #333;
        }
        .example {
            margin-bottom: 2rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 1rem;
        }
        .example h2 {
            margin-top: 0;
            color: #007acc;
        }
        .trigger {
            background: #007acc;
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-radius: 4px;
            font-size: 1rem;
            width: 100%;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .trigger:hover {
            background: #005a9e;
        }
        .trigger:focus {
            outline: 2px solid #005a9e;
            outline-offset: 2px;
        }
        .trigger[aria-expanded="true"] .icon {
            transform: rotate(180deg);
        }
        .icon {
            transition: transform 0.3s ease;
            font-size: 1.2rem;
        }
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            background: #f9f9f9;
            border-radius: 0 0 4px 4px;
        }
        .details[aria-hidden="false"] {
            max-height: 500px; /* Adjust based on content */
            padding: 1rem;
        }
        .details[aria-hidden="false"] + .trigger {
            border-radius: 0;
        }
        .content {
            margin: 0;
        }
        @media (prefers-reduced-motion: reduce) {
            .trigger .icon,
            .details {
                transition: none;
            }
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Demo</h1>
    
    <div class="example">
        <h2>Basic Expand/Collapse</h2>
        <p>This is a simple accordion-style widget. Click the button to expand or collapse the content below.</p>
        <button class="trigger" id="trigger1" aria-expanded="false" aria-controls="content1">
            Toggle Basic Content
            <span class="icon" aria-hidden="true">▼</span>
        </button>
        <div class="details" id="content1" aria-labelledby="trigger1" role="region" aria-hidden="true">
            <div class="content">
                <p>This is the expandable content for the basic example. It demonstrates how the widget can hide and show additional information on demand. The content is fully accessible and can include any HTML elements you need.</p>
                <ul>
                    <li>Item 1: First detail</li>
                    <li>Item 2: Second detail</li>
                    <li>Item 3: Third detail</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="example">
        <h2>FAQ Section</h2>
        <p>This example simulates an FAQ where each question can be expanded to reveal the answer.</p>
        <button class="trigger" id="trigger2" aria-expanded="false" aria-controls="content2">
            What is an expand/collapse widget?
            <span class="icon" aria-hidden="true">▼</span>
        </button>
        <div class="details" id="content2" aria-labelledby="trigger2" role="region" aria-hidden="true">
            <div class="content">
                <p>An expand/collapse widget, also known as an accordion, allows users to show or hide sections of content interactively. This improves accessibility by reducing cognitive load and making long pages more scannable.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const triggers = document.querySelectorAll('.trigger');
            
            triggers.forEach(trigger => {
                trigger.addEventListener('click', function() {
                    const isExpanded = this.getAttribute('aria-expanded') === 'true';
                    const targetId = this.getAttribute('aria-controls');
                    const target = document.getElementById(targetId);
                    
                    if (target) {
                        this.setAttribute('aria-expanded', !isExpanded);
                        target.setAttribute('aria-hidden', isExpanded);
                        
                        // Focus management for accessibility
                        if (!isExpanded) {
                            target.focus();
                        }
                    }
                });
                
                // Keyboard support: Enter and Space
                trigger.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        this.click();
                    }
                });
            });
        });
    </script>
</body>
</html>