<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget Demo</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background-color: #f5f5f5;
        }
        
        h1 {
            color: #333;
            margin-bottom: 2rem;
        }
        
        .example {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .example h2 {
            margin-top: 0;
            font-size: 1.25rem;
            color: #555;
        }
        
        .expand-button {
            background-color: #0066cc;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background-color 0.2s;
            width: 100%;
            text-align: left;
        }
        
        .expand-button:hover {
            background-color: #0052a3;
        }
        
        .expand-button:focus {
            outline: 3px solid #4d90fe;
            outline-offset: 2px;
        }
        
        .expand-button::before {
            content: 'â–¶';
            display: inline-block;
            transition: transform 0.2s;
            font-size: 0.875rem;
        }
        
        .expand-button[aria-expanded="true"]::before {
            transform: rotate(90deg);
        }
        
        .details {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f9f9f9;
            border-left: 4px solid #0066cc;
            border-radius: 4px;
        }
        
        .details[hidden] {
            display: none;
        }
        
        .details p {
            margin: 0 0 1rem 0;
        }
        
        .details p:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widget Examples</h1>
    
    <div class="example">
        <h2>Example 1: Basic Information</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details-1">
            What is an expand/collapse widget?
        </button>
        <div id="details-1" class="details" hidden>
            <p>An expand/collapse widget is an interactive component that allows users to show or hide content on demand. This helps keep interfaces clean and organized while still providing access to detailed information when needed.</p>
            <p>These widgets are commonly used in FAQs, navigation menus, and settings panels.</p>
        </div>
    </div>
    
    <div class="example">
        <h2>Example 2: Accessibility Features</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details-2">
            How is this widget accessible?
        </button>
        <div id="details-2" class="details" hidden>
            <p>This widget implements several accessibility features:</p>
            <ul>
                <li><strong>Semantic HTML:</strong> Uses native button elements for interaction</li>
                <li><strong>ARIA attributes:</strong> aria-expanded indicates state, aria-controls links button to content</li>
                <li><strong>Keyboard support:</strong> Fully operable with keyboard (Space/Enter to toggle)</li>
                <li><strong>Focus indicators:</strong> Clear visual focus states for keyboard navigation</li>
                <li><strong>Screen reader support:</strong> Announces expanded/collapsed state changes</li>
            </ul>
        </div>
    </div>
    
    <div class="example">
        <h2>Example 3: Usage Guidelines</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details-3">
            When should I use this pattern?
        </button>
        <div id="details-3" class="details" hidden>
            <p>Expand/collapse widgets are ideal for:</p>
            <ul>
                <li>Frequently Asked Questions (FAQs)</li>
                <li>Progressive disclosure of complex information</li>
                <li>Accordion-style navigation</li>
                <li>Settings and configuration panels</li>
                <li>Mobile-friendly interfaces where screen space is limited</li>
            </ul>
            <p>Avoid using them for critical information that users must see immediately.</p>
        </div>
    </div>
    
    <div class="example">
        <h2>Example 4: Technical Implementation</h2>
        <button class="expand-button" aria-expanded="false" aria-controls="details-4">
            How does this work technically?
        </button>
        <div id="details-4" class="details" hidden>
            <p>The implementation uses vanilla JavaScript to:</p>
            <ol>
                <li>Listen for click events on the button</li>
                <li>Toggle the aria-expanded attribute between true and false</li>
                <li>Show or hide the associated content using the hidden attribute</li>
                <li>Maintain proper ARIA relationships with aria-controls</li>
            </ol>
            <p>This approach ensures compatibility with assistive technologies while providing a smooth user experience.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const buttons = document.querySelectorAll('.expand-button');
            
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    const expanded = this.getAttribute('aria-expanded') === 'true';
                    const controlsId = this.getAttribute('aria-controls');
                    const details = document.getElementById(controlsId);
                    
                    this.setAttribute('aria-expanded', !expanded);
                    
                    if (expanded) {
                        details.setAttribute('hidden', '');
                    } else {
                        details.removeAttribute('hidden');
                    }
                });
            });
        });
    </script>
</body>
</html>