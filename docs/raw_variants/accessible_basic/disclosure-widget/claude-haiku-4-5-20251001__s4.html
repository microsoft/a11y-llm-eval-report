<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expand/Collapse Widget</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            padding: 2rem;
            line-height: 1.6;
        }

        h1 {
            margin-bottom: 2rem;
            color: #333;
        }

        .example {
            margin-bottom: 2rem;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .widget {
            display: flex;
            flex-direction: column;
        }

        button.toggle {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 1rem;
            text-align: left;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s ease;
        }

        button.toggle:hover {
            background-color: #0056b3;
        }

        button.toggle:focus {
            outline: 3px solid #004085;
            outline-offset: -3px;
        }

        button.toggle:active {
            background-color: #004085;
        }

        .toggle-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.5rem;
            height: 1.5rem;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        button.toggle[aria-expanded="true"] .toggle-icon {
            transform: rotate(180deg);
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 1rem;
        }

        .details.open {
            max-height: 500px;
            padding: 1rem;
        }

        .details p {
            color: #555;
            margin-bottom: 0.5rem;
        }

        .details p:last-child {
            margin-bottom: 0;
        }

        /* Native details element styling for comparison */
        details {
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        summary {
            background-color: #28a745;
            color: white;
            padding: 1rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        summary:hover {
            background-color: #218838;
        }

        summary:focus {
            outline: 3px solid #1e7e34;
            outline-offset: -3px;
        }

        summary::marker {
            color: white;
        }

        details[open] summary {
            background-color: #218838;
        }

        details > div {
            padding: 1rem;
            color: #555;
        }

        details > div p {
            margin-bottom: 0.5rem;
        }

        details > div p:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <h1>Expand/Collapse Widgets</h1>

    <section>
        <h2 style="font-size: 1.2rem; margin-bottom: 1.5rem; color: #333;">Custom Widget with JavaScript</h2>

        <div class="example">
            <div class="widget">
                <button class="toggle" aria-expanded="false" aria-controls="details-1">
                    <span>What is accessibility?</span>
                    <span class="toggle-icon">▼</span>
                </button>
                <div class="details" id="details-1">
                    <p>Accessibility means designing products, devices, services, or environments so that people with disabilities can use them. This includes ensuring that web content is perceivable, operable, understandable, and robust for all users.</p>
                </div>
            </div>
        </div>

        <div class="example">
            <div class="widget">
                <button class="toggle" aria-expanded="false" aria-controls="details-2">
                    <span>How do I make my website accessible?</span>
                    <span class="toggle-icon">▼</span>
                </button>
                <div class="details" id="details-2">
                    <p>To make your website accessible, follow the WCAG guidelines. Use semantic HTML, provide text alternatives for images, ensure keyboard navigation, use sufficient color contrast, and test with assistive technologies. Make sure all interactive elements are properly labeled and announced to screen readers.</p>
                </div>
            </div>
        </div>

        <div class="example">
            <div class="widget">
                <button class="toggle" aria-expanded="false" aria-controls="details-3">
                    <span>What are ARIA attributes?</span>
                    <span class="toggle-icon">▼</span>
                </button>
                <div class="details" id="details-3">
                    <p>ARIA (Accessible Rich Internet Applications) attributes help make dynamic content and advanced UI controls more accessible to people with disabilities. They provide additional information to assistive technologies when semantic HTML is insufficient.</p>
                </div>
            </div>
        </div>
    </section>

    <section style="margin-top: 3rem;">
        <h2 style="font-size: 1.2rem; margin-bottom: 1.5rem; color: #333;">Native HTML Details Element</h2>

        <div class="example">
            <details>
                <summary>Browser Compatibility</summary>
                <div>
                    <p>The native HTML <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements are widely supported in modern browsers including Chrome, Firefox, Safari, and Edge. They provide built-in accessibility features without requiring additional JavaScript.</p>
                </div>
            </details>
        </div>

        <div class="example">
            <details>
                <summary>Advantages of Native Details</summary>
                <div>
                    <p>Using the native <code>&lt;details&gt;</code> element provides automatic keyboard support, proper semantic meaning, and reduced JavaScript dependencies. Assistive technologies recognize it as an expandable section without needing custom ARIA attributes.</p>
                </div>
            </details>
        </div>

        <div class="example">
            <details>
                <summary>Styling Considerations</summary>
                <div>
                    <p>The native details element can be styled with CSS, though some browser-specific styling may be needed. The disclosure triangle can be customized, and you can apply transitions to the open/close animation for a smooth user experience.</p>
                </div>
            </details>
        </div>
    </section>

    <script>
        document.querySelectorAll('button.toggle').forEach(button => {
            button.addEventListener('click', function() {
                const isExpanded = this.getAttribute('aria-expanded') === 'true';
                const detailsId = this.getAttribute('aria-controls');
                const detailsElement = document.getElementById(detailsId);

                this.setAttribute('aria-expanded', !isExpanded);

                if (detailsElement) {
                    detailsElement.classList.toggle('open');
                }
            });

            button.addEventListener('keydown', function(event) {
                if (event.key === ' ' || event.key === 'Enter') {
                    event.preventDefault();
                    this.click();
                }
            });
        });
    </script>
</body>
</html>