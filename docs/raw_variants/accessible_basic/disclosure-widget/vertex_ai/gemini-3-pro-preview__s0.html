<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Expand/Collapse Widget Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
            color: #333;
        }

        h1 {
            margin-bottom: 2rem;
        }

        /* Styling for the widget container */
        .example {
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-bottom: 1rem;
            padding: 0.5rem;
        }

        /* Semantic HTML approach (Native <details> element) */
        summary {
            cursor: pointer;
            padding: 0.5rem;
            font-weight: bold;
            list-style: none; /* Hide default arrow to customize */
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #f4f4f4;
            border-radius: 4px;
        }

        summary:focus-visible {
            outline: 2px solid #005fcc;
            outline-offset: 2px;
        }
        
        summary:hover {
            background-color: #e2e2e2;
        }

        /* Custom arrow for <details> */
        summary::after {
            content: '';
            width: 0.8em;
            height: 0.8em;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23333'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3F%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
            transition: transform 0.2s ease-in-out;
        }

        details[open] summary::after {
            transform: rotate(180deg);
        }

        /* ARIA approach styling */
        .accordion-trigger {
            width: 100%;
            text-align: left;
            padding: 0.5rem;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            background-color: #f4f4f4;
            border: none;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion-trigger:focus-visible {
            outline: 2px solid #005fcc;
            outline-offset: 2px;
        }

        .accordion-trigger:hover {
            background-color: #e2e2e2;
        }

        .accordion-trigger[aria-expanded="true"] .icon {
            transform: rotate(180deg);
        }
        
        .icon {
            width: 1em;
            height: 1em;
            transition: transform 0.2s ease-in-out;
            display: inline-block;
        }

        /* Content container styling */
        .details {
            padding: 1rem 0.5rem;
            border-top: 1px solid transparent;
        }

        details[open] .details {
            border-top-color: #eee;
        }
        
        /* For the ARIA example, explicitly hide content when not expanded */
        .details[hidden] {
            display: none;
        }
        
        /* Show content when expanded */
        .details:not([hidden]) {
            display: block;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>

    <main>
        <h1>Expand/Collapse Widget Examples</h1>

        <h2>Option 1: Semantic HTML (Preferred)</h2>
        <p>This uses the native HTML <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements. It works without JavaScript.</p>
        
        <div class="example">
            <details>
                <summary>Shipping Information</summary>
                <div class="details">
                    <p>Standard shipping takes 3-5 business days. Expedited shipping is available for an additional fee during checkout.</p>
                </div>
            </details>
        </div>

        <div class="example">
            <details>
                <summary>Return Policy</summary>
                <div class="details">
                    <p>Items can be returned within 30 days of receipt. Please ensure original packaging is intact.</p>
                    <a href="#">Read full policy</a>
                </div>
            </details>
        </div>

        <h2>Option 2: ARIA Pattern (For custom behavior)</h2>
        <p>This uses <code>button</code> triggers and WAI-ARIA attributes to ensure accessibility for screen readers. JavaScript is required.</p>

        <div class="example">
            <h3>
                <button type="button" 
                        class="accordion-trigger" 
                        aria-expanded="false" 
                        aria-controls="sect1" 
                        id="accordion1id">
                    <span>Payment Methods</span>
                    <span class="icon" aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </span>
                </button>
            </h3>
            <div id="sect1" 
                 role="region" 
                 aria-labelledby="accordion1id" 
                 class="details" 
                 hidden>
                <p>We accept Visa, Mastercard, American Express, and PayPal. Crypto payments are currently not supported.</p>
            </div>
        </div>

        <div class="example">
            <h3>
                <button type="button" 
                        class="accordion-trigger" 
                        aria-expanded="false" 
                        aria-controls="sect2" 
                        id="accordion2id">
                    <span>Privacy Settings</span>
                    <span class="icon" aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </span>
                </button>
            </h3>
            <div id="sect2" 
                 role="region" 
                 aria-labelledby="accordion2id" 
                 class="details" 
                 hidden>
                <p>You can manage your cookie preferences and data sharing settings in your user profile.</p>
            </div>
        </div>

    </main>

    <script>
        /**
         * Simple script to handle ARIA-based accordion logic.
         * The <details> element handles its own logic natively.
         */
        document.addEventListener('DOMContentLoaded', () => {
            const triggers = document.querySelectorAll('.accordion-trigger');

            triggers.forEach(trigger => {
                trigger.addEventListener('click', () => {
                    const isExpanded = trigger.getAttribute('aria-expanded') === 'true';
                    const controlsId = trigger.getAttribute('aria-controls');
                    const content = document.getElementById(controlsId);

                    if (!content) return;

                    // Toggle state
                    trigger.setAttribute('aria-expanded', !isExpanded);
                    
                    if (isExpanded) {
                        content.hidden = true;
                    } else {
                        content.hidden = false;
                    }
                });
                
                // Optional: Allow Space key to toggle (buttons handle Enter/Space natively usually, 
                // but explicit handling ensures consistency across browsers if type="button" fails)
                trigger.addEventListener('keydown', (e) => {
                    if (e.key === ' ' || e.key === 'Enter') {
                        e.preventDefault();
                        trigger.click();
                    }
                });
            });
        });
    </script>
</body>
</html>