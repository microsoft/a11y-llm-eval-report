<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Dialog Example</title>
    <style>
        /* Reset and base styles for accessibility */
        * {
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.5;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        button:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }

        button:hover {
            background-color: #0056b3;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
        }

        .modal[open] {
            display: flex;
        }

        .modal-dialog {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 10px;
        }

        .modal-title {
            margin: 0;
            font-size: 1.25rem;
            font-weight: bold;
        }

        .close-button {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-button:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }

        .close-button:hover {
            background-color: #f8f9fa;
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            border-top: 1px solid #dee2e6;
            padding-top: 10px;
        }

        .btn-secondary {
            background-color: #6c757d;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        /* Focus management */
        .modal[open] .modal-dialog {
            outline: none;
        }

        /* Screen reader only */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Responsive */
        @media (max-width: 576px) {
            .modal-dialog {
                margin: 10% auto;
                width: 95%;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <main>
        <h1>Modal Dialog Example</h1>
        <p>This example demonstrates an accessible modal dialog component. Click the button below to open the modal.</p>
        <button type="button" class="trigger" aria-controls="modal1" aria-haspopup="dialog">Open Modal</button>
    </main>

    <dialog id="modal1" class="modal" aria-labelledby="modal-title" aria-describedby="modal-description" aria-modal="true">
        <div class="modal-dialog">
            <div class="modal-header">
                <h2 id="modal-title" class="modal-title">Modal Title</h2>
                <button type="button" class="close-button" aria-label="Close modal">
                    &times;
                </button>
            </div>
            <div class="modal-body">
                <p id="modal-description">This is the content of the modal dialog. It is fully accessible and can be navigated using keyboard only. The modal traps focus and can be closed using the Escape key, the close button, or the Cancel button.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary">Cancel</button>
                <button type="button">OK</button>
            </div>
        </div>
    </dialog>

    <script>
        // Modal functionality
        const modal = document.getElementById('modal1');
        const triggerButton = document.querySelector('.trigger');
        const closeButton = modal.querySelector('.close-button');
        const cancelButton = modal.querySelector('.btn-secondary');
        const okButton = modal.querySelector('button:not(.btn-secondary):not(.close-button):not(.trigger)');

        // Open modal
        triggerButton.addEventListener('click', () => {
            modal.showModal();
            modal.querySelector('.modal-title').focus();
        });

        // Close modal functions
        const closeModal = () => {
            modal.close();
            triggerButton.focus(); // Return focus to trigger
        };

        closeButton.addEventListener('click', closeModal);
        cancelButton.addEventListener('click', closeModal);
        okButton.addEventListener('click', closeModal);

        // Close on Escape key
        modal.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Trap focus within modal
        modal.addEventListener('focus', (e) => {
            if (modal !== e.target && !modal.contains(e.target)) {
                modal.querySelector('.modal-title').focus();
            }
        }, true);

        // Prevent background scrolling
        modal.addEventListener('open', () => {
            document.body.style.overflow = 'hidden';
        });

        modal.addEventListener('close', () => {
            document.body.style.overflow = '';
        });
    </script>
</body>
</html>