<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Accessible Modal Example</title>
<style>
  :root { color-scheme: light dark; }
  body { font-family: system-ui, sans-serif; margin: 0; padding: 2rem; line-height: 1.5; }
  .trigger { padding: 0.6rem 1rem; font-size: 1rem; }
  dialog { max-width: 32rem; width: 90%; border: none; border-radius: 0.5rem; padding: 0; }
  dialog::backdrop { background: rgba(0,0,0,0.5); }
  .modal-content { padding: 1.5rem; }
  .modal-actions { display: flex; gap: 0.5rem; justify-content: flex-end; padding: 0 1.5rem 1.5rem; }
  button { cursor: pointer; }
</style>
</head>
<body>
<main>
  <h1>Modal Dialog Example</h1>
  <p>This is an accessible modal dialog example. Use the button to open it.</p>
  <button class="trigger" id="openModal" type="button">Open dialog</button>
</main>

<dialog id="exampleDialog" aria-labelledby="dialogTitle" aria-describedby="dialogDesc">
  <div class="modal-content">
    <h2 id="dialogTitle">Example modal dialog</h2>
    <p id="dialogDesc">This dialog is keyboard accessible. Press Escape or use the close button to dismiss it.</p>
  </div>
  <div class="modal-actions">
    <button type="button" id="closeModal">Close</button>
  </div>
</dialog>

<script>
  const openBtn = document.getElementById('openModal');
  const dialog = document.getElementById('exampleDialog');
  const closeBtn = document.getElementById('closeModal');
  let lastFocused = null;

  function openDialog() {
    lastFocused = document.activeElement;
    dialog.showModal();
    closeBtn.focus();
  }

  function closeDialog() {
    dialog.close();
    if (lastFocused) lastFocused.focus();
  }

  openBtn.addEventListener('click', openDialog);
  closeBtn.addEventListener('click', closeDialog);
  dialog.addEventListener('cancel', (e) => {
    e.preventDefault();
    closeDialog();
  });
  dialog.addEventListener('close', () => {
    if (document.activeElement === dialog) {
      openBtn.focus();
    }
  });
</script>
</body>
</html>